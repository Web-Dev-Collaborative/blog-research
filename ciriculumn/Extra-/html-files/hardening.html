<h1 id="advanced-operating-systems-adventure-hardening-a-linux-server">Advanced Operating Systems Adventure: Hardening a Linux Server</h1>
<h3 id="projected-time">Projected Time</h3>
<p>90-120 minutes</p>
<h3 id="motivation">Motivation</h3>
<p>Teach a participant how to protect an internet-facing POSIX-compliant server with common tools and techniques. This is relevant for systems engineering jobs such as IT and DevOps.</p>
<h3 id="objectives">Objectives</h3>
<p>Participants will be able to:</p>
<ul>
<li>Run processes as non-root accounts with least privilege.</li>
<li>Configure a local firewall.</li>
<li>Explain the difference between virtual machines and containers.</li>
<li>Ask partner teams for more layers of security.</li>
</ul>
<h3 id="specific-things-to-learn">Specific Things to Learn</h3>
<ul>
<li>The importance of patching what you have (and removing what you don’t need)</li>
<li>File system permissions and chattr</li>
<li>Running apps as non-root (assuming users and groups was covered in 101)</li>
<li>SELinux policies</li>
<li>Limiting ssh access (no root, passwordless, 2FA)</li>
<li>Firewalls</li>
<li>chroot vs cgroups vs jails vs Docker vs VMs</li>
<li>Security software, WAFs, vulnerability scanning</li>
</ul>
<h3 id="materials">Materials</h3>
<ul>
<li><a href="https://www.cisecurity.org/cis-benchmarks/">CIS benchmarks</a></li>
<li><a href="https://wiki.centos.org/HowTos/SELinux">HowTos/SELinux - CentOS Wiki</a></li>
<li><a href="https://wiki.centos.org/HowTos/Network/IPTables">HowTos/Network/IPTables - CentOS Wiki</a></li>
</ul>
<h3 id="lesson">Lesson</h3>
<p>Here’s text about introducing something and how it works.</p>
<p>Make sure to mention these things:</p>
<ul>
<li>Things - This is a sub-thing</li>
<li>More things</li>
</ul>
<h3 id="common-mistakes-misconceptions">Common Mistakes / Misconceptions</h3>
<ul>
<li>Not patching machines and applications. Keep an eye on the common vulnerabilities and exposures list (<a href="https://cve.mitre.org/">CVE</a>) to see what in your environment needs to be patched. Other tools, such as a vulnerability scanner, may be able to tell you to what your server is actually vulnerable.</li>
<li>Not reading your logs. Remember to look at your logs! Ideally, you are piping them into centralized log management and maybe even into a security incident and event monitor (SIEM), which searches all your logs for suspicious activity.</li>
</ul>
<h3 id="guided-practice">Guided Practice</h3>
<p>Harden Apache with SELinux.</p>
<h3 id="independent-practice">Independent Practice</h3>
<p>Spin up a vanilla Linux VM and harden it according to <a href="https://www.cisecurity.org/cis-benchmarks/">CIS benchmarks</a>.</p>
<h3 id="challenge">Challenge</h3>
<p>Open the firehose: look at auditd and learn how to write filtering policies for it, and read the logs from a file. Stand up ELK or Splunk on a developer’s license and get some machines to start sending logs.</p>
<h3 id="check-for-understanding">Check for Understanding</h3>
<p>Have participants summarize to each other, make a cheat sheet, take a quiz, do an assignment, or something else that helps assess their understanding.</p>
