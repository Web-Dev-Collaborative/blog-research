<hr />
<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->
<hr />
<h1 id="giphy-search-project">Giphy Search Project</h1>
<p>Today’s project will help you become more comfortable with the full Redux cycle! You will build out a single Redux cycle for a Giphy search tool.</p>
<p>When a user enters a search query, a fetch action will use the search endpoint from the Giphy API to return the fetch response. The action will then be dispatched to update the application’s global state provided by the Redux store. Your application will then use a slice of state to render an index of GIF results.</p>
<p>Your completed project will look something like this:</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-hooks/assets/giphy-search.gif" alt="giphy-search" /><figcaption>giphy-search</figcaption>
</figure>
<h2 id="phase-0-set-up-the-project">Phase 0: Set up the project</h2>
<p>You’ll begin by cloning this repository containing basic skeleton files and the conventional frontend folders (<code>actions</code>, <code>components</code>, <code>reducers</code>, and <code>util</code>).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">git</span> clone https://github.com/appacademy-starters/react-redux-giphy-starter.git</a></code></pre></div>
<p>Take a moment to familiarize yourself with the file structure. Look inside all the frontend files and note the <code>TODO</code> notes in each file skeleton. Throughout the next phases of the project, you’ll finish all the tasks listed in the <code>TODO</code> notes to create your very own Giphy search app!</p>
<p>After you have reviewed the <code>TODO</code> notes, run <code>npm install</code> to install your application’s packages. Note that you have <code>redux</code>, <code>react-redux</code>, <code>redux-thunk</code>, and <code>redux-logger</code> already listed as dependencies in your project’s <code>package.json</code> file. You’ll use Redux <code>thunk</code> as middleware to connect (or <em>dispatch</em>) your fetch results into the Redux store. You’ll use Redux <code>logger</code> as middleware to automatically console log your dispatched actions.</p>
<h3 id="component-overview">Component overview</h3>
<p>Now that you’re acquainted with the file structure, let’s map out an overview of the component hierarchy:</p>
<pre><code>Root
  AppContainer
    App
      SearchBar
      Gifs</code></pre>
<ul>
<li>The <code>Root</code> component is responsible for providing the component tree with the Redux <code>store</code>. It renders the <code>AppContainer</code>.</li>
<li>The <code>AppContainer</code> passes the <code>gifs</code> slice of state and the dispatched <code>fetchGifs</code> action creator as props to the <code>App</code> component. It wraps the <code>App</code> component to connect the component to the Redux store.</li>
<li>The <code>App</code> component renders the <code>GifsList</code> and the <code>SearchBar</code>. It uses its <code>gifs</code> prop (passed into <code>App</code> through <code>mapStateToProps</code>) to create and pass a <code>gifUrls</code> array as a prop to the <code>GifsList</code>. It also uses its <code>fetchGifs</code> prop (passed into <code>App</code> through <code>mapDispatchToProps</code>) as a prop to the <code>SearchBar</code> component.</li>
<li>The <code>SearchBar</code> component handles all of the search logic (keeping track of the query and triggering the fetch request on submit).</li>
<li>The <code>GifsList</code> component iterates over its <code>gifUrls</code> prop, to render an image for each one.</li>
</ul>
<h3 id="giphy-api-key">Giphy API key</h3>
<p>Before you start, let’s create a Giphy API Key to use in your fetch requests to the Giphy API. Get started by <a href="https://giphy.com/join">creating a Giphy account</a>. Then navigate to the <a href="https://developers.giphy.com/docs/api/#quick-start-guide">Giphy API Quick Start Guide</a> and click <code>Create an App</code>.</p>
<p>Fill out the form for creating a new app, and only check the option for <code>I only want to use the GIPHY API</code>.</p>
<figure>
<img src="https://assets.aaonline.io/fullstack/react/assets/giphy_api_key.png" alt="Giphy Example" /><figcaption>Giphy Example</figcaption>
</figure>
<p>Once you’ve submitted the form, you’ll be taken to a dashboard, and under the <code>Your Apps</code> section, you should see your newly created app with an API Key that you will use for this project. As a reminder, API keys normally shouldn’t be stored in client-side JavaScript. You would normally want to store the keys in your server-side code. To keep this project a simple, front-end only project, you’ll store the API key in a front-end environment variable for convenience. Take a moment to create an <code>.env</code> file in the root of your project and set an environment variable with your API key, like so:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1">REACT_APP_GIPHY_API_KEY<span class="op">=&lt;&lt;</span>YOUR API KEY<span class="op">&gt;&gt;</span></a></code></pre></div>
<p>Notice that your <code>config.js</code> file is already exporting your <code>REACT_APP_GIPHY_API_KEY</code> environment variable as <code>apiKey</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="im">export</span> <span class="kw">const</span> apiKey <span class="op">=</span> <span class="va">process</span>.<span class="va">env</span>.<span class="at">REACT_APP_GIPHY_API_KEY</span></a></code></pre></div>
<p>This means that you can import the API key from any of your frontend components with the following import statement:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="im">import</span> <span class="op">{</span> apiKey <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../config&#39;</span><span class="op">;</span></a></code></pre></div>
<h2 id="phase-1-fetch-data-in-the-redux-cycle">Phase 1: Fetch data in the Redux cycle</h2>
<p>Before you begin to build the project, it’s important to think about the state shape. You know that you want to display GIF results returned by a fetch request. This means you’ll probably want a <code>gifs</code> slice of the state that holds a collection of <code>gif</code> objects.</p>
<h3 id="state-shape">State shape</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="dt">gifs</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="co">// gif objects  </span></a>
<a class="sourceLine" id="cb6-4" title="4">  ]</a>
<a class="sourceLine" id="cb6-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>As a reminder, you pass the <code>gifs</code> slice of state as a prop to the <code>App</code> component in the <code>AppContainer</code> through the <code>mapStateToProps</code> function.</p>
<h3 id="api-util">API util</h3>
<p>The first part of creating your Redux cycle for fetching GIFs is creating a fetch request that will be connected to a <em>thunk action creator</em>. Define and export a <code>fetchGifs</code> function in the <code>apiUtil.js</code> file. This function will make a fetch call to the Giphy API’s search endpoint.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// apiUtil.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="im">import</span> <span class="op">{</span> apiKey <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;../config&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="im">export</span> <span class="kw">const</span> fetchGifs <span class="op">=</span> searchTerm <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="co">// </span><span class="al">TODO</span><span class="co">: Write a fetch call to the Giphy API&#39;s search endpoint</span></a>
<a class="sourceLine" id="cb7-6" title="6">)</a></code></pre></div>
<p>It will take a single argument, the <code>searchQuery</code> entered by a user. You can check out the <a href="https://github.com/Giphy/GiphyAPI">Giphy API docs</a> for more details, but in short, you want to make a fetch request to the following endpoint:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="vs">`http://api.giphy.com/v1/gifs/search?api_key=</span><span class="sc">${</span>apiKey<span class="sc">}</span><span class="vs">&amp;q=</span><span class="sc">${</span>searchTerm<span class="sc">}</span><span class="vs">&amp;limit=3`</span></a></code></pre></div>
<p>The <code>searchQuery</code> will be replaced with your user’s actual query. You should tag <code>&amp;limit=3</code> onto the end of your query string to tell Giphy you only want three GIF responses. The Giphy API is relatively slow, so keeping the response size down helps optimize your application’s performance.</p>
<p>Remember, it’s best to test small pieces as we go. Let’s test out that fetch request from your developer tools console to make sure it’s doing what you’re intending.</p>
<p>You may need to restart your server to have your application process the environment variables set in your <code>.env</code> file.</p>
<p>Import your <code>fetchGifs</code> function to the entry <code>index.js</code> file, then go ahead and put it on the window so we have access to it in the console:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="im">import</span> Root <span class="im">from</span> <span class="st">&#39;./components/Root&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="im">import</span> <span class="op">{</span> fetchGifs <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./util/apiUtil&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="va">window</span>.<span class="at">fetchGifs</span> <span class="op">=</span> fetchGifs<span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8"></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb9-10" title="10">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-11" title="11">    <span class="op">&lt;</span>Root /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-12" title="12">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb9-13" title="13">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;root&quot;</span>)</a>
<a class="sourceLine" id="cb9-14" title="14">)<span class="op">;</span></a></code></pre></div>
<p>Try running this test code:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">fetchGifs</span>(<span class="st">&#39;puppy&#39;</span>).<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="va">res</span>.<span class="at">json</span>()).<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">res</span>.<span class="at">data</span>))<span class="op">;</span></a></code></pre></div>
<p>This will make the fetch request, which will return a promise. You’ll chain on a <code>.then</code> to parse the response and log the parsed response data. You should see an array of three objects. Those are your gif objects fetched from the Giphy API! Make sure you get this working before moving on, and don’t forget to remove <code>fetchGifs</code> from the window once you’re done testing.</p>
<h2 id="phase-2-redux-actions">Phase 2: Redux actions</h2>
<p>Next, you’ll set up an <a href="https://redux.js.org/basics/actions">action</a> to properly receive GIF payload information (your fetch responses). As always, you want to export constants for your action types set to strings of your action types. As a reminder, this is to prevent bugs from mistyping your action types.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="im">export</span> <span class="kw">const</span> RECEIVE_GIFS <span class="op">=</span> <span class="st">&#39;RECEIVE_GIFS&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Now it’s time to write a function that returns your <code>action</code>, an object literal. Write <code>receiveGifs</code> as a function that takes in <code>gifs</code> data as a parameter and returns an action object. The object should have two keys: one for the <code>type</code> and another for the <code>gifs</code> data. Your function should look like the following:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> receiveGifs <span class="op">=</span> gifs <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="dt">type</span><span class="op">:</span> RECEIVE_GIFS<span class="op">,</span></a>
<a class="sourceLine" id="cb12-4" title="4">    gifs</a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="op">};</span></a></code></pre></div>
<p>Before testing this action creator, you’ll need a reducer.</p>
<h3 id="gifsreducer">gifsReducer</h3>
<p>Let’s write a switch case and default switch return in your <code>gifsReducer.js</code> file. Note that the <code>gifsReducer</code> function receives the previous <code>state</code> and an <code>action</code>. Recall that a reducer describes how a slice of state should change based on a dispatched action. It should always return the new state without mutating the previous state. If the action dispatched to the reducer should not change the state, the reducer should return the previous <code>state</code> by default. You will need to import the <code>RECEIVE_GIFS</code> constant from your <code>gifActions.js</code> file.</p>
<p>Your reducer should look similar to the this one:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="co">// </span><span class="al">TODO</span><span class="co">: Import the `RECEIVE_GIFS` constant</span></a>
<a class="sourceLine" id="cb13-2" title="2"></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="kw">const</span> gifsReducer <span class="op">=</span> (state <span class="op">=</span> []<span class="op">,</span> action) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-4" title="4">  <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb13-5" title="5">    <span class="co">// </span><span class="al">TODO</span><span class="co">: Return the GIFs from the action object if the action type is `RECEIVE_GIFS`</span></a>
<a class="sourceLine" id="cb13-6" title="6">    <span class="co">// </span><span class="al">TODO</span><span class="co">: Return the previous state by default</span></a>
<a class="sourceLine" id="cb13-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="op">};</span></a>
<a class="sourceLine" id="cb13-9" title="9"></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="im">export</span> <span class="im">default</span> gifsReducer<span class="op">;</span></a></code></pre></div>
<h3 id="rootreducer">rootReducer</h3>
<p>Recall the state shape you saw earlier in the project instructions. The <code>gifsReducer</code> above should control the <code>gifs</code> slice of the application state. You’ll create and export a <code>rootReducer</code> with Redux’s <code>combineReducers</code> function to assign control of different slices of state to their prospective reducer functions to create the application state structure.</p>
<p>This project only needs one reducer, but using <code>combineReducers</code> would allow you to easily add more state slices in the future.</p>
<p>The <code>combineReducers</code> function has already been imported for you. Take a moment to import your <code>gifsReducer</code> and set the <code>gifs</code> slice of state to its reducer, like so:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1">gifs<span class="op">:</span> gifsReducer<span class="op">,</span></a></code></pre></div>
<p>Now that you have your reducers set up to structure your application’s global state, you’ll need to set up the Redux store to hold that global state.</p>
<h2 id="phase-3-the-redux-store">Phase 3: The Redux store</h2>
<p>The store holds the global state of an application, so you’ll need to create it before you can test your reducer. Remember that Redux provides a <code>createStore</code> function that receives a <code>reducer</code>, optional <code>preloadedState</code>, and an optional <code>enhancer</code>. Begin by writing a <code>configureStore</code> function that passes your <code>rootReducer</code> to <code>createStore</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="co">// store.js</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="im">import</span> <span class="op">{</span> createStore <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">// </span><span class="al">TODO</span><span class="co">: Import middleware</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="im">import</span> rootReducer <span class="im">from</span> <span class="st">&#39;./reducers/rootReducer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5"></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw">const</span> configureStore <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-7" title="7">  <span class="cf">return</span> <span class="at">createStore</span>(rootReducer)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="op">};</span></a>
<a class="sourceLine" id="cb15-9" title="9"></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="im">export</span> <span class="im">default</span> configureStore<span class="op">;</span></a></code></pre></div>
<p>Import <code>configureStore</code> into your entry <code>index.js</code> file, then use the function to generate the Redux store.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">const</span> store <span class="op">=</span> <span class="at">configureStore</span>()<span class="op">;</span></a></code></pre></div>
<p>Now you’ll work on providing the store you have generated to your application’s components! Begin by passing the <code>store</code> you’ve generated as a prop to the <code>Root</code> component. Your <code>index.js</code> file should look something like this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="im">import</span> Root <span class="im">from</span> <span class="st">&#39;./components/Root&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="im">import</span> configureStore <span class="im">from</span> <span class="st">&#39;./store&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="im">import</span> <span class="op">{</span> fetchGifs <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./util/apiUtil&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="va">window</span>.<span class="at">fetchGifs</span> <span class="op">=</span> fetchGifs<span class="op">;</span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="kw">const</span> store <span class="op">=</span> <span class="at">configureStore</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-10" title="10"></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb17-12" title="12">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb17-13" title="13">    <span class="op">&lt;</span>Root store<span class="op">={</span>store<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb17-14" title="14">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb17-15" title="15">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb17-16" title="16">)<span class="op">;</span></a></code></pre></div>
<p>Now go into your <code>Root.js</code> file and import <code>Provider</code> from <code>react-redux</code>. Use the <code>Provider</code> component to set the Redux store through the <code>Provider</code> component’s expected <code>store</code> prop. Remember how you have just configured and passed a <code>store</code> as a prop to the <code>Root</code> component in your entry file (<code>index.js</code>). Use the <code>Root</code> component’s <code>store</code> prop to set the <code>store</code> prop of the <code>Provider</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="co">// Root.js</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="im">import</span> <span class="op">{</span> Provider <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-5" title="5"></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="kw">const</span> Root <span class="op">=</span> (<span class="op">{</span> store <span class="op">}</span>) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb18-7" title="7">  <span class="op">&lt;</span>Provider store<span class="op">={</span>store<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb18-8" title="8">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-9" title="9">  &lt;/Provider<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-10" title="10">)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-11" title="11"></a>
<a class="sourceLine" id="cb18-12" title="12"><span class="im">export</span> <span class="im">default</span> Root<span class="op">;</span></a></code></pre></div>
<p>Now that you have configured your Redux store and tested your <code>fetchGifs</code> function, let’s connect the function to the store to implement a full Redux cycle. In the next phase, you’ll define a <em>thunk action creator</em> function and use the <code>thunk</code> middleware so that each fetch response is dispatched as a change to the global application <code>state</code>.</p>
<h2 id="phase-4-thunk-middleware">Phase 4: Thunk middleware</h2>
<p>Let’s refactor how you fetch GIFs by using a thunk action creator. Recall that we use a <em>thunk action creator</em> to return a function. When that function is called with an argument of <code>dispatch</code>, the function can dispatch additional actions.</p>
<p>Begin by refactoring your <code>configureStore</code> function in the <code>store.js</code> file to incorporate your thunk middleware. Remember that Redux provides <code>thunk</code> middleware from the <code>redux-thunk</code> module. Import the <code>thunk</code> middleware and <code>applyMiddleware</code> function from Redux. You’ll use the <code>applyMiddleware</code> function, with your <code>thunk</code> middleware as an argument, to set the optional <code>enhancer</code> argument in the <code>createStore</code> function:</p>
<p>Your <code>store.js</code> file should now include the following:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="im">import</span> <span class="op">{</span> createStore<span class="op">,</span> applyMiddleware <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="im">import</span> thunk <span class="im">from</span> <span class="st">&#39;redux-thunk&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-3" title="3"><span class="im">import</span> rootReducer <span class="im">from</span> <span class="st">&#39;./reducers/rootReducer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-4" title="4"></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="kw">const</span> configureStore <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb19-6" title="6">  <span class="cf">return</span> <span class="at">createStore</span>(rootReducer<span class="op">,</span> <span class="at">applyMiddleware</span>(thunk))<span class="op">;</span></a>
<a class="sourceLine" id="cb19-7" title="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb19-8" title="8"></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="im">export</span> <span class="im">default</span> configureStore<span class="op">;</span></a></code></pre></div>
<p>Now your Redux cycle is almost good to go! To summarize your progress to this point, you have configured your Redux store, provided the store to your application, written a fetch function in a util file, defined an action type, and defined an action creator.</p>
<p>The last step is to define a <em>thunk action creator</em> that will dispatch the <code>receiveGifs</code> action after the Giphy API call is successful!</p>
<p>Begin by importing your API util function into your <code>gifActions.js</code> file. Since you want to easily associate your <em>thunk action creators</em> with a specific action, and you’ll often have more than one function exported from your util file, use a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#Description">namespace</a> to import your fetch function:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> APIUtil <span class="im">from</span> <span class="st">&#39;../util/apiUtil&#39;</span><span class="op">;</span></a></code></pre></div>
<p>You would then invoke your <code>fetchGifs</code> function in your <code>apiUtil.js</code> file like so:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="va">APIUtil</span>.<span class="at">fetchGifs</span>(searchQuery)<span class="op">;</span></a></code></pre></div>
<p>Now it’s time to write your <em>thunk action creator</em>! Define and export a function named <code>fetchGifs</code> that receives a search term and returns a function that can be called with <code>dispatch</code>. Your function will use a promise to parse the fetch response to JSON and dispatch the <code>receiveGifs</code> action with the fetch response data after the <code>APIUtil.fetchGifs</code> call is successful.</p>
<p>Your <em>thunk action creator</em> should look like the following:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="im">export</span> <span class="kw">const</span> fetchGifs <span class="op">=</span> searchTerm <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-2" title="2">  <span class="cf">return</span> dispatch <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="cf">return</span> <span class="va">APIUtil</span>.<span class="at">fetchGifs</span>(searchTerm)</a>
<a class="sourceLine" id="cb22-4" title="4">      .<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="va">res</span>.<span class="at">json</span>())</a>
<a class="sourceLine" id="cb22-5" title="5">      .<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="at">dispatch</span>(<span class="at">receiveGifs</span>(<span class="va">res</span>.<span class="at">data</span>)))<span class="op">;</span></a>
<a class="sourceLine" id="cb22-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="op">};</span></a></code></pre></div>
<p>Or you can clean up the function by using implicit returns with ES6 arrow functions:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="im">export</span> <span class="kw">const</span> fetchGifs <span class="op">=</span> searchTerm <span class="kw">=&gt;</span> dispatch <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb23-2" title="2">  <span class="va">APIUtil</span>.<span class="at">fetchGifs</span>(searchTerm)</a>
<a class="sourceLine" id="cb23-3" title="3">    .<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="va">res</span>.<span class="at">json</span>())</a>
<a class="sourceLine" id="cb23-4" title="4">    .<span class="at">then</span>(res <span class="kw">=&gt;</span> <span class="at">dispatch</span>(<span class="at">receiveGifs</span>(<span class="va">res</span>.<span class="at">data</span>)))</a>
<a class="sourceLine" id="cb23-5" title="5">)<span class="op">;</span></a></code></pre></div>
<h2 id="phase-5-test-your-thunk-action-creator">Phase 5: Test your thunk action creator</h2>
<p>Let’s take a moment to test your the <code>fetchGifs</code> <em>thunk action creator</em> you just defined.</p>
<p>Import <code>fetchGifs</code> from your <code>gifActions.js</code> file to your entry <code>index.js</code> file. You’ll hit the error <code>Parsing error: Identifier 'fetchGifs' has already been declared</code> since have already imported the <code>fetchGifs</code> function from your <code>apiUtil.js</code> file. Note that this is why using a namespace to <code>import * as APIUtil</code> from your <code>apiUtil.js</code> file is important.</p>
<p>Update the import statement from your <code>./util/apiUtil.js</code> file with a namespace:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> APIUtil <span class="im">from</span> <span class="st">&#39;./util/apiUtil&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Now you’ll want to put your fetch function, thunk action creator, and Redux store on the window. This way you can view your application’s global state and compare the result of your fetch function and the dispatched thunk action creator:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-3" title="3"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-4" title="4"><span class="im">import</span> Root <span class="im">from</span> <span class="st">&#39;./components/Root&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-5" title="5"><span class="im">import</span> configureStore <span class="im">from</span> <span class="st">&#39;./store&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-6" title="6"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> APIUtil <span class="im">from</span> <span class="st">&#39;./util/apiUtil&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-7" title="7"><span class="im">import</span> <span class="op">{</span> fetchGifs <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./actions/gifActions&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-8" title="8"></a>
<a class="sourceLine" id="cb25-9" title="9"><span class="kw">const</span> store <span class="op">=</span> <span class="at">configureStore</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb25-10" title="10"><span class="va">window</span>.<span class="at">apiFetchGifs</span> <span class="op">=</span> <span class="va">APIUtil</span>.<span class="at">fetchGifs</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-11" title="11"><span class="va">window</span>.<span class="at">fetchGifs</span> <span class="op">=</span> fetchGifs<span class="op">;</span></a>
<a class="sourceLine" id="cb25-12" title="12"><span class="va">window</span>.<span class="at">store</span> <span class="op">=</span> store<span class="op">;</span></a>
<a class="sourceLine" id="cb25-13" title="13"></a>
<a class="sourceLine" id="cb25-14" title="14"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb25-15" title="15">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb25-16" title="16">    <span class="op">&lt;</span>Root store<span class="op">={</span>store<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb25-17" title="17">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb25-18" title="18">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb25-19" title="19">)<span class="op">;</span></a></code></pre></div>
<p>Now you’ll use the <code>getState()</code> and <code>dispatch(action)</code> <a href="https://redux.js.org/api/store">store methods</a> to view and update your application’s global state. Try the following code in the browser’s console before continuing to the next phase:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"> <span class="co">// Return the initial application state</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb26-3" title="3"></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="co">// Use the thunk action creator to dispatch the fetch response and populate state</span></a>
<a class="sourceLine" id="cb26-5" title="5"><span class="va">store</span>.<span class="at">dispatch</span>(<span class="at">fetchGifs</span>(<span class="st">&#39;puppy&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb26-6" title="6"></a>
<a class="sourceLine" id="cb26-7" title="7"><span class="co">// Return the application state populated with GIFs</span></a>
<a class="sourceLine" id="cb26-8" title="8"><span class="va">store</span>.<span class="at">getState</span>()<span class="op">;</span></a></code></pre></div>
<p>Congratulations! You just wrote a Redux cycle to populate your application’s global state with a response from the Giphy API.</p>
<p>Notice how your application’s global state changed after invoking the <code>dispatch(fetchGifs('puppy))</code> method. Now you can pass the <code>fetchGifs</code> <em>thunk action creator</em> through a Redux container so that a fetch call can be dispatched from your component to update the global state in the same way!</p>
<h2 id="phase-6-logger-middleware">Phase 6: Logger middleware</h2>
<p>Now instead of manually logging the status of your global state and the response of your dispatch call, you can use the Redux <code>logger</code> middleware to automatically do so. Import <code>logger</code> from <code>redux-logger</code> into your <code>store.js</code> file:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="im">import</span> logger <span class="im">from</span> <span class="st">&#39;redux-logger&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Just like how you applied your <code>thunk</code> middleware to your configured store, you’ll invoke the <code>applyMiddleware()</code> function with your <code>logger</code> middleware. Your updated <code>store.js</code> file should look something like this:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="co">// store.js</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="im">import</span> <span class="op">{</span> createStore<span class="op">,</span> applyMiddleware <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="im">import</span> thunk <span class="im">from</span> <span class="st">&#39;redux-thunk&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="im">import</span> logger <span class="im">from</span> <span class="st">&#39;redux-logger&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="im">import</span> rootReducer <span class="im">from</span> <span class="st">&#39;./reducers/rootReducer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-6" title="6"></a>
<a class="sourceLine" id="cb28-7" title="7"><span class="kw">const</span> configureStore <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb28-8" title="8">  <span class="cf">return</span> <span class="at">createStore</span>(rootReducer<span class="op">,</span> <span class="at">applyMiddleware</span>(thunk<span class="op">,</span> logger))<span class="op">;</span></a>
<a class="sourceLine" id="cb28-9" title="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb28-10" title="10"></a>
<a class="sourceLine" id="cb28-11" title="11"><span class="im">export</span> <span class="im">default</span> configureStore<span class="op">;</span></a></code></pre></div>
<p>Now go back to your browser’s console and dispatch a fetch request:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" title="1"><span class="ex">store.dispatch</span>(fetchGifs(<span class="st">&#39;puppy&#39;</span>))</a></code></pre></div>
<p>Upon a successful fetch, you should have received a helpful log with your application’s <code>prev state</code>, the dispatched <code>action</code> object, and your application’s <code>next state</code> from the <code>logger</code> middleware you just utilized!</p>
<h2 id="phase-7-container-component">Phase 7: Container component</h2>
<p>Now that you’ve set up the global state of your application, it’s time to connect your React components to the global state! Remember how you used the <code>Provider</code> component in your <code>Root.js</code> file to pass the configured <code>store</code> as a prop to the <code>Provider</code> component.</p>
<p>Just like how a <code>Context.Provider</code> component expects <code>value</code> as a prop to set the context object, the Redux <code>Provider</code> component expects <code>store</code> as a prop to share the store’s global state with nested components. Instead of rendering your <code>App</code> component as the child of the <code>Provider</code>, you’ll render an <code>AppContainer</code>.</p>
<h3 id="appcontainer">AppContainer</h3>
<p>In your <code>AppContainer.js</code> file, you will define a <code>mapStateToProps</code> function and a <code>mapDispatchToProps</code> function and invoke the <code>connect()</code> function from Redux. Invoking the <code>connect()</code> function will connect the <code>App</code> component with the Redux store. Within the container, you will pass slices of <code>state</code> and dispatched <em>thunk action creators</em> as props to the <code>App</code> component.</p>
<p>Note that the skeleton has already imported the <code>connect</code> function from <code>react-redux</code>, your <code>fetchGifs</code> thunk action creator from the <code>gifAction.js</code> file, and the <code>App</code> component.</p>
<p>Take a look at the code skeletons of the <code>mapStateToProps</code> and <code>mapDispatchToProps</code> functions. Think of these functions as functions that take in <code>state</code> or <code>dispatch</code> as arguments to return object literals that represent the props that your <code>App</code> component will receive.</p>
<p>Have your <code>mapStateToProps</code> function return an object with a <code>gifs</code> property set to the <code>state.gifs</code> slice of state. Doing this will pass a <code>gifs</code> prop into your <code>App</code> component.</p>
<p>Next, have your <code>mapDispatchToProps</code> function return an object with a <code>fetchGifs</code> property set to an arrow function that accepts a <code>searchQuery</code> value and dispatches a call to the <code>fetchGifs(searchQuery)</code> function. Remember how you tested the <code>store.dispatch(fetchGifs(searchQuery))</code> function in the browser console. Think of how you would use an arrow function to almost wait for a <code>searchQuery</code> input from the user before firing the dispatch call.</p>
<p>Lastly, take a moment to examine how your <code>AppContainer.js</code> file is simply exporting the <code>connect()</code> invocation:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="im">export</span> <span class="im">default</span> <span class="at">connect</span>(mapStateToProps<span class="op">,</span> mapDispatchToProps)(App)<span class="op">;</span></a></code></pre></div>
<p>Now you can render your <code>AppContainer</code> instead of your <code>App</code> component so that the <code>connect()</code> method is invoked to pass a <code>gifs</code> prop and a <code>fetchGifs</code> props to <code>App</code>!</p>
<p>Take a moment to refactor your <code>Root.js</code> file to do so:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="co">// Root.js</span></a>
<a class="sourceLine" id="cb31-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="im">import</span> <span class="op">{</span> Provider <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react-redux&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="im">import</span> AppContainer <span class="im">from</span> <span class="st">&#39;./AppContainer&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb31-5" title="5"></a>
<a class="sourceLine" id="cb31-6" title="6"><span class="kw">const</span> Root <span class="op">=</span> (<span class="op">{</span> store <span class="op">}</span>) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb31-7" title="7">  <span class="op">&lt;</span>Provider store<span class="op">={</span>store<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb31-8" title="8">    <span class="op">&lt;</span>AppContainer /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb31-9" title="9">  &lt;/Provider<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb31-10" title="10">)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-11" title="11"></a>
<a class="sourceLine" id="cb31-12" title="12"><span class="im">export</span> <span class="im">default</span> Root<span class="op">;</span></a></code></pre></div>
<h2 id="phase-8-presentational-components">Phase 8: Presentational components</h2>
<p>Now that you’ve created a container to pass (or <em>map</em>) slices of the global state and dispatched actions as props, it’s time to render and update the <code>gifs</code> from the global state!</p>
<h3 id="app">App</h3>
<p>Have your <code>App</code> component take in and destructure your <code>gifs</code> and <code>fetchGifs</code> props. Notice how your component is rendering a <code>SearchBar</code> component and a <code>GifsList</code> component. You’ll want to pass in the <code>fetchGifs</code> function as a prop to the <code>SearchBar</code> component.</p>
<p>Instead of directly passing all of the <code>gifs</code> as a prop to the <code>GifsList</code> component, you’ll refactor your <code>mapStateToProps</code> function and use a selector to map the array of <code>gifs</code> into an array of GIF urls.</p>
<p>Currently, your <code>mapStateToProps</code> function should look something like this:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">const</span> mapStateToProps <span class="op">=</span> state <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-2" title="2">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-3" title="3">    <span class="dt">gifs</span><span class="op">:</span> <span class="va">state</span>.<span class="at">gifs</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-4" title="4">  <span class="op">};</span></a>
<a class="sourceLine" id="cb32-5" title="5"><span class="op">};</span></a></code></pre></div>
<p>Define a <code>getGifUrls</code> selector that takes in the <code>state</code> and uses parameter destructuring to map over each gif in the <code>gifs</code> slice of state to pluck the image URL from the JSON data, like so:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">const</span> getGifUrls <span class="op">=</span> (<span class="op">{</span> gifs <span class="op">}</span>) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb33-2" title="2">  <span class="va">gifs</span>.<span class="at">map</span>(gif <span class="kw">=&gt;</span> <span class="va">gif</span>.<span class="va">images</span>.<span class="va">fixed_height</span>.<span class="at">url</span>)</a>
<a class="sourceLine" id="cb33-3" title="3">)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-4" title="4"></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="kw">const</span> mapStateToProps <span class="op">=</span> state <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-6" title="6">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-7" title="7">    <span class="dt">gifUrls</span><span class="op">:</span> <span class="at">getGifUrls</span>(state)<span class="op">,</span></a>
<a class="sourceLine" id="cb33-8" title="8">  <span class="op">};</span></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="op">};</span></a></code></pre></div>
<p>Now you can pass in the <code>gifUrls</code> for your <code>GifsList</code> component to render GIF images without passing unnecessary data as props!</p>
<h3 id="searchbar">SearchBar</h3>
<p>In your <code>SearchBar</code> component, you already have a search form, an <code>inputValue</code> state, and an <code>onChange</code> handler for the form’s input field set up. Right now, your component has several <code>TODO</code> notes to guide your creation of an <code>onSubmit</code> handler for your search form. The <code>onSubmit</code> handler will dispatch the <code>fetchGifs</code> action creator function (don’t forget to prevent the default action of a submit event).</p>
<p>After finishing your <code>SearchBar</code> component, test out your submit event handler and check your <code>logger</code> response to see if your <code>fetchGifs</code> action creator is actually being dispatched to update the application’s global state! Once you see that your fetched <code>gifs</code> have been dispatched to the <code>gifs</code> slice of state, it’s time to render your list of GIFs!</p>
<h3 id="gifslist">GifsList</h3>
<p>Right now, your component has several <code>TODO</code> notes:</p>
<ul>
<li>Take in and destructure the <code>gifUrls</code> prop.</li>
<li>Render a <code>&lt;div&gt;</code> as the parent element of your <code>GifsList</code> component.</li>
<li>Map over your <code>gifUrls</code> array to render an <code>&lt;img&gt;</code> for each <code>url</code>.</li>
</ul>
<h3 id="debugging">Debugging</h3>
<p>If you’re having issues rendering a GIF in your project, that means it’s a great time to practice using <code>debugger</code> statements to debug your Redux cycle code! For example, you could set a <code>debugger</code> in the:</p>
<ul>
<li><code>handleSubmit</code> method to check out the submitted search <code>inputValue</code></li>
<li><code>receiveGifs</code> action creator function to check out the value of the <code>gifs</code> payload</li>
<li><code>RECEIVE_GIFS</code> case statement in the <code>gifsReducer</code> to check out the value of the dispatch <code>action</code> object</li>
</ul>
<p>If you didn’t hit any issues, congratulations - you have implemented Redux with the Giphy API to create a search API that renders a list of GIFs! Before moving forward to the next project, you should still use <code>debugger</code> statements to step through this project’s Redux cycle.</p>
