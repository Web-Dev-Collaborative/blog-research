<h1 id="react-widgets">React Widgets</h1>
<p>To practice using React hooks, let’s reexplore the widgets application that you created with class components last week. You’ll be building the same clock widget, an interactive folder widget, a weather widget, and a simple search input component as you did before, but you’ll use hooks instead of life cycle methods and component state. We’ll also refactor the folder widget to utilize Routes to determine the current tab.</p>
<p>By the end of this project, you will:</p>
<ul>
<li>Review how to set up a new React project;</li>
<li>Be able to use useState to track component state in a functional component;</li>
<li>Be able to use useEffect to trigger functionality previously only possible with lifecycle methods and class components;</li>
<li>Know how to incorporate an API into your app; and</li>
<li>Be able to add basic styling to React components.</li>
</ul>
<h2 id="phase-1-setup">Phase 1: Setup</h2>
<p>The initial setup for this application will be exactly the same as our previous implementation of the Widgets app.</p>
<p>Generate a new React application called “Widgets” with <a href="https://github.com/facebook/create-react-app">create-react-app</a> by running <code>npx create-react-app widgets --template @appacademy/simple</code>. Note how you are using a custom template to generate your React application. We will also utilize <code>Routes</code> in this project, so once our app has been created, move into the folder that was created and <code>npm install react-router-dom</code>.</p>
<p>Once your project has been initialized, in the <code>index.js</code> file you’ll see that <code>ReactDOM</code> is rendering a <code>&lt;React.StrictMode&gt;</code> component. <a href="https://reactjs.org/docs/strict-mode.html">StrictMode</a> simply means that additional checks and warnings will be made in development mode. It’s a helpful tool that highlights potential problems.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">)<span class="op">;</span></a></code></pre></div>
<p>Let’s rename the rendered <code>App</code> component to be a component named <code>Root</code>. Make sure to update where you have imported <code>App</code> and to update the <code>App.js</code> file name to <code>Root.js</code>.</p>
<p>The <code>Root</code> component should be a function component. For now, have your <code>Root</code> component return an empty <code>&lt;div&gt;</code>. You will fill this in with your widget components as you create them. At this point, your <code>Root.js</code> file should look something like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">const</span> Root <span class="op">=</span> () <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6">  &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7">)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="im">export</span> <span class="im">default</span> Root<span class="op">;</span></a></code></pre></div>
<h2 id="phase-2-clock-widget">Phase 2: Clock Widget</h2>
<p>The clock component should display the current date and time, updating every second. Start by creating a new file <code>Clock.js</code> in your <code>src</code> folder importing <code>React</code> into the file. Define your <code>Clock</code> component as a function (all of your components today will be functions!). You will import your <code>Clock</code> component into your <code>Root.js</code> file and incorporate it into the return value of your <code>Root</code> (nest it inside of the <code>div</code> that you set up previously). This is the pattern you will follow for all the widgets.</p>
<p>With functional components, whatever we return from our function will be rendered to the DOM. For now, let’s have our Clock component display an <code>&lt;h1&gt;</code> element with the content “Clock”. Check to see that we’ve properly exported our component and imported into Root by loading up your browser. You should see your “Clock” header on the page.</p>
<p>In our previous version of this application, we used class components in order to keep track of a component’s state in the constructor as well as utilize life- cycle methods such as <code>componentDidMount</code> and <code>componentWillUnmount</code>. We can achieve the same functionality using hooks!</p>
<p>From the <code>react</code> library, import the <code>useState</code> and <code>useEffect</code> hooks, in addition to your standard React import.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> useState<span class="op">,</span> useEffect <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Let’s set up a hook to track the current time for our clock. The <code>useState</code> function takes in one argument and will return an array of two important elements. The first element that is returned in this array is a reference to the current value of the item we are creating state for. The second element is a function that we can use to update this value, similar to the <code>setState</code> function that we used with class components. Finally, the argument that we pass in will be the initial value for this item.</p>
<p>At the begining of our <code>Clock</code> function, set up a <code>useState</code> hook. We want to track the time, keep a reference to the function that will set the time (in order to update at regular intervals), and set up an initial value of the current time. We can accomplish all of this with one line like so:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">const</span> [time<span class="op">,</span> setTime] <span class="op">=</span> <span class="at">useState</span>(<span class="kw">new</span> <span class="at">Date</span>())<span class="op">;</span></a></code></pre></div>
<p>With this line, we now have a location to store our current time, we set up an initial value for it, and we captured a reference to the function that we’ll invoke to update the time.</p>
<p>Let’s now set up our <code>useEffect</code> function. Our <code>useEffect</code> will take in a callback function as well as an optional array of dependencies for when we would like to execute this function. Set up a placeholder invocation like so:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="at">useEffect</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="co">// We&#39;ll implement functionality here</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">},</span> [])<span class="op">;</span></a></code></pre></div>
<p>Inside of our callback function, we would like to do a couple of things. * First, we would like to set up a function that will set the time that we are tracking in our state to a <code>new Date()</code>, updating our time to be current. We can call this function <code>tick</code>. * Second, we want to set up an interval that will invoke this function every second. We can use a standard <code>setInterval</code>, passing in our <code>tick</code> function and a time of <code>1000</code> (measured in milliseconds). Make sure to capture a reference to the return value of <code>setInterval</code>, which we’ll use next. * Third, the callback we pass to <code>useEffect</code> can return a reference to a function. If it does, this function will be used as cleanup. We can think of this functionality as very similar to our <code>componentWillUnmount</code> for class components. Since we don’t want to have our interval running if our component leaves the page, return a new function that will invoke <code>clearInterval</code> with a reference to the interval that we just created. Overall, our <code>useEffect</code> should look something like this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="at">useEffect</span>(() <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="kw">function</span> <span class="at">tick</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="at">setTime</span>(<span class="kw">new</span> <span class="at">Date</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="kw">const</span> interval <span class="op">=</span> <span class="at">setInterval</span>(tick<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="cf">return</span> () <span class="kw">=&gt;</span> <span class="at">clearInterval</span>(interval)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="op">},</span> [])<span class="op">;</span></a></code></pre></div>
<p>You’ll notice that our second argument, the dependency array, is still empty. The array indicates we are only executing this function (1) when the component mounts on the page, and (2) when the value of an element has changed. By keeping our array empty, the callback function will be executed only one time, when our component is created. We only need to set up the interval to update our time when our component is first mounted on the page. If we did not provide this empty array, the callback function would be executed every time our component rendered.</p>
<p>Before your return, create variables for the <code>hours</code>, <code>minutes</code>, and <code>seconds</code> that we’d like to display. Check out all of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date object</a> methods you can use to display the date and time in a human-readable string. Doing this formatting before our return statement allows us to simply interpolate these variables in the JSX.</p>
<h3 id="styling">Styling</h3>
<p>You’ll notice that you have an <code>index.css</code> file already imported into your entry <code>index.js</code> file. Create and include a <code>reset.css</code> file before the line to import your <code>index.css</code> file.</p>
<p>Feel free to use the following CSS reset file template:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb7-1" title="1"><span class="co">/* reset.css */</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3">a<span class="op">,</span> article<span class="op">,</span> body<span class="op">,</span> button<span class="op">,</span> div<span class="op">,</span> fieldset<span class="op">,</span> footer<span class="op">,</span> form<span class="op">,</span> h1<span class="op">,</span> h2<span class="op">,</span> header<span class="op">,</span> html<span class="op">,</span> i<span class="op">,</span> img<span class="op">,</span> input<span class="op">,</span> label<span class="op">,</span> li<span class="op">,</span> main<span class="op">,</span> nav<span class="op">,</span> p<span class="op">,</span> section<span class="op">,</span> small<span class="op">,</span> span<span class="op">,</span> strong<span class="op">,</span> textarea<span class="op">,</span> time<span class="op">,</span> ul {</a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">background</span>: <span class="dv">transparent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="kw">border</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="kw">box-sizing</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7">  <span class="kw">color</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="kw">font</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9">  <span class="kw">margin</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="kw">outline</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-11" title="11">  <span class="kw">padding</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-12" title="12">  <span class="kw">text-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-13" title="13">  <span class="kw">text-decoration</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-14" title="14">  <span class="kw">vertical-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-15" title="15">}</a>
<a class="sourceLine" id="cb7-16" title="16"></a>
<a class="sourceLine" id="cb7-17" title="17">ul {</a>
<a class="sourceLine" id="cb7-18" title="18">  <span class="kw">list-style</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-19" title="19">}</a>
<a class="sourceLine" id="cb7-20" title="20"></a>
<a class="sourceLine" id="cb7-21" title="21">img {</a>
<a class="sourceLine" id="cb7-22" title="22">  <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-23" title="23">  <span class="kw">height</span>: <span class="bu">auto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-24" title="24">  <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-25" title="25">}</a>
<a class="sourceLine" id="cb7-26" title="26"></a>
<a class="sourceLine" id="cb7-27" title="27">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;email&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;password&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;text&quot;</span><span class="ex">]</span><span class="op">,</span> textarea {</a>
<a class="sourceLine" id="cb7-28" title="28">  <span class="co">/*</span></a>
<a class="sourceLine" id="cb7-29" title="29"><span class="co">  Get rid of native styling. Read more here:</span></a>
<a class="sourceLine" id="cb7-30" title="30"><span class="co">  http://css-tricks.com/almanac/properties/a/appearance/</span></a>
<a class="sourceLine" id="cb7-31" title="31"><span class="co">  */</span></a>
<a class="sourceLine" id="cb7-32" title="32">  <span class="kw">-moz-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-33" title="33">  <span class="kw">-webkit-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-34" title="34">  <span class="kw">appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-35" title="35">}</a>
<a class="sourceLine" id="cb7-36" title="36"></a>
<a class="sourceLine" id="cb7-37" title="37">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span> {</a>
<a class="sourceLine" id="cb7-38" title="38">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-39" title="39">}</a></code></pre></div>
<p>Now go to <a href="https://fonts.google.com/">Google Fonts</a> and select a nice font for your clock. In the <code>public/index.html</code> file, update your page to have a <code>title</code> of “Widgets”. Now take the font embed code and paste it into the <code>&lt;head&gt;</code> of your page.</p>
<p>Your <code>index.html</code> file should look something like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb8-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="kw">&lt;link</span><span class="ot"> href=</span><span class="st">&quot;https://fonts.googleapis.com/css2?family=Orbitron&quot;</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="kw">&lt;title&gt;</span>Widgets<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb8-8" title="8">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb8-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;root&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb8-10" title="10">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>To use the font, set the <code>font-family</code> of your element to the font name in your <code>index.css</code> file.</p>
<p>Set the time and date headers to be on one side and the actual time and date to the other. You can achieve this easily with a flexbox. Take a look at the <a href="https://css-tricks.com/almanac/properties/j/justify-content/"><code>justify-content</code></a> property. Which one do you want to use? Try all of them to understand what they do.</p>
<p>Add a background. Use the <code>background</code> or <code>background-color</code> property to change the background. Feel free to do this for every widget.</p>
<p>You should now have a clock that displays the current time and date. You used <code>setInterval()</code> to make sure that the clock updates every second, and <code>clearInterval()</code> to clear the timer that <code>setInterval()</code> set. Once you have sufficiently styled your clock, move on to the next widget.</p>
<h2 id="phase-3-folder-widget">Phase 3: Folder Widget</h2>
<p>You’re going to add a folder widget that the user can interact with. The folder tabs should each be labeled with their own title. The selected tab should be in a <strong>bold</strong> font. Below the tab, display the contents of the selected tab. The folder content should update when the user selects different tabs.</p>
<p>Unlike our original implementation of this widget, we are going to utilize <code>NavLink</code> and <code>Route</code> components. This will allow a user to navigate directly to a URL and have the content of that folder already displayed.</p>
<p>Make a <code>Folder</code> component. <code>Root</code> should pass the <code>Folder</code> component a <code>folders</code> prop. The prop should be an array of JavaScript objects that each have <code>title</code> and <code>content</code> as properties:</p>
<p><strong>Folder component</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="op">&lt;</span>Folder folders<span class="op">={</span>folders<span class="op">}</span> /&gt;</a></code></pre></div>
<p><strong>Folders prop</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">const</span> folders <span class="op">=</span> [</a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;one&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;I am the first&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;two&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Second folder here&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;three&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Third folder here&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb10-5" title="5">]<span class="op">;</span></a></code></pre></div>
<p>In our <code>Folder.js</code> file, make sure to import React as well as several items from <code>react-router-dom</code>: <code>{ BrowserRouter, Switch, Route, NavLink }</code></p>
<p>Remember that our <code>Folder</code> function was passed a <code>folders</code> prop, so remember to capture this argument. Our component will not need to track any state or use any hooks, we are simply navigating to new routes and rendering content based on the path. Because of this, we can start a return statement right away within this function.</p>
<p>We would like to use Routes within this component. We haven’t set up a router for our app overall, so let’s set that up for this component specifically. So far our component should look something like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="im">import</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">  BrowserRouter<span class="op">,</span></a>
<a class="sourceLine" id="cb11-4" title="4">  Switch<span class="op">,</span></a>
<a class="sourceLine" id="cb11-5" title="5">  Route<span class="op">,</span></a>
<a class="sourceLine" id="cb11-6" title="6">  NavLink</a>
<a class="sourceLine" id="cb11-7" title="7"><span class="op">}</span> <span class="im">from</span> <span class="st">&quot;react-router-dom&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="kw">function</span> <span class="at">Folder</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-10" title="10">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb11-11" title="11">    <span class="op">&lt;</span>BrowserRouter<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb11-12" title="12">      <span class="op">{</span><span class="co">/* Our Folder component will be built out here */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb11-13" title="13">    &lt;/BrowserRouter<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb11-14" title="14">  )</a>
<a class="sourceLine" id="cb11-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-16" title="16"></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="im">export</span> <span class="im">default</span> Folder<span class="op">;</span></a></code></pre></div>
<p>Our <code>BrowserRouter</code> can only return one element, so let’s set up a <code>&lt;div&gt;</code> that will house the rest of our component. Create an <code>&lt;h1&gt;</code> to label our “Tabs”, then another <code>&lt;div&gt;</code> for our content.</p>
<p>Inside of this inner <code>&lt;div&gt;</code> we have two main goals. We want to create a list of <code>NavLink</code>s in order to show the title of each folder and link to that specific page. We also then want to create <code>Route</code>s for each of the folders in order to display the content.</p>
<p>Make a <code>&lt;ul&gt;</code> that will house these <code>NavLink</code>s and a <code>Switch</code> that will house the <code>Route</code>s:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">function</span> <span class="at">Folder</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="op">&lt;</span>Router<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-4" title="4">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-5" title="5">        <span class="op">&lt;</span>h1<span class="op">&gt;</span>Tabs&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-6" title="6">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tabs&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-7" title="7">          <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-8" title="8">            <span class="op">{</span><span class="co">/* create an li to house a NavLink for each folder */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb12-9" title="9">          &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-10" title="10">          <span class="op">&lt;</span>Switch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-11" title="11">            <span class="op">{</span><span class="co">/* create a Route for each tab path */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb12-12" title="12">          &lt;/Switch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-13" title="13">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-14" title="14">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-15" title="15">    &lt;/Router<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-16" title="16">  )</a>
<a class="sourceLine" id="cb12-17" title="17"><span class="op">}</span></a></code></pre></div>
<p>In order for us to make create links for each component, <code>map</code> over your folders, returning an <code>&lt;li&gt;</code> with a unique <code>key</code> that houses a <code>NavLink</code>. Your <code>NavLink</code> should take the user to <code>/tabs/theTitleOfThisFolder</code> and should show that same title as the content of the link. Remember to use interpolation to include these values for each folder dynamically within your <code>map</code> function.</p>
<p>To show the content of each folder, we’ll similarly want to map over our folders within our <code>Switch</code> component. Instead of returning a <code>NavLink</code>, we can return a <code>Route</code>. Be sure to include a <code>path</code> (matching the <code>/tabs/theTitleOfThisFolder</code> links that we made earlier) and unique <code>key</code> on the <code>Route</code>. Within the <code>Route</code> we can render a simple div that has the content of each folder’s <code>content</code> property.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="op">&lt;</span>Switch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="op">{</span><span class="va">props</span>.<span class="va">folders</span>.<span class="at">map</span>(folder <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb13-4" title="4">      <span class="op">&lt;</span>Route path<span class="op">={</span><span class="vs">`/tabs/</span><span class="sc">${</span><span class="va">folder</span>.<span class="at">title</span><span class="sc">}</span><span class="vs">`</span><span class="op">}</span> key<span class="op">={</span><span class="va">folder</span>.<span class="at">title</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb13-5" title="5">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tab-content&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-6" title="6">          <span class="op">{</span><span class="va">folder</span>.<span class="at">content</span><span class="op">}</span></a>
<a class="sourceLine" id="cb13-7" title="7">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-8" title="8">      &lt;/Route<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-9" title="9">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb13-10" title="10">  <span class="op">}</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb13-11" title="11">&lt;/Switch<span class="op">&gt;</span></a></code></pre></div>
<h3 id="styling-1">Styling</h3>
<p>Feel free to style your <code>Folder</code> component by adding the CSS below into your <code>index.css</code> file. Play around with the styling a bit if you’d like. Notice that with this implementation, our <code>active</code> class is on the nested <code>&lt;a&gt;</code> from our <code>NavLink</code> which may be different compared to our first implementation of this widget.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb14-1" title="1"><span class="co">/* Folder */</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="fu">.tab-header</span> {</a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" title="4">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="kw">justify-content</span>: space-between<span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" title="6">}</a>
<a class="sourceLine" id="cb14-7" title="7"></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li {</a>
<a class="sourceLine" id="cb14-9" title="9">  <span class="kw">width</span>: <span class="dv">33</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-10" title="10">  <span class="kw">border-top</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-11" title="11">  <span class="kw">border-left</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-12" title="12">  <span class="kw">border-right</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-13" title="13">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-14" title="14">  <span class="kw">border-top-left-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-15" title="15">  <span class="kw">border-top-right-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-16" title="16">  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-17" title="17">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-18" title="18">  <span class="kw">background-color</span>: <span class="cn">lightpink</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-19" title="19">}</a>
<a class="sourceLine" id="cb14-20" title="20"></a>
<a class="sourceLine" id="cb14-21" title="21">a {</a>
<a class="sourceLine" id="cb14-22" title="22">  <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-23" title="23">  <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-24" title="24">}</a>
<a class="sourceLine" id="cb14-25" title="25"></a>
<a class="sourceLine" id="cb14-26" title="26"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:first-child</span> {</a>
<a class="sourceLine" id="cb14-27" title="27">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-28" title="28">}</a>
<a class="sourceLine" id="cb14-29" title="29"></a>
<a class="sourceLine" id="cb14-30" title="30"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:last-child</span> {</a>
<a class="sourceLine" id="cb14-31" title="31">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-32" title="32">}</a>
<a class="sourceLine" id="cb14-33" title="33"></a>
<a class="sourceLine" id="cb14-34" title="34"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:hover</span> {</a>
<a class="sourceLine" id="cb14-35" title="35">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-36" title="36">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-37" title="37">}</a>
<a class="sourceLine" id="cb14-38" title="38"></a>
<a class="sourceLine" id="cb14-39" title="39"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li <span class="op">&gt;</span> a<span class="fu">.active</span> {</a>
<a class="sourceLine" id="cb14-40" title="40">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-41" title="41">}</a>
<a class="sourceLine" id="cb14-42" title="42"></a>
<a class="sourceLine" id="cb14-43" title="43"><span class="fu">.tabs</span> {</a>
<a class="sourceLine" id="cb14-44" title="44">  <span class="kw">width</span>: <span class="dv">240</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-45" title="45">}</a>
<a class="sourceLine" id="cb14-46" title="46"></a>
<a class="sourceLine" id="cb14-47" title="47"><span class="fu">.tab-content</span> {</a>
<a class="sourceLine" id="cb14-48" title="48">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-49" title="49">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-50" title="50">  <span class="kw">height</span>: <span class="dv">192</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-51" title="51">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-52" title="52">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-53" title="53">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-54" title="54">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-55" title="55">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb14-56" title="56">  <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-57" title="57">  <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-58" title="58">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-59" title="59">}</a></code></pre></div>
<h2 id="phase-4-weather-widget">Phase 4: Weather Widget</h2>
<p>In this phase, you will create a weather widget to display the current weather based on the user’s location. You will be using the <code>navigator.geolocation</code> API to get the user’s current location, and the OpenWeatherMap API to get the current weather.</p>
<p>Make a <code>Weather</code> component, which again, will be incorporated into your <code>Root</code> component. Create a <code>useState</code> hook for your weather, capturing the <code>weather</code> reference and <code>setWeather</code> function. Set the initial value of the weather to be <code>null</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">const</span> [weather<span class="op">,</span> setWeather] <span class="op">=</span> <span class="at">useState</span>(<span class="kw">null</span>)<span class="op">;</span></a></code></pre></div>
<p>Review the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll use this API to get the weather based on your current location (it is recommended to fetch the weather by geographic coordinates). Upon a successful fetch, you’ll update your component’s state.</p>
<p>In order to get the API to accept your HTTP requests, you’ll need an API key. <a href="http://openweathermap.org/appid">Read up on how to use the API key and sign up for one here.</a> After signing up, click on the API keys tab to get your key. You may need to open their welcome email before the API key will work.</p>
<p>In the real world, you should be very careful about placing API keys in frontend JavaScript or anywhere else they are publicly available and can be scraped (this includes public Git repositories). Stolen keys can cost you. <em>You have been warned.</em></p>
<p>Now let’s get your current location! Create a <code>useEffect</code>hook that will only run when our component mounts. In the callback, call <code>navigator.geolocation.getCurrentPosition()</code> to get your current location. Read through the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation">navigator documentation</a> to figure out how to use this method properly. (Make sure you have <a href="https://support.google.com/chrome/answer/142065?hl=en">location services enabled</a> in your browser, or this won’t work.)</p>
<p>From reading the documentation, you know that there are two methods to access a browser’s location data: - <code>getCurrentPosition()</code> - <code>watchPosition()</code></p>
<p>Let’s look at the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition">documentation</a> for the <code>getCurrentPosition()</code> method to find out more about its expected parameters. You should see a <strong>Syntax</strong> portion on the documentation with the method breakdown below:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success[<span class="op">,</span> error[<span class="op">,</span> [options]])</a></code></pre></div>
<p>You’ll also see that there is a <strong>Parameters</strong> section below that outlines a mandatory <code>success</code> callback function, an optional <code>error</code> callback, and an optional <code>options</code> object. In documentation, square brackets around a parameter indicates that it is an optional parameter.</p>
<p>Now let’s test the <code>getCurrentPosition()</code> method in your developer tools console. Console log a result as the method’s <code>success</code> callback like so:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">const</span> success <span class="op">=</span> (res) <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(res)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>You should have received a request to share your location with the browser! Upon allowing the browser to know your location, you should console log a <code>GeolocationPosition</code> object when invoking the method again in the console:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>Begin by invoking the <code>getCurrentPosition()</code> method in your <code>Weather</code> component’s <code>useEffect</code>. Upon successfully retrieving your browser’s location, you’ll invoke a success callback to query the weather API.</p>
<p>Let’s create your success callback! Before your call to <code>getCurrentPosition</code>, create an asynchronous <code>pollWeather()</code> function to take in your <code>location</code> argument. You’ll use the <code>latitude</code> and <code>longitude</code> of your location to make a fetch call to the weather API. Think of how to extract the <code>latitude</code> and <code>longitude</code> properties from your <code>GeolocationPosition</code> object. Also think of how you might structure your fetch URL to include the query parameter for your geographic coordinates.</p>
<p>Navigate to the <code>By geographic coordinates</code> section in the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll see an example of an API query string using latitude and longitude coordinates (<code>api.openweathermap.org/data/2.5/weather?lat=35&amp;lon=139</code>). You’ll also see an example JSON response below.</p>
<p>You can define a <code>toQueryString()</code> helper method to format your query parameters into a fetch call URL. To think of scaling your “Widgets” project, you can move this helper function into a <code>utils.js</code> file so that it can be used for other APIs you might incorporate! Have the function take in a <code>params</code> object. You’ll then iterate through the object to sanitize each query value with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">encodeURIComponent()</a>. You can then return a query string like <code>lat=35&amp;lon=139</code> to build an example API query string above.</p>
<p>In your <code>pollWeather()</code> method, use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Fetch API</a> to make a fetch call to the OpenWeatherMap API. Remember to parse your response as JSON before updating the <code>weather</code> state with <code>setWeather</code>. Use your component’s <code>weather</code> state to render the current city and temperature on the page.</p>
<p>By default, the OpenWeatherMap API will return the temperature in Standard units (Kelvin). Convert to Fahrenheit <strong>OR</strong> peruse the API docs for a way to request the weather in Imperial units (Fahrenheit)! Give the weather box a nice border and make sure the elements inside are spaced evenly.</p>
<p>Great work! Now you have three widgets. One that displays the time, another that allows you navigate folder tabs, and another that displays the weather. You used the <code>navigator.geolocation</code> API to get your current location, which you then passed to your fetch request to get the weather from the OpenWeatherMap API.</p>
<h2 id="phase-5-autocomplete-widget">Phase 5: Autocomplete Widget</h2>
<p>Make an <code>Autocomplete</code> component that filters a list of names by the user’s input. Match only names that start with the search input. When a user clicks on a name, the input field should autocomplete to that name. Create a new file <code>Auto.js</code> and define your <code>AutoComplete</code> component there. Incorporate it into <code>Root</code>.</p>
<p>Because your autocomplete widget should be reusable, you shouldn’t hard code a list of names into the component. Instead of hard coding the names, set up your <code>Autocomplete</code> component to accept <code>names</code> as a prop. Then set the component’s initial state for <code>inputVal</code> as an empty string. Remember to also capture a reference to the function that will allow us to update this value.</p>
<p>Build your widget in the <code>return</code> section of your function. It should contain an input field and an unordered list. Render an <code>&lt;li&gt;</code> inside the <code>&lt;ul&gt;</code> for every name that begins with the value in the input box. Remember to pass your <a href="https://reactjs.org/docs/reconciliation.html#keys">unique <code>key</code> property</a> to each <code>&lt;li&gt;</code>!</p>
<p>When a user types something into the input, use an <code>onChange</code> event handler to update inputVal (remember to use your function that was captured previously!).</p>
<p>Also add an <code>onClick</code> handler to the unordered list. The role of this click handler is to update the widget’s search string (the <code>inputVal</code> state) upon a user’s click of the <code>&lt;li&gt;</code> element you’ve created for each name. You will need to turn your <code>&lt;input&gt;</code> into a <a href="https://facebook.github.io/react/docs/forms.html#controlled-components">controlled component</a> for this to work, so assign the <code>value</code> of the input to be equal to your <code>inputVal</code>. Would you access the event’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/currentTarget">currentTarget</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">target</a>? Remember to use <code>setInputVal()</code> to update the widget’s search string.</p>
<p>Now you’ll want to find the names that match your user’s search input. Let’s utilize another <code>useState</code> call (we can have multiple!) to track the <code>matches</code>. Initialize your <code>matches</code> to an empty array and capture the function the update this value.</p>
<p>Define a <code>useEffect</code> that will allow us to update our <code>matches</code>. Within this callback, check to see if we have input in our text field. If we do, filter the array of names to those that start with our <code>inputVal</code> and call our <code>setMatches</code> to update this array. If we do not have any input, set our matches to be the entire contents of our names array (we want to show all of the names if we aren’t filtering).</p>
<p>This <code>useEffect</code> will be slightly different compared to our previous components because we want to run this callback function multiple times. Every time our <code>inputVal</code> changes we want to be able to change our <code>matches</code>. In order to accomplish this, include <code>inputVal</code> in the dependency array, the second argument to <code>useEffect</code> instead of just using an empty array like we did previously.</p>
<h3 id="styling-2">Styling</h3>
<p>Give your component a border and make sure all the <code>&lt;li&gt;</code> elements are nicely padded inside the box. Change the <code>cursor</code> property to display a pointer when hovering over one of the <code>&lt;li&gt;</code> elements. Center all your widgets using flexboxes. Which <code>justify-content</code> property would you use for this?</p>
<p>Great job! The autocomplete widget uses an event handler to update the state of the component when letters are typed into the input field.</p>
