<h1 id="week-14-day-3-react-with-state" data-ignore="true">WEEK-14 DAY-3<br><em>React With State</em></h1>
<hr />
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=2 orderedList=false} -->
<hr />
<hr />
<h1 id="react-class-components-learning-objectives">React Class Components Learning Objectives</h1>
<p>As you’ve learned the fundamentals of React, you’ve seen how to use functions to create components. You can also create components using ES2015 classes. After reading and practicing, you should be able to:</p>
<ul>
<li>Create a simple React application by removing items and content from a project generated by the Create React App default template</li>
<li>Create a simple React application using a custom Create React App template</li>
<li>Create a React component using ES2015 class syntax</li>
<li>Describe when it’s appropriate to use a class component</li>
<li>Initialize and update state within a class component</li>
<li>Provide default values for a class component’s props</li>
<li>Add event listeners to elements</li>
<li>Prevent event default behavior</li>
<li>Safely use the <code>this</code> keyword within event handlers</li>
<li>Describe what the React <code>SyntheticEvent</code> object is and the role it plays in handling events</li>
<li>Create a React class component containing a simple form</li>
<li>Define a single event handler method to handle <code>onChange</code> events for multiple <code>&lt;input&gt;</code> elements</li>
<li>Add a <code>&lt;textarea&gt;</code> element to a form</li>
<li>Add a <code>&lt;select&gt;</code> element to a form</li>
<li>Implement form validations</li>
<li>Describe the lifecycle of a React component</li>
<li>Recall that the commonly used component lifecycle methods include <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code></li>
<li>Use the <code>componentDidMount</code> component lifecycle method to fetch data from an API</li>
<li>Utilize official documentation to gain an understanding of how new technology works</li>
</ul>
<hr />
<h1 id="simple-react-project">Simple React Project</h1>
<p>While creating a new React project using Create React App is easy to do, the application that the default template generates contains items and content that aren’t essential for learning React. Distilling the generated application down to its essential items and content removes all distractions and allows you to focus on the basics.</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Create a simple React application using a custom Create React App template; and,</li>
<li>Create a simple React application by removing items and content from a project generated by the Create React App default template.</li>
</ul>
<h2 id="using-a-custom-template">Using a custom template</h2>
<p>Deleting files from the standard <em>Create React App</em> template can get tedious. To help save you time, App Academy has a custom template that you can use with Create React App to generate a simple React application!</p>
<p>Just run the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">npx</span> create-react-app my-app --template @appacademy/simple</a></code></pre></div>
<p>Feel free to change <code>my-app</code> to whatever you’d like. Once the command completes, browse to the generated application folder and run <code>npm start</code> to start your application!</p>
<h2 id="if-you-like-deleting-files">If you like deleting files…</h2>
<p>If you still just want to use the template that comes with <em>Create React App</em> and want to delete the files yourself, here’s that guide for you to follow.</p>
<p>To start, use Create React App to create a new application:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="ex">npx</span> create-react-app simple-project</a></code></pre></div>
<p>Then open the <code>simple-project</code> folder in your code editor.</p>
<h3 id="simplifying-the-public-folder">Simplifying the <code>public</code> folder</h3>
<p>In the <code>public</code> folder, you’re only going to keep the <code>index.html</code> file, so remove all of the following:</p>
<ul>
<li><code>favicon.ico</code></li>
<li><code>robots.txt</code></li>
<li><code>logo192.png</code></li>
<li><code>logo512.png</code></li>
<li><code>manifest.json</code></li>
</ul>
<p>The <code>favicon.ico</code> and <code>robots.txt</code> files are useful for applications that will actually be released and used by actual users, but not necessary for learning projects. The <code>logo192.png</code> and <code>logo512.png</code> image files are referenced in the <code>manifest.json</code> file and are <a href="https://developer.chrome.com/extensions/manifest/icons">the icons that browsers use in various contexts</a> (home screen, application menu, etc.) The <a href="https://developers.google.com/web/fundamentals/web-app-manifest/"><code>manifest.json</code> file</a> provides the metadata that’s used when your web app is installed on a user’s mobile device or desktop.</p>
<p>Now you can simplify the content of the <code>index.html</code> to this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb3-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    <span class="kw">&lt;title&gt;</span>React App<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;root&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>To get to the above HTML, you can:</p>
<ul>
<li>Remove the unnecessary lines of code until you’re left with the above code; or</li>
<li>You can remove all of the code and use the <code>html:5</code> Emmet command to generate the boilerplate HTML and add a <code>&lt;div&gt;</code> element with an <code>id</code> attribute set to <code>root</code> (this is the element that your React application will render to).</li>
</ul>
<h3 id="simplifying-the-src-folder">Simplifying the <code>src</code> folder</h3>
<p>In the <code>src</code> folder, you’re going to keep the following files:</p>
<ul>
<li><code>App.js</code></li>
<li><code>index.css</code></li>
<li><code>index.js</code></li>
</ul>
<p>And remove all of the following:</p>
<ul>
<li><code>App.css</code></li>
<li><code>App.test.js</code></li>
<li><code>logo.svg</code></li>
<li><code>serviceWorker.js</code></li>
<li><code>setupTests.js</code></li>
</ul>
<p>The <code>App.css</code> file is where you’d add styles that are scoped to the <code>App</code> component and the <code>App.test.js</code> file is where you’d write unit tests for the <code>App</code> component. While you’re learning React, styling components and writing unit tests won’t be a focus. If you want to add some basic styles for your application, you can use the <code>index.css</code> file to add global styles.</p>
<p>The <code>logo.svg</code> file was part of the visual design of the generated application. The <code>serviceWorker.js</code> file contains code that registers a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">service worker</a> which allows the application load faster on subsequent visits if/when the application is released into production. The <code>setupTests.js</code> file contains a single import statement for a module that helps make it easier to write unit test assertions on DOM nodes.</p>
<p>Now you can update the contents of the <code>App.js</code>, <code>index.css</code>, and <code>index.js</code> files to the following:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// ./src/App.js</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">function</span> <span class="at">App</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb4-7" title="7">    <span class="op">&lt;</span>h1<span class="op">&gt;</span>Hello world<span class="op">!</span>&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-8" title="8">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb5-1" title="1"><span class="co">/* ./src/index.css */</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">/* </span><span class="al">TODO</span><span class="co"> Add site wide styles */</span></a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="im">import</span> <span class="st">&#39;./index.css&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb6-11" title="11">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb6-12" title="12">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb6-13" title="13">)<span class="op">;</span></a></code></pre></div>
<blockquote>
<p>For your reference, here’s a repo containing the final simple React project: <a href="https://github.com/appacademy-starters/react-simple-project">react simple project</a></p>
</blockquote>
<h2 id="what-you-learned">What you learned</h2>
<p>In this article, you learned how to:</p>
<ul>
<li>Create a simple React application by removing items and content from a project generated by the Create React App default template; and</li>
<li>Create a simple React application using a custom Create React App template.</li>
</ul>
<hr />
<h1 id="react-class-components">React Class Components</h1>
<p>As you’ve learned the fundamentals of React, you’ve seen how to use functions to create components to develop the user interface for a frontend application. Unsurprisingly, as with most things related to software development, there’s more than one way to create components in React.</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Create a React component using ES2015 class syntax;</li>
<li>Describe when it’s appropriate to use a class component;</li>
<li>Initialize and update state within a class component; and</li>
<li>Provide default values for props.</li>
</ul>
<h2 id="hello-class-components">Hello class components!</h2>
<p>Up to this point, you’ve written components using functions:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// ./src/Message.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="kw">const</span> Message <span class="op">=</span> (props) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="op">&lt;</span>div<span class="op">&gt;{</span><span class="va">props</span>.<span class="at">text</span><span class="op">}</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb7-8" title="8">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="op">};</span></a>
<a class="sourceLine" id="cb7-10" title="10"></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="im">export</span> <span class="im">default</span> Message<span class="op">;</span></a></code></pre></div>
<p>But React also allows you to create components using ES2015 classes. Here’s the above function component rewritten as a class component:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// ./src/Message.js</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw">class</span> Message <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-7" title="7">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb8-8" title="8">      <span class="op">&lt;</span>div<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">text</span><span class="op">}</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb8-9" title="9">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb8-10" title="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-12" title="12"></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="im">export</span> <span class="im">default</span> Message<span class="op">;</span></a></code></pre></div>
<p>Every class component must extend (i.e. inherit) from <code>React.Component</code> and have a <code>render</code> method that returns the element(s) to render for the component.</p>
<p>Class components are used just like function components:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="im">import</span> Message <span class="im">from</span> <span class="st">&#39;./Message&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb9-8" title="8">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="op">&lt;</span>Message text<span class="op">=</span><span class="st">&#39;Hello world!&#39;</span> /&gt;</a>
<a class="sourceLine" id="cb9-10" title="10">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb9-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb9-12" title="12">)<span class="op">;</span></a></code></pre></div>
<p>From just the above JSX code in the <code>index.js</code> file, you can’t tell if the <code>&lt;Message&gt;</code> component is written as a function or class component. Which approach that’s used is an internal implementation detail of the component. In fact, you can switch back and forth between the two approaches provided that you aren’t using a feature that’s only available in class components (more about this in just a bit).</p>
<h3 id="setting-and-accessing-props">Setting and accessing props</h3>
<p>Notice from this example of using the <code>Message</code> class component that props are set on class components just like you do with function components:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="op">&lt;</span>Message text<span class="op">=</span><span class="st">&#39;Hello world!&#39;</span> /&gt;</a></code></pre></div>
<p>To access props within a class component, use the <code>this.props</code> property:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">class</span> Message <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb11-4" title="4">      <span class="op">&lt;</span>div<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">text</span><span class="op">}</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb11-5" title="5">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>If your class component defines a <code>constructor</code> method that needs access to props, define a <code>props</code> parameter:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">class</span> Message <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="kw">super</span>(props)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-4" title="4"></a>
<a class="sourceLine" id="cb12-5" title="5">    <span class="co">// </span><span class="al">TODO</span><span class="co"> Initialize state, etc.</span></a>
<a class="sourceLine" id="cb12-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb12-7" title="7"></a>
<a class="sourceLine" id="cb12-8" title="8">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb12-9" title="9">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb12-10" title="10">      <span class="op">&lt;</span>div<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">text</span><span class="op">}</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-11" title="11">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb12-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>Just be sure to call the <code>super</code> method and pass in the <code>props</code> parameter! Failing to do so will result in the following error:</p>
<pre><code>ReferenceError: Must call super constructor in derived class before accessing
&#39;this&#39; or returning from derived constructor</code></pre>
<blockquote>
<p>Remember, a component, whether it’s a function or class component, should never change its own props.</p>
</blockquote>
<h3 id="legacy-class-component-syntax">Legacy class component syntax</h3>
<p>In the early days of React, before using ES2015 classes was commonplace, components were usually created using the <code>React.createclass</code> function. You’ll still sometimes see this syntax in the wild. If in the future you ever find yourself needing to create a component using the <code>React.createclass</code> function when targeting newer versions of React, you’ll need to install a separate React module named <a href="https://reactjs.org/docs/react-without-es6.html"><code>create-react-class</code></a>.</p>
<h2 id="stateful-components">Stateful components</h2>
<p>So far, the above example class component behaves exactly as its function component counterpart. This might leave you wondering why you’d want or need to create a class component.</p>
<p><strong>One of the two reasons why you would use a Class component over a Function component is to add and manage local or internal state to your component. The second main reason to use a Class component is to use a component’s lifecycle methods.</strong> The following sections will focus on how to add and manage a component’s state. You’ll learn more about a component’s lifecycle (and the associated component lifecycle methods) later in a future reading.</p>
<h3 id="what-is-state">What is state?</h3>
<p>In contrast to props which are provided by the consumer or caller of the component, state is data that’s internal to a component. State is owned by the component where it’s defined and used. That’s why we say it’s “internal” or “local” to that component. Whereas props are not to be changed by a component, state is intended to be updated or mutated (you’ll see how to update state in just a bit). Together, props and state represent the data that’s used to determine how the component should behave and render.</p>
<h3 id="when-to-use-state">When to use state</h3>
<p>State should only be used when it’s absolutely necessary. If a bit of data is never going to change or if it is needed across the entire application, use props instead.</p>
<p>When you’re just learning React, it can be challenging to know when it’s okay to use state and when it’s not. State is often used when creating components that retrieve data from APIs or render forms. You’ll see examples of those kinds of components later in this lesson. To start, we’ll look at simple, contrived example of using state in just a bit.</p>
<blockquote>
<p>Function components are the simplest way to declare a component. If a component doesn’t need to use state or lifecycle methods, it should be written as a function component. A new feature in React, <a href="https://reactjs.org/docs/hooks-intro.html">hooks</a>, levels the playing field between function and class components, so that everything you can do in a class component can now be done with function components. You’ll learn about React hooks in a future lesson.</p>
</blockquote>
<h2 id="initializing-state">Initializing state</h2>
<p>When creating a stateful class component, you can use a class <code>constructor</code> method to initialize the <code>this.state</code> object.</p>
<p>Here’s a <code>RandomQuote</code> component that initializes two state properties, <code>this.state.quotes</code> and <code>this.state.currentQuoteIndex</code>, within its <code>constructor</code> method:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="co">// ./src/RandomQuote.js</span></a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" title="4"></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="kw">class</span> RandomQuote <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb14-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb14-8" title="8"></a>
<a class="sourceLine" id="cb14-9" title="9">    <span class="kw">const</span> quotes <span class="op">=</span> [</a>
<a class="sourceLine" id="cb14-10" title="10">      <span class="st">&#39;May the Force be with you.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-11" title="11">      <span class="st">&#39;There</span><span class="sc">\&#39;</span><span class="st">s no place like home.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-12" title="12">      <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">m the king of the world!&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-13" title="13">      <span class="st">&#39;My mama always said life was like a box of chocolates.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-14" title="14">      <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">ll be back.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb14-15" title="15">    ]<span class="op">;</span></a>
<a class="sourceLine" id="cb14-16" title="16"></a>
<a class="sourceLine" id="cb14-17" title="17">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-18" title="18">      quotes<span class="op">,</span></a>
<a class="sourceLine" id="cb14-19" title="19">      <span class="dt">currentQuoteIndex</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb14-20" title="20">    <span class="op">};</span></a>
<a class="sourceLine" id="cb14-21" title="21">  <span class="op">}</span></a>
<a class="sourceLine" id="cb14-22" title="22"></a>
<a class="sourceLine" id="cb14-23" title="23">  <span class="at">getRandomInt</span>(max) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-24" title="24">    <span class="cf">return</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="va">Math</span>.<span class="at">floor</span>(max))<span class="op">;</span></a>
<a class="sourceLine" id="cb14-25" title="25">  <span class="op">}</span></a>
<a class="sourceLine" id="cb14-26" title="26"></a>
<a class="sourceLine" id="cb14-27" title="27">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb14-28" title="28">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb14-29" title="29">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-30" title="30">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Random Quote&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-31" title="31">        <span class="op">&lt;</span>p<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">quotes</span>[<span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentQuoteIndex</span>]<span class="op">}</span>&lt;/p<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-32" title="32">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-33" title="33">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb14-34" title="34">  <span class="op">}</span></a>
<a class="sourceLine" id="cb14-35" title="35"><span class="op">}</span></a>
<a class="sourceLine" id="cb14-36" title="36"></a>
<a class="sourceLine" id="cb14-37" title="37"><span class="im">export</span> <span class="im">default</span> RandomQuote<span class="op">;</span></a></code></pre></div>
<p>Notice in the <code>render</code> method, that the state properties are being accessed using <code>this.state.quotes</code> and <code>this.state.currentQuoteIndex</code>.</p>
<p>If you’re following along, be sure to update your application’s entry point to import and render the <code>RandomQuote</code> component:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="im">import</span> RandomQuote <span class="im">from</span> <span class="st">&#39;./RandomQuote&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-6" title="6"></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb15-8" title="8">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb15-9" title="9">    <span class="op">&lt;</span>RandomQuote /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb15-10" title="10">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb15-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb15-12" title="12">)<span class="op">;</span></a></code></pre></div>
<p>If you run your application (i.e. <code>npm start</code>) and view it in the browser, you’ll one of the five quotes displayed. Refreshing the page will display a new random quote.</p>
<blockquote>
<p>Sometimes the same quote will be displayed more than once in a row. You’ll see in a bit how to fix that bug.</p>
</blockquote>
<h3 id="using-the-react-developer-tools-to-view-a-components-state">Using the React Developer Tools to view a component’s state</h3>
<p>Assuming you have the <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en">React Developer Tools</a> installed, open up your browser’s developer tools and view the “Components” tab. On the left, you can select the <code>RandomQuote</code> component to view its current props and state values on the right.</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-class-components/assets/react-class-components-init-state.png" alt="init state" /><figcaption>init state</figcaption>
</figure>
<h2 id="updating-state">Updating state</h2>
<p>Remember earlier when we said that state should only be used if the data is going to change? Currently, the current quote index doesn’t change after it’s been initialized in the <code>constructor</code> method. Using state to track this value would make more sense if there was a way to trigger the component to <em>update</em> the current quote index.</p>
<p>To do this, add a <code>&lt;button&gt;</code> element just below the <code>&lt;p&gt;</code> element with the following attributes and content:</p>
<pre class="jsx"><code>&lt;button type=&#39;button&#39; onClick={this.changeQuote}&gt;Change Quote&lt;/button&gt;</code></pre>
<p>Notice the <code>onClick={this.changeQuote}</code> bit? This is how you add an event listener for the <code>onclick</code> event. <code>this.changeQuote</code> is the event handler method and <code>onClick</code> is the event to listen for.</p>
<blockquote>
<p>When adding event listeners, be sure to camelCase the event name (i.e. <code>onClick</code> instead of <code>onclick</code>) and pass a reference to the event handler method instead of calling it (i.e. <code>this.changeQuote</code> instead of <code>this.changeQuote()</code>). You’ll learn more about handling events later in this lesson.</p>
</blockquote>
<p>Now add the <code>changeQuote</code> event handler method to the <code>RandomQuote</code> class:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1">changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="kw">const</span> newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="kw">this</span>.<span class="va">state</span>.<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3"></a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb17-5" title="5">    <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb17-6" title="6">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>Did you notice the slightly odd looking class property syntax (i.e. <code>changeQuote = () =&gt; { ... }</code>) that’s being used to define the <code>changeQuote</code> method? Using this experimental syntax for defining a class property in combination with an arrow function ensures that you can reliably use the <code>this</code> keyword within the method. You’ll learn more about this coding pattern for defining event handlers later in this lesson.</p>
</blockquote>
<p>The <code>changeQuote</code> event handler calls the <code>this.getRandomInt</code> method to get a new random integer and then calls the <code>this.setState</code> method to update the component’s state. The <code>this.setState</code> method accepts an object literal containing the state properties to update.</p>
<p>After updating the state, React re-renders the component and displays the new quote (provided that the current quote index actually changed). Because calling the <code>this.setState</code> method triggers a re-render, it should not be called from within the <code>render</code> method, as that would trigger an infinite loop.</p>
<p>Notice that the object literal passed into the <code>this.setState</code> method only contains the state property that needs to be updated. The <code>this.setState</code> method merges state updates into the current state object, so you only need to provide the state properties that need to be updated.</p>
<p>Now, instead of refreshing the page, you can click the “Change Quote” button to display a new random quote!</p>
<p>For your reference, here’s the updated <code>RandomQuote</code> component:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="co">// ./src/RandomQuote.js</span></a>
<a class="sourceLine" id="cb18-2" title="2"></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="kw">class</span> RandomQuote <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb18-8" title="8"></a>
<a class="sourceLine" id="cb18-9" title="9">    <span class="kw">const</span> quotes <span class="op">=</span> [</a>
<a class="sourceLine" id="cb18-10" title="10">      <span class="st">&#39;May the Force be with you.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-11" title="11">      <span class="st">&#39;There</span><span class="sc">\&#39;</span><span class="st">s no place like home.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-12" title="12">      <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">m the king of the world!&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-13" title="13">      <span class="st">&#39;My mama always said life was like a box of chocolates.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-14" title="14">      <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">ll be back.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-15" title="15">    ]<span class="op">;</span></a>
<a class="sourceLine" id="cb18-16" title="16"></a>
<a class="sourceLine" id="cb18-17" title="17">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-18" title="18">      quotes<span class="op">,</span></a>
<a class="sourceLine" id="cb18-19" title="19">      <span class="dt">currentQuoteIndex</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb18-20" title="20">    <span class="op">};</span></a>
<a class="sourceLine" id="cb18-21" title="21">  <span class="op">}</span></a>
<a class="sourceLine" id="cb18-22" title="22"></a>
<a class="sourceLine" id="cb18-23" title="23">  changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-24" title="24">    <span class="kw">const</span> newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="kw">this</span>.<span class="va">state</span>.<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-25" title="25"></a>
<a class="sourceLine" id="cb18-26" title="26">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb18-27" title="27">      <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb18-28" title="28">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-29" title="29">  <span class="op">}</span></a>
<a class="sourceLine" id="cb18-30" title="30"></a>
<a class="sourceLine" id="cb18-31" title="31">  <span class="at">getRandomInt</span>(max) <span class="op">{</span></a>
<a class="sourceLine" id="cb18-32" title="32">    <span class="cf">return</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="va">Math</span>.<span class="at">floor</span>(max))<span class="op">;</span></a>
<a class="sourceLine" id="cb18-33" title="33">  <span class="op">}</span></a>
<a class="sourceLine" id="cb18-34" title="34"></a>
<a class="sourceLine" id="cb18-35" title="35">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-36" title="36">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb18-37" title="37">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-38" title="38">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Random Quote&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-39" title="39">        <span class="op">&lt;</span>p<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">quotes</span>[<span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentQuoteIndex</span>]<span class="op">}</span>&lt;/p<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-40" title="40">        <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">changeQuote</span><span class="op">}&gt;</span>Change Quote&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-41" title="41">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb18-42" title="42">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb18-43" title="43">  <span class="op">}</span></a>
<a class="sourceLine" id="cb18-44" title="44"><span class="op">}</span></a>
<a class="sourceLine" id="cb18-45" title="45"></a>
<a class="sourceLine" id="cb18-46" title="46"><span class="im">export</span> <span class="im">default</span> RandomQuote<span class="op">;</span></a></code></pre></div>
<h3 id="dont-modify-state-directly">Don’t modify state directly</h3>
<p>You should always use the <code>this.setState</code> method to update state rather than setting the <code>this.state</code> property directly:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1">changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="kw">const</span> newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="kw">this</span>.<span class="va">state</span>.<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-3" title="3"></a>
<a class="sourceLine" id="cb19-4" title="4">  <span class="co">// Don&#39;t set the `this.state` property directly</span></a>
<a class="sourceLine" id="cb19-5" title="5">  <span class="co">// anywhere outside of the `constructor` method!</span></a>
<a class="sourceLine" id="cb19-6" title="6">  <span class="co">// this.state = {</span></a>
<a class="sourceLine" id="cb19-7" title="7">  <span class="co">//   currentQuoteIndex: newIndex,</span></a>
<a class="sourceLine" id="cb19-8" title="8">  <span class="co">// };</span></a>
<a class="sourceLine" id="cb19-9" title="9"></a>
<a class="sourceLine" id="cb19-10" title="10">  <span class="co">// Always use the `this.setState` method to update state.</span></a>
<a class="sourceLine" id="cb19-11" title="11">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb19-12" title="12">    <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb19-13" title="13">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>Reassigning <code>this.state</code> alone won’t trigger re-rendering, leaving your component out of sync.</p>
<p>If you used Create React App to create your application and your application is currently running (using the <code>npm start</code> command), you’ll receive a warning in the terminal if you reassign <code>this.state</code> outside of the constructor:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1"><span class="ex">Do</span> not mutate state directly. Use setState()  <span class="ex">react/no-direct-mutation-state</span></a></code></pre></div>
<h2 id="properly-updating-state-from-the-previous-state">Properly updating state from the previous state</h2>
<p>When testing the <code>RandomQuote</code> component, you might have noticed that sometimes the same quote will display more than once. This is occurring because the <code>this.getRandomInt</code> method is returning a random integer that’s the same as the current quote index value. We can fix this bug by calling the <code>this.getRandomInt</code> method until we get a random integer that’s different from the current quote index value.</p>
<p>On the surface, this appears to be simple fix–just use a loop to call the <code>this.getRandomInt</code> method until you get a random integer that’s different from the current quote index:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1">changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-2" title="2">  <span class="kw">const</span> <span class="op">{</span> quotes<span class="op">,</span> currentQuoteIndex <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb21-3" title="3"></a>
<a class="sourceLine" id="cb21-4" title="4">  <span class="kw">let</span> newIndex <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb21-5" title="5"></a>
<a class="sourceLine" id="cb21-6" title="6">  <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-7" title="7">    newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-8" title="8">  <span class="op">}</span> <span class="cf">while</span> (newIndex <span class="op">===</span> currentQuoteIndex)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-9" title="9"></a>
<a class="sourceLine" id="cb21-10" title="10">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb21-11" title="11">    <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb21-12" title="12">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>The problem with the above solution is that it doesn’t take into account that state updates are handled asynchronously by React. When the <code>currentQuoteIndex</code> value is retrieved from state (at the start of the method block), you’re not guaranteed that it’s the latest value. There could be a state update that hasn’t been applied yet.</p>
<p>To safely update state based upon the previous state, pass an anonymous method to the <code>this.setState</code> method (instead of an object literal) that defines two parameters, <code>state</code> and <code>props</code>, and returns an object literal containing the state properties to update. The <code>state</code> and <code>props</code> parameters give you safe, predictable access to the previous state and prop values:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1">changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-2" title="2">  <span class="kw">this</span>.<span class="at">setState</span>((state<span class="op">,</span> props) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="kw">const</span> <span class="op">{</span> quotes<span class="op">,</span> currentQuoteIndex <span class="op">}</span> <span class="op">=</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb22-4" title="4"></a>
<a class="sourceLine" id="cb22-5" title="5">    <span class="kw">let</span> newIndex <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb22-6" title="6"></a>
<a class="sourceLine" id="cb22-7" title="7">    <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-8" title="8">      newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-9" title="9">    <span class="op">}</span> <span class="cf">while</span> (newIndex <span class="op">===</span> currentQuoteIndex)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-10" title="10"></a>
<a class="sourceLine" id="cb22-11" title="11">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-12" title="12">      <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb22-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb22-14" title="14">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>Now, if you retest your application, clicking the “Change Quote” button will display a different random quote every time!</p>
<h2 id="providing-default-values-for-props">Providing default values for props</h2>
<p>Currently, the list of quotes doesn’t change once it’s initialized in the <code>constructor</code> method:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb23-2" title="2">  <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb23-3" title="3"></a>
<a class="sourceLine" id="cb23-4" title="4">  <span class="kw">const</span> quotes <span class="op">=</span> [</a>
<a class="sourceLine" id="cb23-5" title="5">    <span class="st">&#39;May the Force be with you.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb23-6" title="6">    <span class="st">&#39;There</span><span class="sc">\&#39;</span><span class="st">s no place like home.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb23-7" title="7">    <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">m the king of the world!&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb23-8" title="8">    <span class="st">&#39;My mama always said life was like a box of chocolates.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb23-9" title="9">    <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">ll be back.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb23-10" title="10">  ]<span class="op">;</span></a>
<a class="sourceLine" id="cb23-11" title="11"></a>
<a class="sourceLine" id="cb23-12" title="12">  <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb23-13" title="13">    quotes<span class="op">,</span></a>
<a class="sourceLine" id="cb23-14" title="14">    <span class="dt">currentQuoteIndex</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb23-15" title="15">  <span class="op">};</span></a>
<a class="sourceLine" id="cb23-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>Given this, it makes more sense for the quotes to be a prop value. Changing the quotes to a prop would also give the consumer or caller of the <code>RandomQuote</code> component the ability to customize the list of quotes.</p>
<p>Here’s an updated version of the <code>RandomQuote</code> component that defines the list of quotes as a prop:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="co">// ./src/RandomQuote.js</span></a>
<a class="sourceLine" id="cb24-2" title="2"></a>
<a class="sourceLine" id="cb24-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb24-4" title="4"></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="kw">class</span> RandomQuote <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-6" title="6">  <span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb24-7" title="7">    <span class="kw">super</span>(props)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-8" title="8"></a>
<a class="sourceLine" id="cb24-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-10" title="10">      <span class="dt">currentQuoteIndex</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">props</span>.<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb24-11" title="11">    <span class="op">};</span></a>
<a class="sourceLine" id="cb24-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb24-13" title="13"></a>
<a class="sourceLine" id="cb24-14" title="14">  changeQuote <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-15" title="15">    <span class="kw">this</span>.<span class="at">setState</span>((state<span class="op">,</span> props) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-16" title="16">      <span class="kw">const</span> <span class="op">{</span> currentQuoteIndex <span class="op">}</span> <span class="op">=</span> state<span class="op">;</span></a>
<a class="sourceLine" id="cb24-17" title="17">      <span class="kw">const</span> <span class="op">{</span> quotes <span class="op">}</span> <span class="op">=</span> props<span class="op">;</span></a>
<a class="sourceLine" id="cb24-18" title="18"></a>
<a class="sourceLine" id="cb24-19" title="19">      <span class="kw">let</span> newIndex <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb24-20" title="20"></a>
<a class="sourceLine" id="cb24-21" title="21">      <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-22" title="22">        newIndex <span class="op">=</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-23" title="23">      <span class="op">}</span> <span class="cf">while</span> (newIndex <span class="op">===</span> currentQuoteIndex)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-24" title="24"></a>
<a class="sourceLine" id="cb24-25" title="25">      <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb24-26" title="26">        <span class="dt">currentQuoteIndex</span><span class="op">:</span> newIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb24-27" title="27">      <span class="op">};</span></a>
<a class="sourceLine" id="cb24-28" title="28">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb24-29" title="29">  <span class="op">}</span></a>
<a class="sourceLine" id="cb24-30" title="30"></a>
<a class="sourceLine" id="cb24-31" title="31">  <span class="at">getRandomInt</span>(max) <span class="op">{</span></a>
<a class="sourceLine" id="cb24-32" title="32">    <span class="cf">return</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="va">Math</span>.<span class="at">floor</span>(max))<span class="op">;</span></a>
<a class="sourceLine" id="cb24-33" title="33">  <span class="op">}</span></a>
<a class="sourceLine" id="cb24-34" title="34"></a>
<a class="sourceLine" id="cb24-35" title="35">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb24-36" title="36">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb24-37" title="37">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-38" title="38">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Random Quote&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-39" title="39">        <span class="op">&lt;</span>p<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">quotes</span>[<span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentQuoteIndex</span>]<span class="op">}</span>&lt;/p<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-40" title="40">        <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">changeQuote</span><span class="op">}&gt;</span>Change Quote&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-41" title="41">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-42" title="42">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb24-43" title="43">  <span class="op">}</span></a>
<a class="sourceLine" id="cb24-44" title="44"><span class="op">}</span></a>
<a class="sourceLine" id="cb24-45" title="45"></a>
<a class="sourceLine" id="cb24-46" title="46"><span class="im">export</span> <span class="im">default</span> RandomQuote<span class="op">;</span></a></code></pre></div>
<p>Notice that the <code>constructor</code> method now defines a <code>props</code> parameter and passes that parameter into the <code>super</code> method call:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb25-2" title="2">  <span class="kw">super</span>(props)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-3" title="3"></a>
<a class="sourceLine" id="cb25-4" title="4">  <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-5" title="5">    <span class="dt">currentQuoteIndex</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">getRandomInt</span>(<span class="va">props</span>.<span class="va">quotes</span>.<span class="at">length</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb25-6" title="6">  <span class="op">};</span></a>
<a class="sourceLine" id="cb25-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>The <code>changeQuote</code> and <code>render</code> methods were also updated to reference the quotes using <code>this.props.quotes</code> instead of <code>this.state.quotes</code>.</p>
<p>Now, in the <code>index.js</code> file, the quotes to randomly display can be passed into the <code>RandomQuote</code> component:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb26-2" title="2"></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb26-5" title="5"><span class="im">import</span> RandomQuote <span class="im">from</span> <span class="st">&#39;./RandomQuote&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb26-6" title="6"></a>
<a class="sourceLine" id="cb26-7" title="7"><span class="kw">const</span> quotes <span class="op">=</span> [</a>
<a class="sourceLine" id="cb26-8" title="8">  <span class="st">&#39;Toto, I</span><span class="sc">\&#39;</span><span class="st">ve a feeling we</span><span class="sc">\&#39;</span><span class="st">re not in Kansas anymore.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-9" title="9">  <span class="st">&#39;Here</span><span class="sc">\&#39;</span><span class="st">s looking at you, kid.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-10" title="10">  <span class="st">&#39;There</span><span class="sc">\&#39;</span><span class="st">s no crying in baseball!&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-11" title="11">  <span class="st">&#39;Elementary, my dear Watson.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-12" title="12">  <span class="st">&#39;Rosebud.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb26-13" title="13">]<span class="op">;</span></a>
<a class="sourceLine" id="cb26-14" title="14"></a>
<a class="sourceLine" id="cb26-15" title="15"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb26-16" title="16">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb26-17" title="17">    <span class="op">&lt;</span>RandomQuote quotes<span class="op">={</span>quotes<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb26-18" title="18">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb26-19" title="19">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb26-20" title="20">)<span class="op">;</span></a></code></pre></div>
<p>Unfortunately, now the consumer or caller of the component <em>must</em> set the <code>quotes</code> prop or the component will throw an error. You can retain the previous behavior by defining a default value for the <code>quotes</code> prop using the <code>defaultProps</code> static property:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb27-2" title="2"></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="kw">class</span> RandomQuote <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-4" title="4">  <span class="co">// Code removed for brevity.</span></a>
<a class="sourceLine" id="cb27-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb27-6" title="6"></a>
<a class="sourceLine" id="cb27-7" title="7"><span class="va">RandomQuote</span>.<span class="at">defaultProps</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-8" title="8">  <span class="dt">quotes</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb27-9" title="9">    <span class="st">&#39;May the Force be with you.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-10" title="10">    <span class="st">&#39;There</span><span class="sc">\&#39;</span><span class="st">s no place like home.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-11" title="11">    <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">m the king of the world!&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-12" title="12">    <span class="st">&#39;My mama always said life was like a box of chocolates.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-13" title="13">    <span class="st">&#39;I</span><span class="sc">\&#39;</span><span class="st">ll be back.&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-14" title="14">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb27-15" title="15"><span class="op">};</span></a>
<a class="sourceLine" id="cb27-16" title="16"></a>
<a class="sourceLine" id="cb27-17" title="17"><span class="im">export</span> <span class="im">default</span> RandomQuote<span class="op">;</span></a></code></pre></div>
<p>The default <code>quotes</code> prop value will be used if the consumer or caller of the <code>RandomQuote</code> component doesn’t provide a value for the <code>quotes</code> prop.</p>
<p>Now the <code>RandomQuote</code> component can be used without having to provide the <code>quotes</code> prop:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb28-2" title="2"></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="im">import</span> RandomQuote <span class="im">from</span> <span class="st">&#39;./RandomQuote&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb28-6" title="6"></a>
<a class="sourceLine" id="cb28-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb28-8" title="8">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb28-9" title="9">    <span class="op">&lt;</span>RandomQuote /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb28-10" title="10">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb28-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb28-12" title="12">)<span class="op">;</span></a></code></pre></div>
<h2 id="what-you-learned-1">What you learned</h2>
<p>In this article, you learned how to:</p>
<ul>
<li>Create a React component using ES2015 class syntax;</li>
<li>Describe when it’s appropriate to use a class component;</li>
<li>Initialize and update state within a class component; and</li>
<li>Provide default values for props.</li>
</ul>
<hr />
<h1 id="handling-events">Handling Events</h1>
<p>Event handling is a key part of any dynamic application; without it, you wouldn’t be able to respond to user actions. As with most things in React, how you add event listeners and handle events is different from how you’d do it in vanilla JavaScript, it also manages to feel familiar.</p>
<p>In an earlier article, you saw an example of handling button click events. In this article you’ll deepen your understanding how to handle events in React components.</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Add event listeners to elements;</li>
<li>Prevent event default behavior;</li>
<li>Safely use the <code>this</code> keyword within event handlers; and</li>
<li>Describe what the React <code>SyntheticEvent</code> object is and the role it plays in handling events.</li>
</ul>
<h2 id="adding-event-listeners">Adding event listeners</h2>
<p>To add an event listener to an element, define a method to handle the event and associate that method with the element event you want to listen for:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"><span class="co">// ./src/AlertButton.js</span></a>
<a class="sourceLine" id="cb29-2" title="2"></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb29-4" title="4"></a>
<a class="sourceLine" id="cb29-5" title="5"><span class="kw">class</span> AlertButton <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb29-6" title="6">  showAlert <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb29-7" title="7">    <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Button clicked!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb29-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb29-9" title="9"></a>
<a class="sourceLine" id="cb29-10" title="10">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb29-11" title="11">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb29-12" title="12">      <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">showAlert</span><span class="op">}&gt;</span>Click Me&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb29-13" title="13">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb29-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb29-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb29-16" title="16"></a>
<a class="sourceLine" id="cb29-17" title="17"><span class="im">export</span> <span class="im">default</span> AlertButton<span class="op">;</span></a></code></pre></div>
<p>In the above example, the <code>showAlert</code> method is the event handler, which simply calls the <code>window.alert</code> method to display the text “Button clicked!” within a browser alert dialog. The <code>showAlert</code> event handler is added as a listener for the <code>&lt;button&gt;</code> element’s click event using the <code>onClick</code> attribute (i.e. <code>onClick={this.showAlert}</code>).</p>
<p>When adding event listeners, be sure to camelCase the event name (i.e. <code>onClick</code> instead of <code>onclick</code>) and pass a reference to the event handler method instead of calling it (i.e. <code>this.showAlert</code> instead of <code>this.showAlert()</code>).</p>
<p>Also notice the slightly odd looking class property syntax (i.e. <code>showAlert = () =&gt; { ... }</code>) that’s used to define the <code>showAlert</code> method. Using this experimental syntax for defining a class property in combination with an arrow function ensures that you can reliably use the <code>this</code> keyword within the event handler method. We’ll exam this issue in more detail in just a bit.</p>
<blockquote>
<p>See the official React documentation for a <a href="https://reactjs.org/docs/events.html#supported-events">list of the supported events</a>.</p>
</blockquote>
<h2 id="preventing-default-behavior">Preventing default behavior</h2>
<p>Within the browser, HTML element events often have default behavior associated with them. For example, clicking an <code>&lt;a&gt;</code> element will navigate to the resource indicated by the anchor element’s <code>href</code> attribute or clicking a <code>&lt;button&gt;</code> element that’s contained with a form will submit the form.</p>
<p>When handling button clicks in the previous example, nothing special had to be done to prevent the event’s default behavior from interfering with our intended action because a <code>&lt;button&gt;</code> element of type <code>button</code> doesn’t have any default behavior associated with it.</p>
<p>Consider the following example though:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="co">// ./src/NoDefaultSubmitForm.js</span></a>
<a class="sourceLine" id="cb30-2" title="2"></a>
<a class="sourceLine" id="cb30-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb30-4" title="4"></a>
<a class="sourceLine" id="cb30-5" title="5"><span class="kw">class</span> NoDefaultSubmitForm <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-6" title="6">  submitForm <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-7" title="7">    <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Handling form submission...&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb30-9" title="9"></a>
<a class="sourceLine" id="cb30-10" title="10">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb30-11" title="11">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb30-12" title="12">      <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">submitForm</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb30-13" title="13">        <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-14" title="14">      &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-15" title="15">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb30-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb30-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb30-18" title="18"></a>
<a class="sourceLine" id="cb30-19" title="19"><span class="im">export</span> <span class="im">default</span> NoDefaultSubmitForm<span class="op">;</span></a></code></pre></div>
<p>In this example, a <code>&lt;button&gt;</code> element without a <code>type</code> attribute is rendered within a <code>&lt;form&gt;</code> element. By default, this button will submit the form when clicked. This has the unintended consequence of reloading the page when the button is clicked, instead of allowing the <code>this.submitForm</code> event handler method to handle the form submission.</p>
<blockquote>
<p>In an actual React application, the <code>this.submitForm</code> event handler method would likely use the browser’s Fetch API to send a <code>POST</code> or <code>PUT</code> request to a REST API when the form is submitted. To keep this example as simple as possible, the <code>window.alert</code> method is used to display the text “Handling form submission…”.</p>
</blockquote>
<p>To keep the default form submission from occurring, the event handler method can be updated to this:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1">submitForm <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb31-2" title="2">  <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb31-3" title="3">  <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Handling form submission...&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>Notice that a parameter named <code>e</code> has been added to the anonymous method definition. The <code>e</code> parameter references an event object that’s the form submission event being handled. The <code>e</code> event object provides a method named <code>preventDefault</code> that when called, prevents the event’s default action.</p>
<blockquote>
<p>The <code>e</code> parameter is a <code>SyntheticEvent</code> object type. You’ll learn more about this object type in just a bit.</p>
</blockquote>
<h2 id="using-this-in-event-handlers">Using <code>this</code> in event handlers</h2>
<p>Earlier, it was mentioned that the class property syntax (i.e. <code>showAlert = () =&gt; { ... }</code>) was being used in combination with an arrow function so that the <code>this</code> keyword could be reliably used within an event handler method. To understand why this coding pattern is needed, let’s stray from the “happy path” and make things break.</p>
<p>Here’s the example of a button click event handler again that correctly defines the <code>showAlert</code> event handler method:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="co">// ./src/AlertButton.js</span></a>
<a class="sourceLine" id="cb32-2" title="2"></a>
<a class="sourceLine" id="cb32-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb32-4" title="4"></a>
<a class="sourceLine" id="cb32-5" title="5"><span class="kw">class</span> AlertButton <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-6" title="6">  showAlert <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-7" title="7">    <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Button clicked!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb32-9" title="9"></a>
<a class="sourceLine" id="cb32-10" title="10">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb32-11" title="11">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb32-12" title="12">      <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">showAlert</span><span class="op">}&gt;</span>Click Me&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb32-13" title="13">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb32-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb32-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb32-16" title="16"></a>
<a class="sourceLine" id="cb32-17" title="17"><span class="im">export</span> <span class="im">default</span> AlertButton<span class="op">;</span></a></code></pre></div>
<p>To see what <code>this</code> references in the <code>showAlert</code> event handler method, you can replace the call to the <code>window.alert</code> method with a call to the <code>console.log</code> method to print <code>this</code> to the console:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1">showAlert <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Now when the button is clicked, you’ll see the <code>AlertButton</code> component printed to the console:</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-class-components/assets/event-handling-console-alert-button.png" alt="console alert button" /><figcaption>console alert button</figcaption>
</figure>
<p>To break the <code>this</code> keyword, you can rewrite the <code>showAlert</code> event handler method to be a regular class method:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="at">showAlert</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb34-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb34-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Now when the button is clicked, you’ll see <code>undefined</code> printed to the console:</p>
<figure>
<img src="images/event-handling-console-undefined.png" alt="console undefined" /><figcaption>console undefined</figcaption>
</figure>
<h3 id="reviewing-class-methods-and-the-this-keyword">Reviewing class methods and the <code>this</code> keyword</h3>
<p>To understand why <code>this</code> is <code>undefined</code> when an event handler method is defined as a class method, take a look at the following example:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="kw">class</span> Person <span class="op">{</span></a>
<a class="sourceLine" id="cb35-2" title="2">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb35-3" title="3">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> <span class="st">&#39;Jane Smith&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb35-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb35-5" title="5"></a>
<a class="sourceLine" id="cb35-6" title="6">  <span class="at">displayName</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb35-7" title="7">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb35-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb35-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb35-10" title="10"></a>
<a class="sourceLine" id="cb35-11" title="11"><span class="kw">const</span> p <span class="op">=</span> <span class="kw">new</span> <span class="at">Person</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb35-12" title="12"></a>
<a class="sourceLine" id="cb35-13" title="13"><span class="co">// Calling the method on the instance</span></a>
<a class="sourceLine" id="cb35-14" title="14"><span class="co">// works as expected.</span></a>
<a class="sourceLine" id="cb35-15" title="15"><span class="va">p</span>.<span class="at">displayName</span>()<span class="op">;</span> <span class="co">// Jane Smith</span></a>
<a class="sourceLine" id="cb35-16" title="16"></a>
<a class="sourceLine" id="cb35-17" title="17"><span class="co">// Storing a reference to the method in a variable</span></a>
<a class="sourceLine" id="cb35-18" title="18"><span class="co">// and calling the method using the variable</span></a>
<a class="sourceLine" id="cb35-19" title="19"><span class="co">// breaks the `this` keyword&#39;s implicit binding</span></a>
<a class="sourceLine" id="cb35-20" title="20"><span class="co">// to the class instance.</span></a>
<a class="sourceLine" id="cb35-21" title="21"><span class="kw">const</span> displayName <span class="op">=</span> <span class="va">p</span>.<span class="at">displayName</span><span class="op">;</span></a>
<a class="sourceLine" id="cb35-22" title="22"><span class="at">displayName</span>()<span class="op">;</span> <span class="co">// TypeError: Cannot read property &#39;name&#39; of undefined</span></a></code></pre></div>
<p>The first time that the <code>displayName</code> method is called, it’s called directly on <code>p</code>, the instance of the <code>Person</code> class. “Jane Smith” is printed to the console because the <code>this</code> keyword is implicitly bound to the instance of the class allowing the <code>name</code> property on the instance to be found and passed to the <code>console.log</code> method.</p>
<p>The second time that the <code>displayName</code> method is called, a reference to the class method is stored in a variable and the method is called using the variable. This breaks the <code>this</code> keyword’s implicit binding to the instance of the class (i.e. <code>p</code>) resulting in the <code>TypeError</code> because <code>this</code> is <code>undefined</code>.</p>
<p>The <code>bind</code> method can be used to <em>explicitly</em> bind the <code>displayName</code> class method to the <code>p</code> class instance. The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind"><code>bind</code> method</a> returns a function that’s bound to the passed in object. Now the <code>displayName</code> variable can be successfully called to display the person’s name in the console:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">const</span> displayName <span class="op">=</span> <span class="va">p</span>.<span class="va">displayName</span>.<span class="at">bind</span>(p)<span class="op">;</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="at">displayName</span>()<span class="op">;</span> <span class="co">// Jane Smith</span></a></code></pre></div>
<p>Even though this is a simple, contrived example, it accurately models what is happening with the React component’s event handler method. When adding an event listener to a React element, you associate an event handler method with the element event you want to listen for by passing a reference to the event handler method:</p>
<pre class="jsx"><code>&lt;button type=&#39;button&#39; onClick={this.showAlert}&gt;Click Me&lt;/button&gt;</code></pre>
<p>Passing the reference to the <code>this.showAlert</code> class method to the <code>onClick</code> attribute breaks the <code>this</code> keyword’s implicit binding to the instance of the class (i.e. the instance of the <code>AlertButton</code> component).</p>
<p>The <code>bind</code> method, just like was done with the above <code>Person</code> class example, can be used in a React component <code>constructor</code> method to explicitly bind event handler methods to the component instance:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb38-2" title="2"></a>
<a class="sourceLine" id="cb38-3" title="3"><span class="kw">class</span> AlertButton <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb38-4" title="4">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb38-5" title="5">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb38-6" title="6"></a>
<a class="sourceLine" id="cb38-7" title="7">    <span class="kw">this</span>.<span class="at">showAlert</span> <span class="op">=</span> <span class="kw">this</span>.<span class="va">showAlert</span>.<span class="at">bind</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb38-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb38-9" title="9"></a>
<a class="sourceLine" id="cb38-10" title="10">  <span class="at">showAlert</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb38-11" title="11">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb38-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb38-13" title="13"></a>
<a class="sourceLine" id="cb38-14" title="14">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb38-15" title="15">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb38-16" title="16">      <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">showAlert</span><span class="op">}&gt;</span>Click Me&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-17" title="17">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb38-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb38-19" title="19"><span class="op">}</span></a>
<a class="sourceLine" id="cb38-20" title="20"></a>
<a class="sourceLine" id="cb38-21" title="21"><span class="im">export</span> <span class="im">default</span> AlertButton<span class="op">;</span></a></code></pre></div>
<h3 id="understanding-the-class-property-arrow-function-pattern">Understanding the class property + arrow function pattern</h3>
<p>To review, the pattern of defining an event handler method using a class property in combination with an arrow function looks like this:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" title="1">showAlert <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb39-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>What’s not apparent from this example is that the class property syntax, which allows you to define class properties (or fields as they’re sometimes called) <em>outside</em> of the <code>constructor</code> method, is an experimental syntax. Experimental JavaScript syntax is syntax that’s been proposed to add to <a href="https://en.wikipedia.org/wiki/ECMAScript">ECMAScript</a> (the scripting-language specification for JavaScript) but hasn’t officially been added to the language specification yet.</p>
<p>While some browsers support class property syntax, other browsers don’t. To reliably use class property syntax, your JavaScript code needs to be converted, or <em>transpiled</em>, into syntax that’s broadly supported by browsers.</p>
<p>When using Create React App to create a React application, Babel is configured on your behalf to transpile your JavaScript code (including JSX) into a version of JavaScript that’s broadly supported. When you run the application using <code>npm start</code>, the <code>AlertButton</code> component is transpiled by Babel into the following code:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">class</span> AlertButton <span class="kw">extends</span> <span class="va">react__WEBPACK_IMPORTED_MODULE_0___default</span>.<span class="va">a</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-2" title="2">  <span class="at">constructor</span>(...<span class="at">args</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb40-3" title="3">    <span class="kw">super</span>(...<span class="at">args</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-4" title="4"></a>
<a class="sourceLine" id="cb40-5" title="5">    <span class="kw">this</span>.<span class="at">showAlert</span> <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-6" title="6">      <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-7" title="7">    <span class="op">};</span></a>
<a class="sourceLine" id="cb40-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb40-9" title="9"></a>
<a class="sourceLine" id="cb40-10" title="10">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb40-11" title="11">    <span class="cf">return</span> <span class="co">/*#__PURE__*/</span><span class="va">react__WEBPACK_IMPORTED_MODULE_0___default</span>.<span class="va">a</span>.<span class="at">createElement</span>(<span class="st">&quot;button&quot;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-12" title="12">      <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;button&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-13" title="13">      <span class="dt">onClick</span><span class="op">:</span> <span class="kw">this</span>.<span class="at">showAlert</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-14" title="14">      <span class="dt">__self</span><span class="op">:</span> <span class="kw">this</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-15" title="15">      <span class="dt">__source</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-16" title="16">        <span class="dt">fileName</span><span class="op">:</span> _jsxFileName<span class="op">,</span></a>
<a class="sourceLine" id="cb40-17" title="17">        <span class="dt">lineNumber</span><span class="op">:</span> <span class="dv">24</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-18" title="18">        <span class="dt">columnNumber</span><span class="op">:</span> <span class="dv">7</span></a>
<a class="sourceLine" id="cb40-19" title="19">      <span class="op">}</span></a>
<a class="sourceLine" id="cb40-20" title="20">    <span class="op">},</span> <span class="st">&quot;Click Me&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-21" title="21">  <span class="op">}</span></a>
<a class="sourceLine" id="cb40-22" title="22"><span class="op">}</span></a></code></pre></div>
<p>Notice how the <code>showAlert</code> class property definition has been moved into the <code>constructor</code> method? The value of the <code>showAlert</code> property is set to the arrow function that defines the event handler method. Since arrow functions don’t have their own context, the event handler method inherits the surrounding lexical context, which is the <code>constructor</code> method’s context. That results in the <code>this</code> keyword within the arrow function referring to the instance of the component that’s being initialized by the <code>constructor</code> method.</p>
<p>An arrow function’s inherited context can’t be lost or changed. When the event handler method is called later on, when the button is clicked, the <code>this</code> keyword remains correctly bound to the instance of the component.</p>
<blockquote>
<p>You’ll learn more about transpilation and Babel in a future lesson. To read more about Babel and its support for the proposed class property syntax, see <a href="https://babeljs.io/docs/en/next/babel-plugin-proposal-class-properties.html">this page</a>.</p>
</blockquote>
<h3 id="pick-an-approach-and-be-consistent">Pick an approach and be consistent</h3>
<p>Feel free to use either approach, class properties and arrow functions or the <code>bind</code> method, to ensure that the <code>this</code> keyword can be reliably used in your event handler methods. Just be sure that whatever approach you or your team has decided to use, that you follow it consistently. Doing so will make it easier to read and maintain your code.</p>
<h2 id="the-syntheticevent-object">The <code>SyntheticEvent</code> object</h2>
<p>Earlier, an example was shown on how to prevent the default form submission from occurring when handling the <code>onSubmit</code> form event:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb41-1" title="1"><span class="co">// ./src/NoDefaultSubmitForm.js</span></a>
<a class="sourceLine" id="cb41-2" title="2"></a>
<a class="sourceLine" id="cb41-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb41-4" title="4"></a>
<a class="sourceLine" id="cb41-5" title="5"><span class="kw">class</span> NoDefaultSubmitForm <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb41-6" title="6">  submitForm <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb41-7" title="7">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb41-8" title="8">    <span class="va">window</span>.<span class="at">alert</span>(<span class="st">&#39;Handling form submission...&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb41-10" title="10"></a>
<a class="sourceLine" id="cb41-11" title="11">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb41-12" title="12">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb41-13" title="13">      <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">submitForm</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb41-14" title="14">        <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-15" title="15">      &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-16" title="16">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb41-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb41-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb41-19" title="19"></a>
<a class="sourceLine" id="cb41-20" title="20"><span class="im">export</span> <span class="im">default</span> NoDefaultSubmitForm<span class="op">;</span></a></code></pre></div>
<p>Notice that the <code>submitForm</code> event handler method defines a parameter named <code>e</code> which references an event object that’s the form submission event being handled.</p>
<p>In a React application, event objects are not the native browser event object types that you’d normally interact with when handling events using JavaScript in the browser. Instead, they’re instances of the <a href="https://reactjs.org/docs/events.html">React <code>SyntheticEvent</code> object type</a>.</p>
<p>An instance of the React <code>SyntheticEvent</code> object type wraps the native browser event object to normalize events across browser vendors. The <code>SyntheticEvent</code> object type follows the <a href="https://www.w3.org/TR/2019/WD-uievents-20190530/">W3C spec for UI events</a>, so you can use synthetic event objects just like you would if they were the native browser event objects. This gives you, the developer, a consistent, predictable experience working with events without having to worry about which browser your application is running within.</p>
<p>For your reference, the <code>SyntheticEvent</code> object type has the following attributes:</p>
<pre><code>boolean bubbles
boolean cancelable
DOMEventTarget currentTarget
boolean defaultPrevented
number eventPhase
boolean isTrusted
DOMEvent nativeEvent
void preventDefault()
boolean isDefaultPrevented()
void stopPropagation()
boolean isPropagationStopped()
void persist()
DOMEventTarget target
number timeStamp
string type</code></pre>
<p>Notice that a synthetic event object defines a property named <code>nativeEvent</code>. This property gives you access to the underlying native browser event, though you’ll rarely (if ever) need to access it.</p>
<h2 id="what-you-learned-2">What you learned</h2>
<p>In this article, you learned how to:</p>
<ul>
<li>Add event listeners to elements;</li>
<li>Prevent event default behavior;</li>
<li>Safely use the <code>this</code> keyword within event handlers; and</li>
<li>Describe what the React <code>SyntheticEvent</code> object is and the role it plays in handling events.</li>
</ul>
<hr />
<h1 id="react-forms">React Forms</h1>
<p>As you’ve learned in earlier lessons, HTML forms are an essential and ubiquitous part of the web. Forms are used to search, create resources (i.e. account, posts), update resources, and more. Learning how to create forms using React is an invaluable skill for you to learn and practice.</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Create a React class component containing a simple form;</li>
<li>Define a single event handler method to handle <code>onChange</code> events for multiple <code>&lt;input&gt;</code> elements;</li>
<li>Add a <code>&lt;textarea&gt;</code> element to a form;</li>
<li>Add a <code>&lt;select&gt;</code> element to a form; and</li>
<li>Implement form validations.</li>
</ul>
<h2 id="creating-a-simple-form">Creating a simple form</h2>
<p>To learn how to create an HTML form in React, you’ll create a <code>ContactUs</code> class component that’ll contain a simple “Contact Us” form. The form will initially contain just three fields:</p>
<ul>
<li>Name - The name of the user filling out the form;</li>
<li>Email - The user’s email; and</li>
<li>Phone - The user’s phone number.</li>
</ul>
<h3 id="defining-the-render-method">Defining the <code>render</code> method</h3>
<p>To start, add a class component named <code>ContactUs</code> and define the <code>render</code> method to render the HTML form:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb43-2" title="2"></a>
<a class="sourceLine" id="cb43-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb43-4" title="4"></a>
<a class="sourceLine" id="cb43-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-6" title="6">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb43-7" title="7">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb43-8" title="8">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-9" title="9">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-10" title="10">        <span class="op">&lt;</span>form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-11" title="11">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-12" title="12">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-13" title="13">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> /&gt;</a>
<a class="sourceLine" id="cb43-14" title="14">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-15" title="15">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-16" title="16">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-17" title="17">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> /&gt;</a>
<a class="sourceLine" id="cb43-18" title="18">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-19" title="19">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-20" title="20">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-21" title="21">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> /&gt;</a>
<a class="sourceLine" id="cb43-22" title="22">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-23" title="23">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-24" title="24">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-25" title="25">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-26" title="26">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-27" title="27">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-28" title="28">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb43-29" title="29">  <span class="op">}</span></a>
<a class="sourceLine" id="cb43-30" title="30"><span class="op">}</span></a>
<a class="sourceLine" id="cb43-31" title="31"></a>
<a class="sourceLine" id="cb43-32" title="32"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>So far, there’s nothing particularly interesting about this form. The only thing that looks different from regular HTML is that the <code>&lt;label&gt;</code> element’s <code>for</code> attribute is <code>htmlFor</code> in React.</p>
<blockquote>
<p>There are a variety of ways to structure the HTML for forms. The above form layout is compatible with the <a href="https://getbootstrap.com/docs/4.4/components/forms/">form CSS classes</a> available in the <a href="https://getbootstrap.com/">Bootstrap CSS framework</a>. While we won’t be applying any styles to the form in this article, the layout that we’ll use will make it easy to use Bootstrap at any point.</p>
</blockquote>
<p>If you’re following along, be sure to update your React application’s entry point to render the <code>ContactUs</code> component:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb44-2" title="2"></a>
<a class="sourceLine" id="cb44-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-5" title="5"><span class="im">import</span> ContactUs <span class="im">from</span> <span class="st">&#39;./ContactUs&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-6" title="6"></a>
<a class="sourceLine" id="cb44-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb44-8" title="8">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb44-9" title="9">    <span class="op">&lt;</span>ContactUs /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb44-10" title="10">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb44-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb44-12" title="12">)<span class="op">;</span></a></code></pre></div>
<p>At this point, you can run your application (<code>npm start</code>) and view the form in the browser. You can even fill out the form, but currently the component doesn’t initialize or update any state.</p>
<h3 id="adding-state-to-the-component">Adding state to the component</h3>
<p>To add state to the <code>ContactUs</code> component, you’ll add a <code>constructor</code> method that’ll initialize the <code>this.state</code> object with three properties: <code>name</code>, <code>email</code>, and <code>phone</code>. Then in the <code>render</code> method you’ll retrieve the <code>name</code>, <code>email</code>, and <code>phone</code> values from state and use them to set the <code>value</code> attributes on the corresponding form field <code>&lt;input&gt;</code> elements:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb45-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb45-2" title="2"></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb45-4" title="4"></a>
<a class="sourceLine" id="cb45-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb45-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb45-8" title="8"></a>
<a class="sourceLine" id="cb45-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb45-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb45-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb45-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb45-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb45-15" title="15"></a>
<a class="sourceLine" id="cb45-16" title="16">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb45-17" title="17">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb45-18" title="18"></a>
<a class="sourceLine" id="cb45-19" title="19">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb45-20" title="20">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-21" title="21">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-22" title="22">        <span class="op">&lt;</span>form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-23" title="23">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-24" title="24">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-25" title="25">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb45-26" title="26">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-27" title="27">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-28" title="28">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-29" title="29">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb45-30" title="30">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-31" title="31">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-32" title="32">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-33" title="33">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb45-34" title="34">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-35" title="35">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-36" title="36">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-37" title="37">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-38" title="38">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-39" title="39">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb45-40" title="40">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb45-41" title="41">  <span class="op">}</span></a>
<a class="sourceLine" id="cb45-42" title="42"><span class="op">}</span></a>
<a class="sourceLine" id="cb45-43" title="43"></a>
<a class="sourceLine" id="cb45-44" title="44"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>Next, when a form field element value is changed, the associated component state property needs to be updated. Adding or removing a character within an <code>&lt;input&gt;</code> element raises the <code>onChange</code> event, which makes it a natural choice for keeping the component state in sync:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb46-1" title="1"><span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">nameOnChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a></code></pre></div>
<p>Remember that when an event is raised, the associated event handler method is called and passed an instance of React’s <code>SyntheticEvent</code> object type. Here’s the <code>nameOnChange</code> event handler method that’s associated with the above “Name” form field:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" title="1">nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-2" title="2">  <span class="co">// `e` is a `SyntheticEvent` object.</span></a>
<a class="sourceLine" id="cb47-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>A reference to the element that raised the event is available through the <code>SyntheticEvent</code> object’s <code>target</code> property. Using the reference to the form field element, you can retrieve the current value like this:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb48-1" title="1">nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb48-2" title="2">  <span class="kw">const</span> name <span class="op">=</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb48-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>With the current form field value in hand, call the <code>this.setState</code> method to update the corresponding state value:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" title="1">nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-2" title="2">  <span class="kw">const</span> name <span class="op">=</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-3" title="3">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> name <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>With a little refactoring, you can condense the event handler method to a single line of code:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb50-1" title="1">nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb50-2" title="2">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb50-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Using the same approach to add an <code>onChange</code> event handler to the “Email” and “Phone” form fields gives you this:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb51-2" title="2"></a>
<a class="sourceLine" id="cb51-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb51-4" title="4"></a>
<a class="sourceLine" id="cb51-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb51-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb51-8" title="8"></a>
<a class="sourceLine" id="cb51-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb51-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb51-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb51-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb51-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-15" title="15"></a>
<a class="sourceLine" id="cb51-16" title="16">  nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-17" title="17">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-19" title="19"></a>
<a class="sourceLine" id="cb51-20" title="20">  emailOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-21" title="21">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">email</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-23" title="23"></a>
<a class="sourceLine" id="cb51-24" title="24">  phoneOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-25" title="25">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">phone</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-26" title="26">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-27" title="27"></a>
<a class="sourceLine" id="cb51-28" title="28">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb51-29" title="29">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb51-30" title="30"></a>
<a class="sourceLine" id="cb51-31" title="31">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb51-32" title="32">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-33" title="33">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-34" title="34">        <span class="op">&lt;</span>form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-35" title="35">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-36" title="36">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-37" title="37">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">nameOnChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb51-38" title="38">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-39" title="39">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-40" title="40">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-41" title="41">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">emailOnChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb51-42" title="42">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-43" title="43">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-44" title="44">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-45" title="45">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">phoneOnChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb51-46" title="46">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-47" title="47">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-48" title="48">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-49" title="49">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-50" title="50">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-51" title="51">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb51-52" title="52">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb51-53" title="53">  <span class="op">}</span></a>
<a class="sourceLine" id="cb51-54" title="54"><span class="op">}</span></a>
<a class="sourceLine" id="cb51-55" title="55"></a>
<a class="sourceLine" id="cb51-56" title="56"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>If you view the form again in the browser and open the React Developer Tools, you can see the component’s state update as you type within each of the form fields (i.e the <code>&lt;input&gt;</code> elements).</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-class-components/assets/react-forms-onchange-event-handler.png" alt="onchange event handler" /><figcaption>onchange event handler</figcaption>
</figure>
<h3 id="handling-form-submissions">Handling form submissions</h3>
<p>Now that the <code>ContactUs</code> component is initializing and updating state when form field values are changed, it’s time to handle form submissions! To start, add an <code>onSubmit</code> event handler to the form and within the <code>onSubmit</code> event handler prevent the default behavior so that the page doesn’t reload:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb52-1" title="1"><span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb53-1" title="1">onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb53-2" title="2">  <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb53-3" title="3">  <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb53-4" title="4">  <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb53-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Then retrieve the <code>name</code>, <code>email</code>, and <code>phone</code> values from state and use those values to create a new <code>contactUsInformation</code> object literal:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb54-1" title="1">onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb54-2" title="2">  <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb54-3" title="3">  <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb54-4" title="4">  <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb54-5" title="5"></a>
<a class="sourceLine" id="cb54-6" title="6">  <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb54-7" title="7">  <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb54-8" title="8"></a>
<a class="sourceLine" id="cb54-9" title="9">  <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb54-10" title="10">  <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb54-11" title="11">    name<span class="op">,</span></a>
<a class="sourceLine" id="cb54-12" title="12">    email<span class="op">,</span></a>
<a class="sourceLine" id="cb54-13" title="13">    phone<span class="op">,</span></a>
<a class="sourceLine" id="cb54-14" title="14">    <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb54-15" title="15">  <span class="op">};</span></a>
<a class="sourceLine" id="cb54-16" title="16"></a>
<a class="sourceLine" id="cb54-17" title="17">  <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb54-18" title="18">  <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb54-19" title="19">  <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb54-20" title="20">  <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb54-21" title="21"><span class="op">}</span></a></code></pre></div>
<p>Notice that an additional property, <code>submittedOn</code>, is being added to the <code>contactUsInformation</code> object literal to indicate the date/time that the information was submitted. Ideally, the <code>contactUsInformation</code> object would be persist to a database using a REST API, but for now, you’ll just log the object to the console.</p>
<p>Now that the form submission has been processed, call the <code>this.setState</code> method to reset the <code>name</code>, <code>email</code>, and <code>phone</code> values:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb55-1" title="1">onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb55-2" title="2">  <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb55-3" title="3">  <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb55-4" title="4">  <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb55-5" title="5"></a>
<a class="sourceLine" id="cb55-6" title="6">  <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb55-7" title="7">  <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb55-8" title="8"></a>
<a class="sourceLine" id="cb55-9" title="9">  <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb55-10" title="10">  <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb55-11" title="11">    name<span class="op">,</span></a>
<a class="sourceLine" id="cb55-12" title="12">    email<span class="op">,</span></a>
<a class="sourceLine" id="cb55-13" title="13">    phone<span class="op">,</span></a>
<a class="sourceLine" id="cb55-14" title="14">    <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb55-15" title="15">  <span class="op">};</span></a>
<a class="sourceLine" id="cb55-16" title="16"></a>
<a class="sourceLine" id="cb55-17" title="17">  <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb55-18" title="18">  <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb55-19" title="19">  <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb55-20" title="20">  <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-21" title="21"></a>
<a class="sourceLine" id="cb55-22" title="22">  <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb55-23" title="23">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb55-24" title="24">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb55-25" title="25">    <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb55-26" title="26">    <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb55-27" title="27">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb55-28" title="28"><span class="op">}</span></a></code></pre></div>
<p>Putting all of that together gives you this:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb56-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb56-2" title="2"></a>
<a class="sourceLine" id="cb56-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-4" title="4"></a>
<a class="sourceLine" id="cb56-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb56-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb56-8" title="8"></a>
<a class="sourceLine" id="cb56-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb56-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-15" title="15"></a>
<a class="sourceLine" id="cb56-16" title="16">  nameOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-17" title="17">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-19" title="19"></a>
<a class="sourceLine" id="cb56-20" title="20">  emailOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-21" title="21">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">email</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-23" title="23"></a>
<a class="sourceLine" id="cb56-24" title="24">  phoneOnChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-25" title="25">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">phone</span><span class="op">:</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-26" title="26">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-27" title="27"></a>
<a class="sourceLine" id="cb56-28" title="28">  onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-29" title="29">    <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb56-30" title="30">    <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb56-31" title="31">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb56-32" title="32"></a>
<a class="sourceLine" id="cb56-33" title="33">    <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb56-34" title="34">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb56-35" title="35"></a>
<a class="sourceLine" id="cb56-36" title="36">    <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb56-37" title="37">    <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-38" title="38">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb56-39" title="39">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb56-40" title="40">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb56-41" title="41">      <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb56-42" title="42">    <span class="op">};</span></a>
<a class="sourceLine" id="cb56-43" title="43"></a>
<a class="sourceLine" id="cb56-44" title="44">    <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb56-45" title="45">    <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb56-46" title="46">    <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb56-47" title="47">    <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-48" title="48"></a>
<a class="sourceLine" id="cb56-49" title="49">    <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb56-50" title="50">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb56-51" title="51">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-52" title="52">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-53" title="53">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb56-54" title="54">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-55" title="55">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-56" title="56"></a>
<a class="sourceLine" id="cb56-57" title="57">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb56-58" title="58">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-59" title="59"></a>
<a class="sourceLine" id="cb56-60" title="60">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb56-61" title="61">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-62" title="62">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-63" title="63">        <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb56-64" title="64">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-65" title="65">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-66" title="66">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">nameOnChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb56-67" title="67">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-68" title="68">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-69" title="69">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-70" title="70">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">emailOnChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb56-71" title="71">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-72" title="72">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-73" title="73">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-74" title="74">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">phoneOnChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb56-75" title="75">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-76" title="76">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-77" title="77">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-78" title="78">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-79" title="79">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-80" title="80">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb56-81" title="81">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb56-82" title="82">  <span class="op">}</span></a>
<a class="sourceLine" id="cb56-83" title="83"><span class="op">}</span></a>
<a class="sourceLine" id="cb56-84" title="84"></a>
<a class="sourceLine" id="cb56-85" title="85"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>If you run your application again and view the form in the browser, you can fill out each form field and click “Submit” to submit the form. Notice that the page doesn’t reload! And if you look in the developer tool’s console, you’ll see an object containing your contact us information.</p>
<h3 id="controlled-components">Controlled components</h3>
<p>Congrats! You’ve completed your first simple React form! In doing so, you used what’s known as “controlled components”.</p>
<p>HTML form elements naturally maintain their own state. For example, an <code>input</code> element will track the state of the value that’s typed within it (without any help from libraries like React). But a React class component uses <code>this.state</code> to track its internal state. To keep a component’s state as the “one source of truth”, <code>onChange</code> event handlers are used on form field elements to update the component’s state when a form element’s state has changed.</p>
<p>This approach of making the component’s state the “one source of truth” is called “controlled components”.</p>
<p>To help understand how this works, here’s an overview of the flow:</p>
<ul>
<li>A user types a character within a form <code>&lt;input&gt;</code> element;</li>
<li>The <code>&lt;input&gt;</code> element’s <code>onChange</code> event is raised;</li>
<li>The event handler method associated with the <code>&lt;input&gt;</code> element’s <code>onChange</code> event is called;</li>
<li>The event handler method calls the <code>this.setState</code> method to update the form field’s value in state;</li>
<li>Updating the component’s state causes React to re-render the component (i.e. the <code>render</code> method is called); and</li>
<li>The form <code>&lt;input&gt;</code> element is rendered with its <code>value</code> attribute set to the associated value from <code>this.state</code>.</li>
</ul>
<p>While all of the above steps might <em>feel</em> like a lot, in reality, the entire process happens very quickly. You can test this yourself by playing around with the <code>ContactUs</code> component. Typing within each of the form fields feels completely natural.</p>
<h2 id="handling-multiple-elements">Handling multiple elements</h2>
<p>Adding an <code>onChange</code> event handler method for each form element can become tedious and quickly bloat the code for your component. Luckily, you can define a single <code>onChange</code> event handler that’ll work for every form element.</p>
<p>Earlier you learned that a reference to the element that raised the <code>onChange</code> event is available through the <code>SyntheticEvent</code> object’s <code>target</code> property. Using the reference to the form field element, you can retrieve the current value and <em>name</em> of the element like this:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb57-1" title="1">onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-2" title="2">  <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb57-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>If the form field element’s <code>name</code> attribute matches the state property name then you can use it to index into the state object to update its value:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb58-1" title="1">onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb58-2" title="2">  <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb58-3" title="3">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> [name]<span class="op">:</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>This one event handler method can replace all three of the existing <code>onChange</code> event handler methods: <code>nameOnChange</code>, <code>emailOnChange</code>, and <code>phoneOnChange</code>. To make this work, add <code>name</code> attributes to each of the form field <code>&lt;input&gt;</code> elements and update the <code>onChange</code> attributes to reference the new <code>this.onChange</code> event handler method:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb59-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb59-2" title="2"></a>
<a class="sourceLine" id="cb59-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-4" title="4"></a>
<a class="sourceLine" id="cb59-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb59-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb59-8" title="8"></a>
<a class="sourceLine" id="cb59-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb59-15" title="15"></a>
<a class="sourceLine" id="cb59-16" title="16">  onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-17" title="17">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-18" title="18">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> [name]<span class="op">:</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-19" title="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb59-20" title="20"></a>
<a class="sourceLine" id="cb59-21" title="21">  onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-22" title="22">    <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb59-23" title="23">    <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb59-24" title="24">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb59-25" title="25"></a>
<a class="sourceLine" id="cb59-26" title="26">    <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb59-27" title="27">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb59-28" title="28"></a>
<a class="sourceLine" id="cb59-29" title="29">    <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb59-30" title="30">    <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-31" title="31">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb59-32" title="32">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb59-33" title="33">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb59-34" title="34">      <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb59-35" title="35">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-36" title="36"></a>
<a class="sourceLine" id="cb59-37" title="37">    <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb59-38" title="38">    <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb59-39" title="39">    <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb59-40" title="40">    <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-41" title="41"></a>
<a class="sourceLine" id="cb59-42" title="42">    <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb59-43" title="43">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb59-44" title="44">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-45" title="45">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-46" title="46">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb59-47" title="47">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-48" title="48">  <span class="op">}</span></a>
<a class="sourceLine" id="cb59-49" title="49"></a>
<a class="sourceLine" id="cb59-50" title="50">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb59-51" title="51">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-52" title="52"></a>
<a class="sourceLine" id="cb59-53" title="53">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb59-54" title="54">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-55" title="55">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-56" title="56">        <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb59-57" title="57">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-58" title="58">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-59" title="59">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> name<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb59-60" title="60">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-61" title="61">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-62" title="62">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-63" title="63">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> name<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb59-64" title="64">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-65" title="65">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-66" title="66">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-67" title="67">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb59-68" title="68">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-69" title="69">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-70" title="70">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-71" title="71">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-72" title="72">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-73" title="73">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb59-74" title="74">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb59-75" title="75">  <span class="op">}</span></a>
<a class="sourceLine" id="cb59-76" title="76"><span class="op">}</span></a>
<a class="sourceLine" id="cb59-77" title="77"></a>
<a class="sourceLine" id="cb59-78" title="78"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>Don’t forget to remove the <code>nameOnChange</code>, <code>emailOnChange</code>, and <code>phoneOnChange</code> event handler methods from your class component!</p>
<h2 id="adding-a-text-area">Adding a text area</h2>
<p>In a regular HTML form, the value for a <code>&lt;textarea&gt;</code> element is defined by its inner content:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb60-1" title="1"><span class="kw">&lt;textarea&gt;</span>This is the value for the text area element.<span class="kw">&lt;/textarea&gt;</span></a></code></pre></div>
<p>The <code>&lt;textarea&gt;</code> element, in React, uses a <code>value</code> attribute instead of its inner content to define its value. This allows the <code>&lt;textarea&gt;</code> element to be handled in the same way as <code>&lt;input&gt;</code> elements.</p>
<p>To see this in action, add a “Comments” field to the form:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb61-1" title="1"><span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb61-2" title="2">  <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;comments&#39;</span><span class="op">&gt;</span>Comments<span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb61-3" title="3">  <span class="op">&lt;</span>textarea id<span class="op">=</span><span class="st">&#39;comments&#39;</span> name<span class="op">=</span><span class="st">&#39;comments&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>comments<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb61-4" title="4">&lt;/div<span class="op">&gt;</span></a></code></pre></div>
<p>To support this new form field, you’ll need to also update the <code>constructor</code>, <code>onSubmit</code>, and <code>render</code> methods:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb62-2" title="2"></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb62-4" title="4"></a>
<a class="sourceLine" id="cb62-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb62-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb62-8" title="8"></a>
<a class="sourceLine" id="cb62-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-13" title="13">      <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-14" title="14">    <span class="op">};</span></a>
<a class="sourceLine" id="cb62-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb62-16" title="16"></a>
<a class="sourceLine" id="cb62-17" title="17">  onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-18" title="18">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb62-19" title="19">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> [name]<span class="op">:</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-20" title="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb62-21" title="21"></a>
<a class="sourceLine" id="cb62-22" title="22">  onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-23" title="23">    <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb62-24" title="24">    <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb62-25" title="25">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb62-26" title="26"></a>
<a class="sourceLine" id="cb62-27" title="27">    <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb62-28" title="28">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone<span class="op">,</span> comments <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb62-29" title="29"></a>
<a class="sourceLine" id="cb62-30" title="30">    <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb62-31" title="31">    <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-32" title="32">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb62-33" title="33">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb62-34" title="34">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb62-35" title="35">      comments<span class="op">,</span></a>
<a class="sourceLine" id="cb62-36" title="36">      <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb62-37" title="37">    <span class="op">};</span></a>
<a class="sourceLine" id="cb62-38" title="38"></a>
<a class="sourceLine" id="cb62-39" title="39">    <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb62-40" title="40">    <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb62-41" title="41">    <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb62-42" title="42">    <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-43" title="43"></a>
<a class="sourceLine" id="cb62-44" title="44">    <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb62-45" title="45">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb62-46" title="46">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-47" title="47">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-48" title="48">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-49" title="49">      <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb62-50" title="50">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-51" title="51">  <span class="op">}</span></a>
<a class="sourceLine" id="cb62-52" title="52"></a>
<a class="sourceLine" id="cb62-53" title="53">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb62-54" title="54">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone<span class="op">,</span> comments <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb62-55" title="55"></a>
<a class="sourceLine" id="cb62-56" title="56">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb62-57" title="57">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-58" title="58">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-59" title="59">        <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb62-60" title="60">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-61" title="61">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-62" title="62">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> name<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb62-63" title="63">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-64" title="64">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-65" title="65">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-66" title="66">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> name<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb62-67" title="67">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-68" title="68">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-69" title="69">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-70" title="70">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb62-71" title="71">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-72" title="72">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-73" title="73">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;comments&#39;</span><span class="op">&gt;</span><span class="dt">Comments</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-74" title="74">            <span class="op">&lt;</span>textarea id<span class="op">=</span><span class="st">&#39;comments&#39;</span> name<span class="op">=</span><span class="st">&#39;comments&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>comments<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb62-75" title="75">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-76" title="76">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-77" title="77">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-78" title="78">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-79" title="79">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-80" title="80">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb62-81" title="81">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb62-82" title="82">  <span class="op">}</span></a>
<a class="sourceLine" id="cb62-83" title="83"><span class="op">}</span></a>
<a class="sourceLine" id="cb62-84" title="84"></a>
<a class="sourceLine" id="cb62-85" title="85"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<h2 id="adding-a-select-list">Adding a select list</h2>
<p>To maintain symmetry across React form element types, the <code>&lt;select&gt;</code> element also uses a <code>value</code> attribute to get and set the element’s selected option. To see this in action, add a <code>&lt;select&gt;</code> element to the right of the <code>&lt;input&gt;</code> element for the “Phone” form field, to give the user a way to specify what type of phone number they’re providing:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb63-1" title="1"><span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-2" title="2">  <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span>Phone<span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-3" title="3">  <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb63-4" title="4">  <span class="op">&lt;</span>select name<span class="op">=</span><span class="st">&#39;phoneType&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phoneType<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb63-5" title="5">    <span class="op">&lt;</span>option value<span class="op">=</span><span class="st">&#39;&#39;</span><span class="op">&gt;</span>Select a phone <span class="va">type</span>...&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-6" title="6">    <span class="op">&lt;</span>option<span class="op">&gt;</span>Home&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-7" title="7">    <span class="op">&lt;</span>option<span class="op">&gt;</span>Work&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-8" title="8">    <span class="op">&lt;</span>option<span class="op">&gt;</span>Mobile&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-9" title="9">  &lt;/select<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-10" title="10">&lt;/div<span class="op">&gt;</span></a></code></pre></div>
<p>In the above <code>&lt;select&gt;</code> list, the <code>&lt;option&gt;</code> elements are statically rendered, but it’s also possible to dynamically render them from an array of values. For the array of phone type option values, define a default value for a prop named <code>phoneTypes</code>:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb64-1" title="1"><span class="va">ContactUs</span>.<span class="at">defaultProps</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb64-2" title="2">  <span class="dt">phoneTypes</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb64-3" title="3">    <span class="st">&#39;Home&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb64-4" title="4">    <span class="st">&#39;Work&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb64-5" title="5">    <span class="st">&#39;Mobile&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb64-6" title="6">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb64-7" title="7"><span class="op">};</span></a></code></pre></div>
<p>Then render the <code>&lt;select&gt;</code> list options using the <code>this.props.phoneTypes</code> array:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb65-1" title="1"><span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-2" title="2">  <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span>Phone<span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-3" title="3">  <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb65-4" title="4">  <span class="op">&lt;</span>select name<span class="op">=</span><span class="st">&#39;phoneType&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phoneType<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb65-5" title="5">    <span class="op">&lt;</span>option value<span class="op">=</span><span class="st">&#39;&#39;</span><span class="op">&gt;</span>Select a phone <span class="va">type</span>...&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-6" title="6">    <span class="op">{</span></a>
<a class="sourceLine" id="cb65-7" title="7">      <span class="kw">this</span>.<span class="va">props</span>.<span class="va">phoneTypes</span>.<span class="at">map</span>(phoneType <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb65-8" title="8">        <span class="op">&lt;</span>option key<span class="op">={</span>phoneType<span class="op">}&gt;{</span>phoneType<span class="op">}</span>&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-9" title="9">      )</a>
<a class="sourceLine" id="cb65-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb65-11" title="11">  &lt;/select<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb65-12" title="12">&lt;/div<span class="op">&gt;</span></a></code></pre></div>
<p>Notice that you can leave the first “Select a phone type…” <code>&lt;option&gt;</code> element as a static element before rendering the dynamic <code>&lt;option&gt;</code> elements.</p>
<p>To complete this new field, update the <code>constructor</code>, <code>onSubmit</code>, and <code>render</code> methods just like you did when adding the “Comments” form field:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb66-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb66-2" title="2"></a>
<a class="sourceLine" id="cb66-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb66-4" title="4"></a>
<a class="sourceLine" id="cb66-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb66-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb66-8" title="8"></a>
<a class="sourceLine" id="cb66-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-13" title="13">      <span class="dt">phoneType</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-14" title="14">      <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-15" title="15">    <span class="op">};</span></a>
<a class="sourceLine" id="cb66-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb66-17" title="17"></a>
<a class="sourceLine" id="cb66-18" title="18">  onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-19" title="19">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb66-20" title="20">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> [name]<span class="op">:</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-21" title="21">  <span class="op">}</span></a>
<a class="sourceLine" id="cb66-22" title="22"></a>
<a class="sourceLine" id="cb66-23" title="23">  onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-24" title="24">    <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb66-25" title="25">    <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb66-26" title="26">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb66-27" title="27"></a>
<a class="sourceLine" id="cb66-28" title="28">    <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb66-29" title="29">    <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-30" title="30">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb66-31" title="31">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb66-32" title="32">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb66-33" title="33">      phoneType<span class="op">,</span></a>
<a class="sourceLine" id="cb66-34" title="34">      comments<span class="op">,</span></a>
<a class="sourceLine" id="cb66-35" title="35">    <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb66-36" title="36"></a>
<a class="sourceLine" id="cb66-37" title="37">    <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb66-38" title="38">    <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-39" title="39">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb66-40" title="40">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb66-41" title="41">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb66-42" title="42">      phoneType<span class="op">,</span></a>
<a class="sourceLine" id="cb66-43" title="43">      comments<span class="op">,</span></a>
<a class="sourceLine" id="cb66-44" title="44">      <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb66-45" title="45">    <span class="op">};</span></a>
<a class="sourceLine" id="cb66-46" title="46"></a>
<a class="sourceLine" id="cb66-47" title="47">    <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb66-48" title="48">    <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb66-49" title="49">    <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb66-50" title="50">    <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-51" title="51"></a>
<a class="sourceLine" id="cb66-52" title="52">    <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb66-53" title="53">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb66-54" title="54">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-55" title="55">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-56" title="56">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-57" title="57">      <span class="dt">phoneType</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-58" title="58">      <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-59" title="59">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-60" title="60">  <span class="op">}</span></a>
<a class="sourceLine" id="cb66-61" title="61"></a>
<a class="sourceLine" id="cb66-62" title="62">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb66-63" title="63">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> email<span class="op">,</span> phone<span class="op">,</span> phoneType<span class="op">,</span> comments <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb66-64" title="64"></a>
<a class="sourceLine" id="cb66-65" title="65">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb66-66" title="66">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-67" title="67">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-68" title="68">        <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb66-69" title="69">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-70" title="70">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-71" title="71">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> name<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb66-72" title="72">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-73" title="73">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-74" title="74">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-75" title="75">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> name<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb66-76" title="76">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-77" title="77">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-78" title="78">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-79" title="79">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb66-80" title="80">            <span class="op">&lt;</span>select name<span class="op">=</span><span class="st">&#39;phoneType&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phoneType<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb66-81" title="81">              <span class="op">&lt;</span>option value<span class="op">=</span><span class="st">&#39;&#39;</span><span class="op">&gt;</span>Select a phone <span class="va">type</span>...&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-82" title="82">              <span class="op">{</span></a>
<a class="sourceLine" id="cb66-83" title="83">                <span class="kw">this</span>.<span class="va">props</span>.<span class="va">phoneTypes</span>.<span class="at">map</span>(phoneType <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb66-84" title="84">                  <span class="op">&lt;</span>option key<span class="op">={</span>phoneType<span class="op">}&gt;{</span>phoneType<span class="op">}</span>&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-85" title="85">                )</a>
<a class="sourceLine" id="cb66-86" title="86">              <span class="op">}</span></a>
<a class="sourceLine" id="cb66-87" title="87">            &lt;/select<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-88" title="88">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-89" title="89">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-90" title="90">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;comments&#39;</span><span class="op">&gt;</span><span class="dt">Comments</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-91" title="91">            <span class="op">&lt;</span>textarea id<span class="op">=</span><span class="st">&#39;comments&#39;</span> name<span class="op">=</span><span class="st">&#39;comments&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>comments<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb66-92" title="92">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-93" title="93">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-94" title="94">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-95" title="95">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-96" title="96">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-97" title="97">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb66-98" title="98">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb66-99" title="99">  <span class="op">}</span></a>
<a class="sourceLine" id="cb66-100" title="100"><span class="op">}</span></a>
<a class="sourceLine" id="cb66-101" title="101"></a>
<a class="sourceLine" id="cb66-102" title="102"><span class="va">ContactUs</span>.<span class="at">defaultProps</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-103" title="103">  <span class="dt">phoneTypes</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb66-104" title="104">    <span class="st">&#39;Home&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-105" title="105">    <span class="st">&#39;Work&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-106" title="106">    <span class="st">&#39;Mobile&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb66-107" title="107">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb66-108" title="108"><span class="op">};</span></a>
<a class="sourceLine" id="cb66-109" title="109"></a>
<a class="sourceLine" id="cb66-110" title="110"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<h2 id="implementing-validations">Implementing validations</h2>
<p>One last feature needs to be added before the simple “Contact Us” form is done: form validation. Without validation, a user can submit the form without providing a single bit of data. To implement form validation, you’ll use vanilla JS to validate that the “Name” and “Email” form fields have values before allowing the form to be submitted.</p>
<p>To do that, add a method to your class component named <code>validate</code> that accepts <code>name</code> and <code>email</code> parameters. Use conditional statements to check the truthiness of the <code>name</code> and <code>email</code> parameters. If either parameter is <code>false</code>, add an appropriate validation error message to a <code>validationErrors</code> array and return the array from the method:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb67-1" title="1"><span class="at">validate</span>(name<span class="op">,</span> email) <span class="op">{</span></a>
<a class="sourceLine" id="cb67-2" title="2">  <span class="kw">const</span> validationErrors <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb67-3" title="3"></a>
<a class="sourceLine" id="cb67-4" title="4">  <span class="cf">if</span> (<span class="op">!</span>name) <span class="op">{</span></a>
<a class="sourceLine" id="cb67-5" title="5">    <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide a Name&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb67-7" title="7"></a>
<a class="sourceLine" id="cb67-8" title="8">  <span class="cf">if</span> (<span class="op">!</span>email) <span class="op">{</span></a>
<a class="sourceLine" id="cb67-9" title="9">    <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide an Email&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-10" title="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb67-11" title="11">  </a>
<a class="sourceLine" id="cb67-12" title="12">  <span class="cf">return</span> validationErrors<span class="op">;</span></a>
<a class="sourceLine" id="cb67-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>Within the <code>onSubmit</code> event handler method, call the <code>validate</code> method and check the length of the returned array to see if there are any validation errors. If there are validation errors, then call the <code>this.setState</code> method to update the component state, otherwise process the form submission:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb68-1" title="1"><span class="co">// Get validation errors.</span></a>
<a class="sourceLine" id="cb68-2" title="2"><span class="kw">const</span> validationErrors <span class="op">=</span> <span class="kw">this</span>.<span class="at">validate</span>(name<span class="op">,</span> email)<span class="op">;</span></a>
<a class="sourceLine" id="cb68-3" title="3"></a>
<a class="sourceLine" id="cb68-4" title="4"><span class="co">// If we have validation errors...</span></a>
<a class="sourceLine" id="cb68-5" title="5"><span class="cf">if</span> (<span class="va">validationErrors</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb68-6" title="6">  <span class="co">// Update the state to display the validation errors.</span></a>
<a class="sourceLine" id="cb68-7" title="7">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> validationErrors <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb68-8" title="8"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb68-9" title="9">  <span class="co">// Process the form submission...</span></a>
<a class="sourceLine" id="cb68-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>In the <code>render</code> method, use an inline conditional expression with a logical <code>&amp;&amp;</code> operator to conditionally render an unordered list of validation messages if the <code>validationErrors</code> array has a <code>length</code> greater than <code>0</code>:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb69-1" title="1"><span class="op">{</span> <span class="va">validationErrors</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> (</a>
<a class="sourceLine" id="cb69-2" title="2">    <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb69-3" title="3">      The following errors were <span class="dt">found</span><span class="op">:</span></a>
<a class="sourceLine" id="cb69-4" title="4">      <span class="op">&lt;</span>ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb69-5" title="5">        <span class="op">{</span><span class="va">validationErrors</span>.<span class="at">map</span>(error <span class="kw">=&gt;</span> <span class="op">&lt;</span>li key<span class="op">={</span>error<span class="op">}&gt;{</span>error<span class="op">}</span>&lt;/li<span class="op">&gt;</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb69-6" title="6">      &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb69-7" title="7">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb69-8" title="8">  )</a>
<a class="sourceLine" id="cb69-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>You’ll also need to update the <code>constructor</code> method to initialize the <code>validationErrors</code> state property:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb70-1" title="1"><span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb70-2" title="2">  <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb70-3" title="3"></a>
<a class="sourceLine" id="cb70-4" title="4">  <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-5" title="5">    <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb70-6" title="6">    <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb70-7" title="7">    <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb70-8" title="8">    <span class="dt">phoneType</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb70-9" title="9">    <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb70-10" title="10">    <span class="dt">validationErrors</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="cb70-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb70-12" title="12"><span class="op">}</span></a></code></pre></div>
<p>Putting all of that together, here’s what the updated <code>ContactUs</code> class component should look like now:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb71-1" title="1"><span class="co">// ./src/ContactUs.js</span></a>
<a class="sourceLine" id="cb71-2" title="2"></a>
<a class="sourceLine" id="cb71-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb71-4" title="4"></a>
<a class="sourceLine" id="cb71-5" title="5"><span class="kw">class</span> ContactUs <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb71-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb71-8" title="8"></a>
<a class="sourceLine" id="cb71-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-10" title="10">      <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-11" title="11">      <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-12" title="12">      <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-13" title="13">      <span class="dt">phoneType</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-14" title="14">      <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-15" title="15">      <span class="dt">validationErrors</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="cb71-16" title="16">    <span class="op">};</span></a>
<a class="sourceLine" id="cb71-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb71-18" title="18"></a>
<a class="sourceLine" id="cb71-19" title="19">  onChange <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-20" title="20">    <span class="kw">const</span> <span class="op">{</span> name<span class="op">,</span> value <span class="op">}</span> <span class="op">=</span> <span class="va">e</span>.<span class="at">target</span><span class="op">;</span></a>
<a class="sourceLine" id="cb71-21" title="21">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> [name]<span class="op">:</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb71-23" title="23"></a>
<a class="sourceLine" id="cb71-24" title="24">  <span class="at">validate</span>(name<span class="op">,</span> email) <span class="op">{</span></a>
<a class="sourceLine" id="cb71-25" title="25">    <span class="kw">const</span> validationErrors <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb71-26" title="26"></a>
<a class="sourceLine" id="cb71-27" title="27">    <span class="cf">if</span> (<span class="op">!</span>name) <span class="op">{</span></a>
<a class="sourceLine" id="cb71-28" title="28">      <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide a Name&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-29" title="29">    <span class="op">}</span></a>
<a class="sourceLine" id="cb71-30" title="30"></a>
<a class="sourceLine" id="cb71-31" title="31">    <span class="cf">if</span> (<span class="op">!</span>email) <span class="op">{</span></a>
<a class="sourceLine" id="cb71-32" title="32">      <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide an Email&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-33" title="33">    <span class="op">}</span></a>
<a class="sourceLine" id="cb71-34" title="34">    </a>
<a class="sourceLine" id="cb71-35" title="35">    <span class="cf">return</span> validationErrors<span class="op">;</span></a>
<a class="sourceLine" id="cb71-36" title="36">  <span class="op">}</span></a>
<a class="sourceLine" id="cb71-37" title="37"></a>
<a class="sourceLine" id="cb71-38" title="38">  onSubmit <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-39" title="39">    <span class="co">// Prevent the default form behavior</span></a>
<a class="sourceLine" id="cb71-40" title="40">    <span class="co">// so the page doesn&#39;t reload.</span></a>
<a class="sourceLine" id="cb71-41" title="41">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb71-42" title="42"></a>
<a class="sourceLine" id="cb71-43" title="43">    <span class="co">// Retrieve the contact us information from state.</span></a>
<a class="sourceLine" id="cb71-44" title="44">    <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-45" title="45">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb71-46" title="46">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb71-47" title="47">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb71-48" title="48">      phoneType<span class="op">,</span></a>
<a class="sourceLine" id="cb71-49" title="49">      comments<span class="op">,</span></a>
<a class="sourceLine" id="cb71-50" title="50">    <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span> </a>
<a class="sourceLine" id="cb71-51" title="51"></a>
<a class="sourceLine" id="cb71-52" title="52">    <span class="co">// Get validation errors.</span></a>
<a class="sourceLine" id="cb71-53" title="53">    <span class="kw">const</span> validationErrors <span class="op">=</span> <span class="kw">this</span>.<span class="at">validate</span>(name<span class="op">,</span> email)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-54" title="54"></a>
<a class="sourceLine" id="cb71-55" title="55">    <span class="co">// If we have validation errors...</span></a>
<a class="sourceLine" id="cb71-56" title="56">    <span class="cf">if</span> (<span class="va">validationErrors</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb71-57" title="57">      <span class="co">// Update the state to display the validation errors.</span></a>
<a class="sourceLine" id="cb71-58" title="58">      <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> validationErrors <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-59" title="59">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-60" title="60">      <span class="co">// Create a new object for the contact us information.</span></a>
<a class="sourceLine" id="cb71-61" title="61">      <span class="kw">const</span> contactUsInformation <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-62" title="62">        name<span class="op">,</span></a>
<a class="sourceLine" id="cb71-63" title="63">        email<span class="op">,</span></a>
<a class="sourceLine" id="cb71-64" title="64">        phone<span class="op">,</span></a>
<a class="sourceLine" id="cb71-65" title="65">        phoneType<span class="op">,</span></a>
<a class="sourceLine" id="cb71-66" title="66">        comments<span class="op">,</span></a>
<a class="sourceLine" id="cb71-67" title="67">        <span class="dt">submittedOn</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb71-68" title="68">      <span class="op">};</span></a>
<a class="sourceLine" id="cb71-69" title="69"></a>
<a class="sourceLine" id="cb71-70" title="70">      <span class="co">// For now, just log the contact us information to the console</span></a>
<a class="sourceLine" id="cb71-71" title="71">      <span class="co">// though ideally, we&#39;d persist this information to a database</span></a>
<a class="sourceLine" id="cb71-72" title="72">      <span class="co">// using a REST API.</span></a>
<a class="sourceLine" id="cb71-73" title="73">      <span class="va">console</span>.<span class="at">log</span>(contactUsInformation)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-74" title="74"></a>
<a class="sourceLine" id="cb71-75" title="75">      <span class="co">// Reset the form state.</span></a>
<a class="sourceLine" id="cb71-76" title="76">      <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb71-77" title="77">        <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-78" title="78">        <span class="dt">email</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-79" title="79">        <span class="dt">phone</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-80" title="80">        <span class="dt">phoneType</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-81" title="81">        <span class="dt">comments</span><span class="op">:</span> <span class="st">&#39;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-82" title="82">        <span class="dt">validationErrors</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="cb71-83" title="83">      <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-84" title="84">    <span class="op">}</span></a>
<a class="sourceLine" id="cb71-85" title="85">  <span class="op">}</span></a>
<a class="sourceLine" id="cb71-86" title="86"></a>
<a class="sourceLine" id="cb71-87" title="87">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb71-88" title="88">    <span class="kw">const</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-89" title="89">      name<span class="op">,</span></a>
<a class="sourceLine" id="cb71-90" title="90">      email<span class="op">,</span></a>
<a class="sourceLine" id="cb71-91" title="91">      phone<span class="op">,</span></a>
<a class="sourceLine" id="cb71-92" title="92">      phoneType<span class="op">,</span></a>
<a class="sourceLine" id="cb71-93" title="93">      comments<span class="op">,</span></a>
<a class="sourceLine" id="cb71-94" title="94">      validationErrors<span class="op">,</span></a>
<a class="sourceLine" id="cb71-95" title="95">    <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb71-96" title="96"></a>
<a class="sourceLine" id="cb71-97" title="97">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb71-98" title="98">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-99" title="99">        <span class="op">&lt;</span>h2<span class="op">&gt;</span>Contact Us&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-100" title="100">        <span class="op">{</span> <span class="va">validationErrors</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> (</a>
<a class="sourceLine" id="cb71-101" title="101">            <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-102" title="102">              The following errors were <span class="dt">found</span><span class="op">:</span></a>
<a class="sourceLine" id="cb71-103" title="103">              <span class="op">&lt;</span>ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-104" title="104">                <span class="op">{</span><span class="va">validationErrors</span>.<span class="at">map</span>(error <span class="kw">=&gt;</span> <span class="op">&lt;</span>li key<span class="op">={</span>error<span class="op">}&gt;{</span>error<span class="op">}</span>&lt;/li<span class="op">&gt;</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb71-105" title="105">              &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-106" title="106">            &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-107" title="107">          )</a>
<a class="sourceLine" id="cb71-108" title="108">        <span class="op">}</span></a>
<a class="sourceLine" id="cb71-109" title="109">        <span class="op">&lt;</span>form onSubmit<span class="op">={</span><span class="kw">this</span>.<span class="at">onSubmit</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb71-110" title="110">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-111" title="111">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;name&#39;</span><span class="op">&gt;</span><span class="dt">Name</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-112" title="112">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;name&#39;</span> name<span class="op">=</span><span class="st">&#39;name&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>name<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb71-113" title="113">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-114" title="114">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-115" title="115">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;email&#39;</span><span class="op">&gt;</span><span class="dt">Email</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-116" title="116">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;email&#39;</span> name<span class="op">=</span><span class="st">&#39;email&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>email<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb71-117" title="117">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-118" title="118">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-119" title="119">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;phone&#39;</span><span class="op">&gt;</span><span class="dt">Phone</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-120" title="120">            <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&#39;phone&#39;</span> name<span class="op">=</span><span class="st">&#39;phone&#39;</span> type<span class="op">=</span><span class="st">&#39;text&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phone<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb71-121" title="121">            <span class="op">&lt;</span>select name<span class="op">=</span><span class="st">&#39;phoneType&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>phoneType<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb71-122" title="122">              <span class="op">&lt;</span>option value<span class="op">=</span><span class="st">&#39;&#39;</span><span class="op">&gt;</span>Select a phone <span class="va">type</span>...&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-123" title="123">              <span class="op">{</span></a>
<a class="sourceLine" id="cb71-124" title="124">                <span class="kw">this</span>.<span class="va">props</span>.<span class="va">phoneTypes</span>.<span class="at">map</span>(phoneType <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb71-125" title="125">                  <span class="op">&lt;</span>option key<span class="op">={</span>phoneType<span class="op">}&gt;{</span>phoneType<span class="op">}</span>&lt;/option<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-126" title="126">                )</a>
<a class="sourceLine" id="cb71-127" title="127">              <span class="op">}</span></a>
<a class="sourceLine" id="cb71-128" title="128">            &lt;/select<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-129" title="129">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-130" title="130">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-131" title="131">            <span class="op">&lt;</span>label htmlFor<span class="op">=</span><span class="st">&#39;comments&#39;</span><span class="op">&gt;</span><span class="dt">Comments</span><span class="op">:</span>&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-132" title="132">            <span class="op">&lt;</span>textarea id<span class="op">=</span><span class="st">&#39;comments&#39;</span> name<span class="op">=</span><span class="st">&#39;comments&#39;</span> onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">onChange</span><span class="op">}</span> value<span class="op">={</span>comments<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb71-133" title="133">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-134" title="134">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-135" title="135">            <span class="op">&lt;</span>button<span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-136" title="136">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-137" title="137">        &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-138" title="138">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-139" title="139">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb71-140" title="140">  <span class="op">}</span></a>
<a class="sourceLine" id="cb71-141" title="141"><span class="op">}</span></a>
<a class="sourceLine" id="cb71-142" title="142"></a>
<a class="sourceLine" id="cb71-143" title="143"><span class="va">ContactUs</span>.<span class="at">defaultProps</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-144" title="144">  <span class="dt">phoneTypes</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb71-145" title="145">    <span class="st">&#39;Home&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-146" title="146">    <span class="st">&#39;Work&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-147" title="147">    <span class="st">&#39;Mobile&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb71-148" title="148">  ]<span class="op">,</span></a>
<a class="sourceLine" id="cb71-149" title="149"><span class="op">};</span></a>
<a class="sourceLine" id="cb71-150" title="150"></a>
<a class="sourceLine" id="cb71-151" title="151"><span class="im">export</span> <span class="im">default</span> ContactUs<span class="op">;</span></a></code></pre></div>
<p>If you run your application again, view the form in the browser, and attempt to submit the form without providing any form field values, you’ll receive two validation error messages:</p>
<pre><code>The following errors were found:

  * Please provide a Name
  * Please provide an Email</code></pre>
<p>Overall, this approach to validating the form is relatively simple. You <em>could</em> validate the data as it changes so that the user would receive feedback sooner (i.e. not having to wait to submit the form to see the validation error messages). Sometimes it’s helpful to receive feedback in real time, but sometimes it can be annoying to users. Consider each situation and use an approach that feels appropriate for your users.</p>
<h3 id="using-a-validation-library">Using a validation library</h3>
<p>You can also use a validation library like <a href="https://github.com/validatorjs/validator.js">Validator.js</a> to add more sophisticated form validations.</p>
<p>First, install the <code>validator</code> npm package:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb73-1" title="1"><span class="ex">npm</span> install validator</a></code></pre></div>
<p>Then import the email validator into the <code>./src/ContactUs.js</code> module:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb74-1" title="1"><span class="im">import</span> isEmail <span class="im">from</span> <span class="st">&#39;validator/es/lib/isEmail&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Now you can use the <code>isEmail</code> validator function to check if the provided <code>email</code> value is in fact a valid email address:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb75-1" title="1"><span class="at">validate</span>(name<span class="op">,</span> email) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-2" title="2">  <span class="kw">const</span> validationErrors <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb75-3" title="3"></a>
<a class="sourceLine" id="cb75-4" title="4">  <span class="cf">if</span> (<span class="op">!</span>name) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-5" title="5">    <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide a Name&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb75-7" title="7"></a>
<a class="sourceLine" id="cb75-8" title="8">  <span class="cf">if</span> (<span class="op">!</span>email) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-9" title="9">    <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide an Email&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-10" title="10">  <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="op">!</span><span class="at">isEmail</span>(email)) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-11" title="11">    <span class="va">validationErrors</span>.<span class="at">push</span>(<span class="st">&#39;Please provide a valid Email&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb75-13" title="13">  </a>
<a class="sourceLine" id="cb75-14" title="14">  <span class="cf">return</span> validationErrors<span class="op">;</span></a>
<a class="sourceLine" id="cb75-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>If you run your application again, view the form in the browser, and attempt to submit the form with an invalid email address, you’ll receive the following validation error message:</p>
<pre><code>The following errors were found:

  * Please provide a valid Email</code></pre>
<h3 id="client-side-vs-server-side-validation">Client-side vs server-side validation</h3>
<p>As a reminder, client-side validation like the validations in the <code>ContactUs</code> class component, are optional to implement; <strong>server-side validation is not optional</strong>. This is because client side validations can be disabled or manipulated by savvy users.</p>
<p>Sometimes the “best” approach is to skip implementing validations on the client-side and rely completely on the server-side validation. Using this approach, you’d simply call the API when the form is submitted and if the request returns a <code>400 BAD REQUEST</code> response, you’d display the validation error messages returned from the server.</p>
<p>If you do decide to implement client-side validations, do it with the end goal of improving your application’s overall user experience, not as your only means of validating user provided data.</p>
<h2 id="what-you-learned-3">What you learned</h2>
<p>In this article, you learned how to:</p>
<ul>
<li>Create a React class component containing a simple form;</li>
<li>Define a single event handler method to handle <code>onChange</code> events for multiple <code>&lt;input&gt;</code> elements;</li>
<li>Add a <code>&lt;textarea&gt;</code> element to a form;</li>
<li>Add a <code>&lt;select&gt;</code> element to a form; and</li>
<li>Implement form validations.</li>
</ul>
<hr />
<h1 id="component-lifecycle">Component Lifecycle</h1>
<p>When creating a React class component, you define its props and state, how it’ll handle user generated events, and how it’ll render, but you don’t directly control <em>when</em> those things occur. And while you can add your component to another component’s <code>render</code> method (making it a child of that component), you don’t control <em>when</em> your component will be loaded into (or unloaded from) the component tree. You also don’t control when your component will be updated and re-rendered.</p>
<p>The lifecycle of a component is simply a way of describing the key moments in the lifetime of a component: when it’s loading (i.e. mounting), updating, and unloading (i.e. unmounting).</p>
<p>When you finish this article, you should be able to:</p>
<ul>
<li>Describe the lifecycle of a React component;</li>
<li>Recall that the commonly used component lifecycle methods include <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code>; and</li>
<li>Use the <code>componentDidMount</code> component lifecycle method to fetch data from an API.</li>
</ul>
<h2 id="the-lifecycle-of-a-react-component">The lifecycle of a React component</h2>
<p>Each class component has several lifecycle methods that you can add to run code at specific points in a component’s lifetime:</p>
<ul>
<li><a href="https://reactjs.org/docs/react-component.html#componentdidmount"><code>componentDidMount</code></a> - This method is called after your component has been added to the component tree.</li>
<li><a href="https://reactjs.org/docs/react-component.html#componentdidupdate"><code>componentDidUpdate</code></a> - This method is called after your component has been updated.</li>
<li><a href="https://reactjs.org/docs/react-component.html#componentwillunmount"><code>componentWillUnmount</code></a> - This method is called just before your component is removed from the component tree.</li>
</ul>
<p>Let’s take a closer look the process that occurs when a component is mounting, updating, and unmounting.</p>
<h3 id="mounting">Mounting</h3>
<p>When a class component is being added to the component tree, the following process occurs:</p>
<ul>
<li>The <code>constructor</code> method is called;</li>
<li>The <code>render</code> method is called;</li>
<li>React updates the DOM; and</li>
<li>The <code>componentDidMount</code> lifecycle method is called.</li>
</ul>
<h3 id="updating">Updating</h3>
<p>A component will update if it receives new props or if the <code>setState</code> method is called.</p>
<p>When a component receives new props, the following process occurs:</p>
<ul>
<li>The <code>render</code> method is called;</li>
<li>React updates DOM; and</li>
<li>The <code>componentDidUpdate</code> lifecycle method is called.</li>
</ul>
<p>When a the <code>setState</code> method is called, the following process occurs:</p>
<ul>
<li>The <code>render</code> method is called;</li>
<li>React updates DOM; and</li>
<li>The <code>componentDidUpdate</code> lifecycle method is called.</li>
</ul>
<h3 id="unmounting">Unmounting</h3>
<p>Just before a class component is removed from the component tree, the <code>componentWillUnmount</code> lifecycle method is called.</p>
<blockquote>
<p>To see a visual depiction of the above processes, check out this interactive <a href="http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">lifecycle diagram</a>.</p>
</blockquote>
<h3 id="avoiding-the-legacy-lifecycle-methods">Avoiding the legacy lifecycle methods</h3>
<p>In earlier versions of React, there were additional lifecycle methods that you could use. These methods are now deprecated and are marked as “unsafe” to use (because they’ll eventually be removed from React’s API).</p>
<p>The legacy lifecycle methods are:</p>
<ul>
<li><a href="https://reactjs.org/docs/react-component.html#unsafe_componentwillmount"><code>UNSAFE_componentWillMount</code></a></li>
<li><a href="https://reactjs.org/docs/react-component.html#unsafe_componentwillreceiveprops"><code>UNSAFE_componentWillReceiveProps</code></a></li>
<li><a href="https://reactjs.org/docs/react-component.html#unsafe_componentwillupdate"><code>UNSAFE_componentWillUpdate</code></a></li>
</ul>
<p>Sometimes you’ll encounter these lifecycle methods in older articles and code examples when researching React online. To learn more about these lifecycle methods, see the <a href="https://reactjs.org/docs/react-component.html#legacy-lifecycle-methods">official React documentation</a>.</p>
<h2 id="using-the-class-component-lifecycle-methods">Using the class component lifecycle methods</h2>
<p>To see the <a href="https://reactjs.org/docs/react-component.html#componentdidmount"><code>componentDidMount</code></a>, <a href="https://reactjs.org/docs/react-component.html#componentdidupdate"><code>componentDidUpdate</code></a>, and <a href="https://reactjs.org/docs/react-component.html#componentwillunmount"><code>componentWillUnmount</code></a> lifecycle methods in action, you can create a couple of simple React class components.</p>
<p>For the first class component, you’ll define the <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> lifecycle methods and render an <code>&lt;h2&gt;</code> element using the <code>this.props.text</code> prop for its content:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb77-1" title="1"><span class="co">// ./src/LifecycleMethods.js</span></a>
<a class="sourceLine" id="cb77-2" title="2"></a>
<a class="sourceLine" id="cb77-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-4" title="4"></a>
<a class="sourceLine" id="cb77-5" title="5"><span class="kw">class</span> LifecycleMethods <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb77-6" title="6">  <span class="at">componentDidMount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb77-7" title="7">    <span class="cf">debugger</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb77-9" title="9"></a>
<a class="sourceLine" id="cb77-10" title="10">  <span class="at">componentDidUpdate</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb77-11" title="11">    <span class="cf">debugger</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb77-13" title="13"></a>
<a class="sourceLine" id="cb77-14" title="14">  <span class="at">componentWillUnmount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb77-15" title="15">    <span class="cf">debugger</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-16" title="16">  <span class="op">}</span></a>
<a class="sourceLine" id="cb77-17" title="17"></a>
<a class="sourceLine" id="cb77-18" title="18">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb77-19" title="19">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb77-20" title="20">    <span class="op">&lt;</span>h2<span class="op">&gt;{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">text</span><span class="op">}</span>&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb77-21" title="21">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb77-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb77-23" title="23"><span class="op">}</span></a>
<a class="sourceLine" id="cb77-24" title="24"></a>
<a class="sourceLine" id="cb77-25" title="25"><span class="im">export</span> <span class="im">default</span> LifecycleMethods<span class="op">;</span></a></code></pre></div>
<p>The <code>debugger</code> statements will cause the browser to break within each of the lifecycle methods when they’re invoked.</p>
<p>For the second class component, you’ll create a component that’ll use the <code>LifecycleMethods</code> component:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb78-1" title="1"><span class="co">// ./src/Demo.js</span></a>
<a class="sourceLine" id="cb78-2" title="2"></a>
<a class="sourceLine" id="cb78-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb78-4" title="4"><span class="im">import</span> LifecycleMethods <span class="im">from</span> <span class="st">&#39;./LifecycleMethods&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb78-5" title="5"></a>
<a class="sourceLine" id="cb78-6" title="6"><span class="kw">class</span> Demo <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-7" title="7">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb78-8" title="8">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb78-9" title="9"></a>
<a class="sourceLine" id="cb78-10" title="10">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-11" title="11">      <span class="dt">displayComponent</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb78-12" title="12">      <span class="dt">componentText</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">toLocaleString</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb78-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb78-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb78-15" title="15"></a>
<a class="sourceLine" id="cb78-16" title="16">  loadComponent <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-17" title="17">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">displayComponent</span><span class="op">:</span> <span class="kw">true</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb78-19" title="19"></a>
<a class="sourceLine" id="cb78-20" title="20">  unloadComponent <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-21" title="21">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">displayComponent</span><span class="op">:</span> <span class="kw">false</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb78-23" title="23"></a>
<a class="sourceLine" id="cb78-24" title="24">  updateComponent <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-25" title="25">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb78-26" title="26">      <span class="dt">componentText</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">toLocaleString</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb78-27" title="27">    <span class="op">}</span>)<span class="op">;</span>    </a>
<a class="sourceLine" id="cb78-28" title="28">  <span class="op">}</span></a>
<a class="sourceLine" id="cb78-29" title="29"></a>
<a class="sourceLine" id="cb78-30" title="30">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb78-31" title="31">    <span class="cf">return</span> <span class="kw">this</span>.<span class="va">state</span>.<span class="at">displayComponent</span> <span class="op">?</span></a>
<a class="sourceLine" id="cb78-32" title="32">      (</a>
<a class="sourceLine" id="cb78-33" title="33">        <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-34" title="34">          <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-35" title="35">            <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">unloadComponent</span><span class="op">}&gt;</span>Unload Component&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-36" title="36">            <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">updateComponent</span><span class="op">}&gt;</span>Update Component&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-37" title="37">          &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-38" title="38">          <span class="op">&lt;</span>LifecycleMethods text<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">componentText</span><span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb78-39" title="39">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-40" title="40">      ) : (</a>
<a class="sourceLine" id="cb78-41" title="41">        <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-42" title="42">          <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&#39;button&#39;</span> onClick<span class="op">={</span><span class="kw">this</span>.<span class="at">loadComponent</span><span class="op">}&gt;</span>Load Component&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-43" title="43">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb78-44" title="44">      )<span class="op">;</span></a>
<a class="sourceLine" id="cb78-45" title="45">  <span class="op">}</span></a>
<a class="sourceLine" id="cb78-46" title="46"><span class="op">}</span></a>
<a class="sourceLine" id="cb78-47" title="47"></a>
<a class="sourceLine" id="cb78-48" title="48"><span class="im">export</span> <span class="im">default</span> Demo<span class="op">;</span></a></code></pre></div>
<p>Notice that the component renders buttons to control when the <code>LifecycleMethods</code> component is loaded, updated, and unloaded. Having these buttons will allow you to interactive trigger each of the lifecycle methods defined within the <code>LifecycleMethods</code> component.</p>
<p>If you’re following along, be sure to update your React application’s entry point to render the <code>Demo</code> component:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb79-1" title="1"><span class="co">// ./src/index.js</span></a>
<a class="sourceLine" id="cb79-2" title="2"></a>
<a class="sourceLine" id="cb79-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb79-4" title="4"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb79-5" title="5"><span class="im">import</span> Demo <span class="im">from</span> <span class="st">&#39;./Demo&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb79-6" title="6"></a>
<a class="sourceLine" id="cb79-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb79-8" title="8">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb79-9" title="9">    <span class="op">&lt;</span>Demo /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb79-10" title="10">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb79-11" title="11">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb79-12" title="12">)<span class="op">;</span></a></code></pre></div>
<p>Then run your application (<code>npm start</code>) and open the developer tools console in your browser. Here’s the application just after clicking the “Load Component” button. Notice that execution is paused within the <code>LifecycleMethods</code> component’s <code>componentDidMount</code> lifecycle method!</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/react-class-components/assets/component-lifecycle-demo.png" alt="component lifecycle demo" /><figcaption>component lifecycle demo</figcaption>
</figure>
<h2 id="fetching-data-from-an-api">Fetching data from an API</h2>
<p>A common use case for the <code>componentDidMount</code> lifecycle method, is to fetch data from an API after a component has been mounted to the DOM. Here’s an example of a class component that uses the <code>componentDidMount</code> lifecycle method to retrieve the public repositories for the provided GitHub username and render the repositories as an unordered list of links:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb80-1" title="1"><span class="co">// ./src/FetchingData.js</span></a>
<a class="sourceLine" id="cb80-2" title="2"></a>
<a class="sourceLine" id="cb80-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb80-4" title="4"></a>
<a class="sourceLine" id="cb80-5" title="5"><span class="kw">class</span> FetchingData <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-6" title="6">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb80-7" title="7">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb80-8" title="8"></a>
<a class="sourceLine" id="cb80-9" title="9">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-10" title="10">      <span class="dt">repositories</span><span class="op">:</span> []<span class="op">,</span></a>
<a class="sourceLine" id="cb80-11" title="11">    <span class="op">};</span></a>
<a class="sourceLine" id="cb80-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb80-13" title="13"></a>
<a class="sourceLine" id="cb80-14" title="14">  <span class="at">componentDidMount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb80-15" title="15">    <span class="kw">const</span> url <span class="op">=</span> <span class="vs">`https://api.github.com/users/</span><span class="sc">${</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">gitHubUsername</span><span class="sc">}</span><span class="vs">/repos`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb80-16" title="16"></a>
<a class="sourceLine" id="cb80-17" title="17">    <span class="at">fetch</span>(url)</a>
<a class="sourceLine" id="cb80-18" title="18">      .<span class="at">then</span>((response) <span class="kw">=&gt;</span> <span class="va">response</span>.<span class="at">json</span>())</a>
<a class="sourceLine" id="cb80-19" title="19">      .<span class="at">then</span>((data) <span class="kw">=&gt;</span> <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">repositories</span><span class="op">:</span> data <span class="op">}</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb80-20" title="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb80-21" title="21"></a>
<a class="sourceLine" id="cb80-22" title="22">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb80-23" title="23">    <span class="kw">const</span> <span class="op">{</span> repositories <span class="op">}</span> <span class="op">=</span> <span class="kw">this</span>.<span class="at">state</span><span class="op">;</span></a>
<a class="sourceLine" id="cb80-24" title="24"></a>
<a class="sourceLine" id="cb80-25" title="25">    <span class="cf">if</span> (<span class="va">repositories</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb80-26" title="26">      <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb80-27" title="27">        <span class="op">&lt;</span>div<span class="op">&gt;</span>Fetching <span class="va">data</span>...&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-28" title="28">      )<span class="op">;</span></a>
<a class="sourceLine" id="cb80-29" title="29">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-30" title="30">     <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb80-31" title="31">       <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-32" title="32">         <span class="op">&lt;</span>h2<span class="op">&gt;</span>GitHub Repositories <span class="cf">for</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">gitHubUsername</span><span class="op">}</span>&lt;/h2<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-33" title="33">         <span class="op">&lt;</span>ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-34" title="34">           <span class="op">{</span></a>
<a class="sourceLine" id="cb80-35" title="35">             <span class="va">repositories</span>.<span class="at">map</span>((repo) <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb80-36" title="36">               <span class="op">&lt;</span>li key<span class="op">={</span><span class="va">repo</span>.<span class="at">id</span><span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb80-37" title="37">                 <span class="op">&lt;</span>a href<span class="op">={</span><span class="va">repo</span>.<span class="at">html_url</span><span class="op">}&gt;{</span><span class="va">repo</span>.<span class="at">name</span><span class="op">}</span>&lt;/a<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-38" title="38">               &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-39" title="39">             ))</a>
<a class="sourceLine" id="cb80-40" title="40">           <span class="op">}</span></a>
<a class="sourceLine" id="cb80-41" title="41">         &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-42" title="42">       &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb80-43" title="43">     )<span class="op">;</span></a>
<a class="sourceLine" id="cb80-44" title="44">    <span class="op">}</span></a>
<a class="sourceLine" id="cb80-45" title="45">  <span class="op">}</span></a>
<a class="sourceLine" id="cb80-46" title="46"><span class="op">}</span></a>
<a class="sourceLine" id="cb80-47" title="47"></a>
<a class="sourceLine" id="cb80-48" title="48"><span class="im">export</span> <span class="im">default</span> FetchingData<span class="op">;</span></a></code></pre></div>
<p>In the above example, the <code>FetchingData</code> component initially renders <code>&lt;div&gt;Fetching data...&lt;/div&gt;</code>. Once the component is mounted to the DOM, the <code>componentDidMount</code> lifecycle method is called, which in turn uses the Fetch API to retrieve the public repositories for the provided GitHub username. When the fetch HTTP request completes and the JSON response is parsed, the <code>this.setState</code> method is called to update the <code>this.state.repositories</code> property with the newly acquired data. Updating the state causes React to re-render the component which then displays an unordered list of links.</p>
<p>If you’re following along, be sure to update your React application’s entry point to render the <code>FetchingData</code> component and to set the <code>gitHubUsername</code> prop on the component to a valid GitHub username:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb81-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb81-2" title="2"><span class="im">import</span> ReactDOM <span class="im">from</span> <span class="st">&#39;react-dom&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb81-3" title="3"><span class="im">import</span> FetchingData <span class="im">from</span> <span class="st">&#39;./FetchingData&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb81-4" title="4"></a>
<a class="sourceLine" id="cb81-5" title="5"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb81-6" title="6">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb81-7" title="7">    <span class="op">&lt;</span>FetchingData gitHubUsername<span class="op">=</span><span class="st">&#39;appacademy&#39;</span> /&gt;</a>
<a class="sourceLine" id="cb81-8" title="8">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb81-9" title="9">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb81-10" title="10">)<span class="op">;</span></a></code></pre></div>
<p>Here’s the component displaying the public repositories for the <code>appacademy</code> GitHub username:</p>
<figure>
<embed src="images/component-lifecycle-fetching-data.pngimages/component-lifecycle-fetching-data.png_____________________________________________________________________" /><figcaption>component lifecycle fetching data</figcaption>
</figure>
<h2 id="what-you-learned-4">What you learned</h2>
<p>In this article, you learned how to:</p>
<ul>
<li>Describe the lifecycle of a React component;</li>
<li>Recall that the commonly used component lifecycle methods include <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code>; and</li>
<li>Use the <code>componentDidMount</code> component lifecycle method to fetch data from an API.</li>
</ul>
<h2 id="see-also">See also…</h2>
<p>In addition to the <code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code> lifecycle methods, there are additional rarely used lifecycle methods. To learn more about these additional lifecycle methods, see the <a href="https://reactjs.org/docs/react-component.html#the-component-lifecycle">official React documentation</a>.</p>
<hr />
<h1 id="official-react-documentation">Official React Documentation</h1>
<p>Now that you’ve learned the basics of React, the official React documentation is a great resource to use to reinforce your newly acquired skills.</p>
<h2 id="reinforcing-your-new-skills">Reinforcing your new skills</h2>
<p>The <a href="https://reactjs.org/docs/hello-world.html">Main Concepts</a> section of the official documentation is a great series of articles that cover the basics of React. If you’re in the mood for a step-by-step tutorial, be sure to check out the <a href="https://reactjs.org/tutorial/tutorial.html">Intro to React</a> tutorial.</p>
<h2 id="extending-your-knowledge">Extending your knowledge</h2>
<p>Once you’re feeling confident with the basics of React development, you can extend your knowledge by reviewing the following topics listed under the “Advanced Guides” section of the official documentation:</p>
<ul>
<li><a href="https://reactjs.org/docs/jsx-in-depth.html">JSX In Depth</a></li>
<li><a href="https://reactjs.org/docs/reconciliation.html">Reconciliation</a></li>
<li><a href="https://reactjs.org/docs/typechecking-with-proptypes.html">Typechecking With PropTypes</a></li>
</ul>
<p>The rest of the topics listed under the Advanced Guides section can safely be ignored for now. Just remember that when you encounter an issue or need to solve a problem that you haven’t solved yet, the official documentation is a great resource!</p>
<hr />
<h1 id="calculator-project">Calculator Project</h1>
<p>You’re going to build a simple calculator app. Our app takes in two numbers and shows the result of a simple operation on the numbers when you click the operation button. Take a look at the <a href="https://appacademy.github.io/curriculum/calculator/">Live Demo</a> to see the app in action. Assume that only numbers will be entered.</p>
<h2 id="phase-1-setup">Phase 1: Setup</h2>
<p>Begin by using the <a href="https://github.com/facebook/create-react-app">create-react-app</a> package. You’ll use the command below to create a React application.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb82-1" title="1"><span class="ex">npx</span> create-react-app my-app --template @appacademy/simple</a></code></pre></div>
<p>Take note that using the <code>create-react-app</code> command initializes your project as a Git repository. If you use the <code>ls -a</code> to view the hidden files in your project, you’ll see the <code>.git</code> file.</p>
<p>You’ll also see that your <code>package.json</code> file includes four auto-generated scripts: <code>start</code>, <code>build</code>, <code>test</code>, and <code>eject</code>.</p>
<p>Today, you’ll be focusing on writing code in the project’s <code>src</code> directory. But before you begin, let’s take a moment to walk through how your view is rendered.</p>
<p>Start your development server with the <code>npm start</code> command and your browser should open <code>http://localhost:3000/</code> to render a view. This view is connected to your entry file (<code>./src/App.js</code>). Open your developer tools and view your HTML elements in the <strong>Elements</strong> tab. If you open up your <code>App.js</code> file, you’ll see that the <a href="https://reactjs.org/docs/introducing-jsx.html">JSX</a> in the file is similar to the HTML in your developer tools.</p>
<p>Although your <code>App.js</code> file is generated as a JavaScript file with a <code>.js</code> extension, JSX is used to produce and render the React elements. As a reminder, JSX is a syntax extension that ultimately get converted to vanilla JavaScript. It is not HTML although the syntax is similar. An example of a difference is the use of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className"><code>className</code></a> instead of the HTML <code>class</code> attribute. You’ll learn more about how <a href="https://babeljs.io/docs/en/next/">Babel</a> is used to transpile JSX into JavaScript.</p>
<p>For now, let’s refactor and clean up your <code>App</code> component by replacing its content:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb83-1" title="1"><span class="co">// App.js</span></a>
<a class="sourceLine" id="cb83-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb83-3" title="3"></a>
<a class="sourceLine" id="cb83-4" title="4"><span class="kw">function</span> <span class="at">App</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb83-5" title="5">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb83-6" title="6">    <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;App&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb83-7" title="7">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Calculator&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb83-8" title="8">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb83-9" title="9">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb83-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb83-11" title="11"></a>
<a class="sourceLine" id="cb83-12" title="12"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>Since your React app is rendering with JavaScript, you can return your <code>App</code> component with an arrow function. Replace your <code>App.js</code> file with the code below and see how the same view is rendered in <code>http://localhost:3000/</code>:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb84-1" title="1"><span class="co">// App.js</span></a>
<a class="sourceLine" id="cb84-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb84-3" title="3"></a>
<a class="sourceLine" id="cb84-4" title="4"><span class="kw">const</span> App <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb84-5" title="5">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb84-6" title="6">    <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;App&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb84-7" title="7">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Calculator&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb84-8" title="8">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb84-9" title="9">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb84-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb84-11" title="11"></a>
<a class="sourceLine" id="cb84-12" title="12"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>In addition, you can use parentheses to implicitly return the <code>App</code> component:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb85-1" title="1"><span class="co">// App.js</span></a>
<a class="sourceLine" id="cb85-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb85-3" title="3"></a>
<a class="sourceLine" id="cb85-4" title="4"><span class="kw">const</span> App <span class="op">=</span> () <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb85-5" title="5">  <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&quot;App&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb85-6" title="6">    <span class="op">&lt;</span>h1<span class="op">&gt;</span>Calculator&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb85-7" title="7">  &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb85-8" title="8">)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-9" title="9"></a>
<a class="sourceLine" id="cb85-10" title="10"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>But how does the JSX in <code>App.js</code> get rendered? Use <code>cmd + shift + f</code> to find where the <code>&lt;App /&gt;</code> is rendered in your application. You should see the <code>index.js</code> entry file. At the top of the file, you’ll see that the <code>App</code> component has been imported. Since your <code>App.js</code> file is returning JSX, you can render the JSX as a <code>&lt;App /&gt;</code> component by using the <a href="https://reactjs.org/docs/react-dom.html">ReactDOM.render()</a> method within your entry <code>index.js</code> file. The role of the <code>index.js</code> entry file is to render your React components.</p>
<p>Notice that the <a href="https://reactjs.org/docs/react-dom.html">ReactDOM.render()</a> method’s second argument is finding an HTML element with the <code>id</code> of <code>root</code>. Take a moment to use <code>cmd + shift + f</code> to find <code>id="root"</code>. You should now find a <code>&lt;div&gt;</code> element with an <code>id</code> of <code>root</code> in the <code>index.html</code> file. The <a href="https://reactjs.org/docs/react-dom.html">ReactDOM.render()</a> method is replacing the <code>&lt;div&gt;</code> element with the JSX.</p>
<p>Congratulations! You now have a basic React application set up with a component that you understand how to render.</p>
<h2 id="phase-2-creating-the-calculator-component">Phase 2: Creating the <code>Calculator</code> component</h2>
<p>Now create a file called <code>Calculator.js</code> within your <code>src</code> directory. Start with the code skeleton below:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb86-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb86-2" title="2"></a>
<a class="sourceLine" id="cb86-3" title="3"><span class="kw">class</span> Calculator <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb86-4" title="4">  <span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb86-5" title="5">    <span class="kw">super</span>(props)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-6" title="6">    <span class="co">// </span><span class="al">TODO</span><span class="co">: Initialize state</span></a>
<a class="sourceLine" id="cb86-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb86-8" title="8"></a>
<a class="sourceLine" id="cb86-9" title="9">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb86-10" title="10">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb86-11" title="11">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb86-12" title="12">        <span class="op">&lt;</span>h1<span class="op">&gt;</span>Time <span class="cf">for</span> math<span class="op">!</span>&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb86-13" title="13">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb86-14" title="14">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb86-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb86-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb86-17" title="17"></a>
<a class="sourceLine" id="cb86-18" title="18"><span class="im">export</span> <span class="im">default</span> Calculator<span class="op">;</span></a></code></pre></div>
<p>In your <code>App.js</code> file, import the <code>Calculator</code> component and set it to render underneath the <code>&lt;h1&gt;</code> element. Make sure “Calculator” still shows up in the browser, this time with “Time for math!” from your <code>Calculator</code> component.</p>
<h3 id="state">State</h3>
<p>Now let’s initialize the <code>state</code> of your <code>Calculator</code> component! The state of your component is just a JavaScript object. For the calculator, it will contain three keys: the result and two numbers from user input.</p>
<p>Within the <code>constructor()</code> method of your <code>Calculator</code> component, define <code>this.state</code> with default values for the result and two numbers. The <code>result</code> should have a default value of <code>0</code>. You actually want the two numbers to start out blank, so give <code>num1</code> and <code>num2</code> a default value of an empty string:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb87-1" title="1"><span class="at">constructor</span>(props) <span class="op">{</span></a>
<a class="sourceLine" id="cb87-2" title="2">  <span class="kw">super</span>(props)<span class="op">;</span></a>
<a class="sourceLine" id="cb87-3" title="3">  <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb87-4" title="4">  <span class="co">// </span><span class="al">TODO</span><span class="co">: Set default state</span></a>
<a class="sourceLine" id="cb87-5" title="5">  <span class="op">};</span></a>
<a class="sourceLine" id="cb87-6" title="6"><span class="op">}</span></a></code></pre></div>
<h2 id="phase-3-rendering-in-your-component">Phase 3: Rendering in your component</h2>
<p>The first thing you want to render is your <code>result</code>. Notice how your <code>Calculator</code> and <code>App</code> components are rendering JSX elements in different ways. Your <code>Calculator</code> component is a <a href="https://reactjs.org/docs/react-component.html">class component</a>, so it needs to use the <code>render()</code> method to return JSX, while your <code>App</code> component is a function component so it can directly return JSX. You want to interpolate the result, which is stored in the component’s <code>state</code>, into the JSX. It’ll look something like this:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb88-1" title="1">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb88-2" title="2">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb88-3" title="3">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb88-4" title="4">        <span class="op">&lt;</span>h1<span class="op">&gt;</span><span class="dt">Result</span><span class="op">:</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">result</span><span class="op">}</span>&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb88-5" title="5">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb88-6" title="6">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb88-7" title="7">  <span class="op">}</span></a></code></pre></div>
<h2 id="phase-4-creating-input-fields">Phase 4: Creating input fields</h2>
<p>Let’s make the input fields. You want the <code>state</code> to receive the new value of the input field every time something is typed in. You can do this by passing an <code>onChange</code> event handler as a <em>prop</em> to the input field. Whenever the input field’s value changes (via the user), the input will run its <code>onChange</code> prop, which should be a callback. Let’s create a callback as a method inside your component. Begin by console logging the <em>change</em> event that is passed into the callback.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb89-1" title="1">handleFirstNum <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb89-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(e)<span class="op">;</span></a>
<a class="sourceLine" id="cb89-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Add an <code>&lt;input&gt;</code> element underneath your rendered <code>result</code>. Assign the <code>onChange</code> prop to a <code>handleFirstNum()</code> callback like so:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb90-1" title="1"><span class="op">&lt;</span>input onChange<span class="op">={</span><span class="kw">this</span>.<span class="at">handleFirstNum</span><span class="op">}</span> placeholder<span class="op">=</span><span class="st">&quot;First number&quot;</span> /&gt;</a></code></pre></div>
<p>Try typing in your “First number” input field and seeing what is logged in your developer tools console from the <em>change</em> event. As a reminder, event objects from your event listeners have <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">target</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/currentTarget">currentTarget</a> elements. In this case, both the <code>event.target</code> and <code>event.currentTarget</code> refer to the <code>&lt;input&gt;</code> element.</p>
<p>Update your <code>handleFirstNum</code> method to use the parsed <code>value</code> of your <code>event.target</code> to set the <code>num1</code> state. As a reminder, parsing non-numeric strings results in a <code>NaN</code> (“Not a Number”) output. Also make note that you need to use <a href="https://reactjs.org/docs/react-component.html#setstate">this.setState()</a> in order to set a component’s state and re-render the component with the updated state.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb91-1" title="1">handleFirstNum <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb91-2" title="2">  <span class="co">// </span><span class="al">TODO</span><span class="co">: Parse value</span></a>
<a class="sourceLine" id="cb91-3" title="3">  <span class="co">// </span><span class="al">TODO</span><span class="co">: Set state</span></a>
<a class="sourceLine" id="cb91-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>You also want your input fields to always reflect the current version of the state and properly update when you trigger a re-render by changing the state, so make sure to include <code>value={this.state.num1}</code> in the input tag.</p>
<p>That’s one of the inputs! Create a second <code>&lt;input&gt;</code> element and a <code>handleSecondNum()</code> callback. It should look very similar.</p>
<h2 id="phase-5-creating-calculator-buttons">Phase 5: Creating calculator buttons</h2>
<p>Time to write the operations. Each one of these is a button, with an <code>onClick</code> callback set that carries out the operation and sets the state of the result to the answer. For example, you can create a “+” button with an <code>onClick</code> listener to invoke an <code>add()</code> method with <code>num1</code> and <code>num2</code> to update the <code>result</code> state.</p>
<p>The current values for <code>num1</code> and <code>num2</code> should be properly updated and stored within the state of your component. Create four methods to handle adding, subtracting, multiplying, and dividing. Remember to use <code>setState()</code> to set <code>this.state.result</code> to the correct result.</p>
<h3 id="clear">Clear</h3>
<p>It’d also be nice to be able to clear out the input fields. Make a button that resets the state to its initial values. You can add an <code>onClick</code> listener to this button to invoke a <code>clearInput</code> method to reset the state, and therefore clear each input field’s <code>value</code>.</p>
<p>This is part of why it’s important to set a <code>value</code> on the input fields. By having the value depend on the state, you ensure that the value will be re-rendered, and therefore be properly cleared when you set the state of <code>num1</code> and <code>num2</code> back to empty strings.</p>
<h2 id="phase-6-refactoring-your-project">Phase 6: Refactoring your project</h2>
<p>You’re probably using the values stored in your state a few times in your <code>render</code> method. Let’s DRY it up a little. Destructure the properties stored in your state in your <code>render</code> method to be able to refer to them by separate variables. Remember that any JavaScript you do should happen before the <code>return</code> statement!</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb92-1" title="1"><span class="at">render</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb92-2" title="2">  <span class="co">// </span><span class="al">TODO</span><span class="co">: destructuring state variables</span></a>
<a class="sourceLine" id="cb92-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb92-4" title="4">    <span class="co">// </span><span class="al">TODO</span><span class="co">: refactor variables defined</span></a>
<a class="sourceLine" id="cb92-5" title="5">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb92-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Congratulations! You’ve created your first React application!</p>
<h3 id="what-youve-learned">What you’ve learned</h3>
<p>In this small project, you created your first React class-based component and used it to store state and handle events.</p>
<hr />
<h1 id="react-widgets-project">React Widgets Project</h1>
<p><a href="https://appacademy.github.io/curriculum/widgets/"><strong>Live Demo!</strong></a></p>
<p>To practice creating React components, you are going to build four simple widgets. You’ll be building a clock widget, an interactive folder widget, a weather widget, and a simple search input component.</p>
<p>By the end of this project, you will:</p>
<ul>
<li>Know how to set up a new React project;</li>
<li>Be able to create simple React components;</li>
<li>Know how to incorporate an API into your app; and</li>
<li>Be able to add basic styling to React components.</li>
</ul>
<h2 id="phase-1-setup-1">Phase 1: Setup</h2>
<p>Generate a new React application called “Widgets” with <a href="https://github.com/facebook/create-react-app">create-react-app</a> by running <code>npx create-react-app widgets --template @appacademy/simple</code>. Note how you are using a custom template to generate your React application.</p>
<p>Once your project has been initialized, in the <code>index.js</code> file you’ll see that <code>ReactDOM</code> is rendering a <code>&lt;React.StrictMode&gt;</code> component. <a href="https://reactjs.org/docs/strict-mode.html">StrictMode</a> simply means that additional checks and warnings will be made in development mode. It’s a helpful tool that highlights potential problems.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb93-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb93-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb93-3" title="3">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb93-4" title="4">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb93-5" title="5">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb93-6" title="6">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb93-7" title="7">)<span class="op">;</span></a></code></pre></div>
<p>Let’s rename the rendered <code>App</code> component to be a component named <code>Root</code>. Make sure to update where you have imported <code>App</code> and to update the <code>App.js</code> file name to <code>Root.js</code>.</p>
<p>The <code>Root</code> component should be a function component because it won’t use internal state or any lifecycle methods. For now, have your <code>Root</code> component return an empty <code>&lt;div&gt;</code>. You will fill this in with your widget components as you create them. At this point, your <code>Root.js</code> file should look something like this:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb94-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb94-2" title="2"></a>
<a class="sourceLine" id="cb94-3" title="3"><span class="kw">const</span> Root <span class="op">=</span> () <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb94-4" title="4">  <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb94-5" title="5"></a>
<a class="sourceLine" id="cb94-6" title="6">  &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb94-7" title="7">)<span class="op">;</span></a>
<a class="sourceLine" id="cb94-8" title="8"></a>
<a class="sourceLine" id="cb94-9" title="9"><span class="im">export</span> <span class="im">default</span> Root<span class="op">;</span></a></code></pre></div>
<h2 id="phase-2-clock-widget">Phase 2: Clock Widget</h2>
<p>The clock component should display the current date and time, updating every second. Start by creating a new file <code>Clock.js</code> in your <code>src</code> folder importing <code>React</code> into the file. Define your <code>Clock</code> class to extend from <code>React.Component</code> and remember to export the class. You will import your <code>Clock</code> component into your <code>Root.js</code> file and incorporate it into the return value of your <code>Root</code>. This is the pattern you will follow for all the widgets.</p>
<p>Now it’s time to create a render method! Have your clock render a “Clock” title in an <code>&lt;h1&gt;</code> element and check that this renders correctly on the page.</p>
<p>In the constructor, set the initial state for the time of your clock using <code>new Date()</code> like so:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb95-1" title="1"><span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb95-2" title="2">  <span class="dt">time</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()</a>
<a class="sourceLine" id="cb95-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Write a method, <code>tick</code> that uses <code>setState</code> to update the <code>time</code> to a <code>new Date()</code>. Remember to define this method using an arrow function or else you’d need to bind the function in the constructor.</p>
<p>Now you can define a <a href="https://facebook.github.io/react/docs/component-specs.html#mounting-componentdidmount">componentDidMount()</a> method to initialize the ticking of your clock. As a reminder, the <code>componentDidMount()</code> method is one of the lifecycle methods. When a component is mounted, the <code>render()</code> method will first return the component’s JSX elements. Then <code>componentDidMount()</code> will be called. You can often house your logic to fetch information that updates <em>state</em> in this lifecycle method.</p>
<p>For the <code>componentDidMount()</code> method in your <code>Clock</code> component, you’ll use JavaScript’s <code>setInterval()</code> method to call your <code>this.tick()</code> method every second.</p>
<p>You’ll also want to store that interval as a property of the <code>Clock</code> class that you can cancel with <code>clearInterval()</code> in <a href="https://facebook.github.io/react/docs/component-specs.html#unmounting-componentwillunmount">componentWillUnmount()</a>, which gets called just before the component is removed. Don’t store this in the component’s <code>state</code> since it doesn’t affect the UI. Instead, just store it directly on <code>this</code>, like so:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb96-1" title="1"><span class="at">componentDidMount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb96-2" title="2">  <span class="kw">this</span>.<span class="at">interval</span> <span class="op">=</span> <span class="at">setInterval</span>(<span class="kw">this</span>.<span class="at">tick</span><span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>In your render method, display the current <code>hours</code>, <code>minutes</code>, and <code>seconds</code>. Check out all of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date object</a> methods you can use to display the date and time in a human-readable string.</p>
<h3 id="styling">Styling</h3>
<p>You’ll notice that you have an <code>index.css</code> file already imported into your entry <code>index.js</code> file. Create and include a <code>reset.css</code> file before the line to import your <code>index.css</code> file.</p>
<p>Feel free to use the following CSS reset file template:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb97-1" title="1"><span class="co">/* reset.css */</span></a>
<a class="sourceLine" id="cb97-2" title="2"></a>
<a class="sourceLine" id="cb97-3" title="3">a<span class="op">,</span> article<span class="op">,</span> body<span class="op">,</span> button<span class="op">,</span> div<span class="op">,</span> fieldset<span class="op">,</span> footer<span class="op">,</span> form<span class="op">,</span> h1<span class="op">,</span> h2<span class="op">,</span> header<span class="op">,</span> html<span class="op">,</span> i<span class="op">,</span> img<span class="op">,</span> input<span class="op">,</span> label<span class="op">,</span> li<span class="op">,</span> main<span class="op">,</span> nav<span class="op">,</span> p<span class="op">,</span> section<span class="op">,</span> small<span class="op">,</span> span<span class="op">,</span> strong<span class="op">,</span> textarea<span class="op">,</span> time<span class="op">,</span> ul {</a>
<a class="sourceLine" id="cb97-4" title="4">  <span class="kw">background</span>: <span class="dv">transparent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-5" title="5">  <span class="kw">border</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-6" title="6">  <span class="kw">box-sizing</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-7" title="7">  <span class="kw">color</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-8" title="8">  <span class="kw">font</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-9" title="9">  <span class="kw">margin</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-10" title="10">  <span class="kw">outline</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-11" title="11">  <span class="kw">padding</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-12" title="12">  <span class="kw">text-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-13" title="13">  <span class="kw">text-decoration</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-14" title="14">  <span class="kw">vertical-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-15" title="15">}</a>
<a class="sourceLine" id="cb97-16" title="16"></a>
<a class="sourceLine" id="cb97-17" title="17">ul {</a>
<a class="sourceLine" id="cb97-18" title="18">  <span class="kw">list-style</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-19" title="19">}</a>
<a class="sourceLine" id="cb97-20" title="20"></a>
<a class="sourceLine" id="cb97-21" title="21">img {</a>
<a class="sourceLine" id="cb97-22" title="22">  <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-23" title="23">  <span class="kw">height</span>: <span class="bu">auto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-24" title="24">  <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-25" title="25">}</a>
<a class="sourceLine" id="cb97-26" title="26"></a>
<a class="sourceLine" id="cb97-27" title="27">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;email&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;password&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;text&quot;</span><span class="ex">]</span><span class="op">,</span> textarea {</a>
<a class="sourceLine" id="cb97-28" title="28">  <span class="co">/*</span></a>
<a class="sourceLine" id="cb97-29" title="29"><span class="co">  Get rid of native styling. Read more here:</span></a>
<a class="sourceLine" id="cb97-30" title="30"><span class="co">  http://css-tricks.com/almanac/properties/a/appearance/</span></a>
<a class="sourceLine" id="cb97-31" title="31"><span class="co">  */</span></a>
<a class="sourceLine" id="cb97-32" title="32">  <span class="kw">-moz-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-33" title="33">  <span class="kw">-webkit-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-34" title="34">  <span class="kw">appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-35" title="35">}</a>
<a class="sourceLine" id="cb97-36" title="36"></a>
<a class="sourceLine" id="cb97-37" title="37">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span> {</a>
<a class="sourceLine" id="cb97-38" title="38">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb97-39" title="39">}</a></code></pre></div>
<p>Now go to <a href="https://fonts.google.com/">Google Fonts</a> and select a nice font for your clock. In the <code>public/index.html</code> file, update your page to have a <code>title</code> of “Widgets”. Now take the font embed code and paste it into the <code>&lt;head&gt;</code> of your page.</p>
<p>Your <code>index.html</code> file should look something like this:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb98-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb98-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb98-4" title="4">    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb98-5" title="5">    <span class="kw">&lt;link</span><span class="ot"> href=</span><span class="st">&quot;https://fonts.googleapis.com/css2?family=Orbitron&quot;</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb98-6" title="6">    <span class="kw">&lt;title&gt;</span>Widgets<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb98-7" title="7">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb98-8" title="8">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb98-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;root&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb98-10" title="10">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb98-11" title="11"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>To use the font, set the <code>font-family</code> of your element to the font name in your <code>index.css</code> file.</p>
<p>Set the time and date headers to be on one side and the actual time and date to the other. Refer to the live demo to see what your end goal is. You can achieve this easily with a flexbox. Take a look at the <a href="https://css-tricks.com/almanac/properties/j/justify-content/"><code>justify-content</code></a> property. Which one do you want to use? Try all of them to understand what they do.</p>
<p>Add a background. Use the <code>background</code> or <code>background-color</code> property to change the background. Feel free to do this for every widget.</p>
<p>You should now have a clock that displays the current time and date. You used <code>setInterval()</code> to make sure that the clock updates every second, and <code>clearInterval()</code> to clear the timer that <code>setInterval()</code> set. Once you have sufficiently styled your clock, move on to the next widget.</p>
<h2 id="phase-3-folder-widget">Phase 3: Folder Widget</h2>
<p>You’re going to add a folder widget that the user can interact with. The folder tabs should each be labeled with their own title. The selected tab should be in a <strong>bold</strong> font. Below the tab, display the contents of the selected tab. The folder content should update when the user selects different tabs.</p>
<p>Make a <code>Folder</code> component. <code>Root</code> should pass the <code>Folder</code> component a <code>folders</code> prop. The prop should be an array of JavaScript objects that each have <code>title</code> and <code>content</code> as properties:</p>
<p><strong>Folder component</strong></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb99-1" title="1"><span class="op">&lt;</span>Folder folders<span class="op">={</span>folders<span class="op">}</span> /&gt;</a></code></pre></div>
<p><strong>Folders prop</strong></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb100-1" title="1"><span class="kw">const</span> folders <span class="op">=</span> [</a>
<a class="sourceLine" id="cb100-2" title="2">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;one&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;I am the first&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb100-3" title="3">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;two&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Second folder here&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb100-4" title="4">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;three&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Third folder here&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb100-5" title="5">]<span class="op">;</span></a></code></pre></div>
<p>Keep track of the selected tab’s index in your <code>Folder</code> component’s state. Set the <code>Folder</code> component’s default <code>currentTab</code> state to zero.</p>
<p>In the render method, return an <code>&lt;h1&gt;</code> element with the title of “Folder”. You’ll begin by rendering one folder’s content, using the <code>currentTab</code> state to select which folder content to render.</p>
<p>Render a <code>&lt;div&gt;</code> element with two child elements: a header to render folder titles (you’ll make a <code>&lt;Header&gt;</code> subcomponent) and a <code>&lt;div&gt;</code> element to render the selected tab’s content. Define a <code>folder</code> variable by indexing into your <code>folders</code> prop with your <code>currentTab</code> state. This way you can reference your selected folder’s content with clean code!</p>
<p>At this point, your component’s <code>render()</code> method should look something like this:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb101-1" title="1"><span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb101-2" title="2">  <span class="kw">const</span> folder <span class="op">=</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="at">folders</span>[<span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentTab</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb101-3" title="3"></a>
<a class="sourceLine" id="cb101-4" title="4">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb101-5" title="5">    <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-6" title="6">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Folder&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-7" title="7">      <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tabs&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-8" title="8">        <span class="op">{</span><span class="co">/* </span><span class="al">TODO</span><span class="co">: render folder titles */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb101-9" title="9">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tab-content&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-10" title="10">          <span class="op">{</span><span class="va">folder</span>.<span class="at">content</span><span class="op">}</span></a>
<a class="sourceLine" id="cb101-11" title="11">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-12" title="12">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-13" title="13">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb101-14" title="14">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb101-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>Take a moment to observe the syntax for making a comment inside of JSX. If you use VS Code’s keyboard shortcut (<code>cmd + /</code>) to comment, you will not make a valid comment. You need to use block comment syntax wrapped in curly braces in order to write comments in JSX!</p>
<p>Remember that JSX interpolation is just syntactic sugar and that it only supports <em>expressions</em>, so you also can’t use <code>if</code>/<code>else</code> inside <code>{ }</code>. However, [ternary conditionals] are valid inside JSX interpolation.</p>
<p>Now create a <code>selectTab()</code> method that takes in a selected folder index. You’ll use this method to update the <code>currentTab</code> state with the input index. For now, have the method console log the index input.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb102-1" title="1">selectTab <span class="op">=</span> (idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb102-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(idx)</a>
<a class="sourceLine" id="cb102-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Let’s move forward with rendering the folder titles!</p>
<h3 id="creating-a-subcomponent">Creating a subcomponent</h3>
<p>Let’s create a <code>Headers</code> subcomponent to render your folder titles! Within your <code>Folder.js</code> file, create a subcomponent above your <code>Folder</code> class. This subcomponent will take care of rendering an unordered list of list items containing clickable tabs.</p>
<p>Plan what information you want to pass as props from your <code>Folder</code> component into your <code>Headers</code>. You’ll want to render each tab’s title, so you’ll probably want to thread a <code>titles</code> prop from your <code>Folder</code> component. Map over your array of <code>folders</code> to define a <code>titles</code> array of folder titles. Now thread your <code>titles</code> array as a prop to the <code>Headers</code> subcomponent. As a reminder, “threading props” simply refers to passing props from one component to another.</p>
<p>You also want to pass the <code>currentTab</code> state so that the <code>Headers</code> component can know which tab to render with different CSS as selected or active.</p>
<p>Lastly, you’ll want your <code>Headers</code> component to be able to use the <code>selectTab()</code> method you have defined in order to update the tab’s <code>currentTab</code> state.</p>
<p>Your <code>Folder</code> component should render the <code>Headers</code> subcomponent below:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb103-1" title="1"><span class="op">&lt;</span>Headers</a>
<a class="sourceLine" id="cb103-2" title="2">  titles<span class="op">={</span>titles<span class="op">}</span></a>
<a class="sourceLine" id="cb103-3" title="3">  currentTab<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentTab</span><span class="op">}</span></a>
<a class="sourceLine" id="cb103-4" title="4">  selectTab<span class="op">={</span><span class="kw">this</span>.<span class="at">selectTab</span><span class="op">}</span></a>
<a class="sourceLine" id="cb103-5" title="5">/&gt;</a></code></pre></div>
<p>Now let’s dive into what your <code>Headers</code> component should render. Begin by returning an unordered list:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb104-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (props) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb104-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb104-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb104-4" title="4"></a>
<a class="sourceLine" id="cb104-5" title="5">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb104-6" title="6">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb104-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>Instead of taking in a <code>props</code> argument and referring to all your props like <code>props.folders</code> or <code>props.currentTab</code>, you can destructure the props you have received like so:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb105-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb105-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb105-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb105-4" title="4"></a>
<a class="sourceLine" id="cb105-5" title="5">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb105-6" title="6">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb105-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>Now map your folder <code>titles</code> to list item elements that render each folder’s <code>title</code>. You’ll need to pass a <a href="https://reactjs.org/docs/reconciliation.html#keys">unique <code>key</code> property</a> to each <code>&lt;li&gt;</code> or React will grumble to all your console-reading users about its unfair working conditions. “How is one supposed to efficiently diff the DOM when one doesn’t even know which list items match up with which!?”</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb106-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb106-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb106-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb106-4" title="4">      <span class="op">{</span><span class="va">titles</span>.<span class="at">map</span>((title<span class="op">,</span> idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb106-5" title="5">        <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb106-6" title="6">          <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb106-7" title="7">            <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb106-8" title="8">          &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb106-9" title="9">        )<span class="op">;</span></a>
<a class="sourceLine" id="cb106-10" title="10">      <span class="op">}</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb106-11" title="11">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb106-12" title="12">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb106-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>To clean up your return, you can extract your list elements as a <code>tabs</code> variable:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb107-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb107-2" title="2">  <span class="kw">const</span> tabs <span class="op">=</span> <span class="va">titles</span>.<span class="at">map</span>((title<span class="op">,</span> idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb107-3" title="3">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb107-4" title="4">      <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb107-5" title="5">        <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb107-6" title="6">      &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb107-7" title="7">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb107-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb107-9" title="9"></a>
<a class="sourceLine" id="cb107-10" title="10">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb107-11" title="11">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb107-12" title="12">      <span class="op">{</span>tabs<span class="op">}</span></a>
<a class="sourceLine" id="cb107-13" title="13">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb107-14" title="14">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb107-15" title="15"><span class="op">};</span></a></code></pre></div>
<p>Now add an <code>onClick</code> handler to each list item to update the <code>currentTab</code> state in the <code>Folder</code> component. You’ll also want to set the <code>id</code> of the <code>&lt;li&gt;</code> element to each title’s index. You can then reference the index through <code>e.target.id</code> to use in the <code>selectTab()</code> function.</p>
<p>You might ask why not just preset an argument with an arrow function callback directly in the <code>onClick</code>. It is actually bad practice to do so! Feel free to read more <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md">here</a>. In this case, it’s better to <a href="https://reactjs.org/docs/handling-events.html">handle the event</a> and invoke the <code>selectTab()</code> function within the click handler.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb108-1" title="1"><span class="co">/* BAD PRACTICE */</span></a>
<a class="sourceLine" id="cb108-2" title="2"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb108-3" title="3">  <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}</span> id<span class="op">={</span>idx<span class="op">}</span> onClick<span class="op">={</span>() <span class="kw">=&gt;</span> <span class="at">selectTab</span>(idx)<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb108-4" title="4">    <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb108-5" title="5">  &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb108-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb108-7" title="7"></a>
<a class="sourceLine" id="cb108-8" title="8"><span class="co">/* GOOD PRACTICE */</span></a>
<a class="sourceLine" id="cb108-9" title="9"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb108-10" title="10">  <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}</span> id<span class="op">={</span>idx<span class="op">}</span> onClick<span class="op">={</span>handleClick<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb108-11" title="11">    <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb108-12" title="12">  &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb108-13" title="13">)<span class="op">;</span></a></code></pre></div>
<p>Define a <code>handleClick()</code> function in your <code>Headers</code> component. Reference the folder’s index through <code>e.target.id</code> and parse the <code>id</code> into an integer to invoke the <code>selectTab()</code> function:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb109-1" title="1"><span class="kw">const</span> handleClick <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb109-2" title="2">  <span class="kw">const</span> idx <span class="op">=</span> <span class="at">parseInt</span>(<span class="va">e</span>.<span class="va">target</span>.<span class="at">id</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb109-3" title="3">  <span class="at">selectTab</span>(idx)<span class="op">;</span></a>
<a class="sourceLine" id="cb109-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>At this point, test your click handler. Click your folder titles and open your developer tools console. You should see the logging of clicked folder indices. After you have confirmed your click handler is working, update your <code>selectTab()</code> function to set the <code>currentTab</code> state using its input.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb110-1" title="1">selectTab <span class="op">=</span> (idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb110-2" title="2">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">currentTab</span><span class="op">:</span> idx <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb110-3" title="3"><span class="op">}</span></a></code></pre></div>
<h3 id="styling-1">Styling</h3>
<p>Before you move forward to focusing on a specific tab, add some styling to make your <code>Folder</code> widget look like folders with tabs! Add a border around each tab and use <code>border-radius</code> to add nicely curved corners to the top of your tabs.</p>
<p>Use a flexbox to ensure that the tabs all take up the same amount of space. Add <code>display: flex</code> to your CSS for your folder tabs. Center the folder content, both horizontally and vertically.</p>
<p>Add a hover effect to change the background color of the tab that’s being moused over. Change the <code>cursor</code> to be a <code>pointer</code> when you’re mousing over the tabs to make it clear that the tabs are interactive.</p>
<h3 id="using-class-names-to-focus">Using class names to focus</h3>
<p>Now let’s be able to focus on a specific tab! At this point, you should have a widget that displays the content of all your folder tabs.</p>
<p>In your <code>Headers</code> subcomponent, you’ll want to assign an <code>active</code> class to your selected tab. The selected tab’s label should be bold and the folder content should update when a different tab is selected. Within the mapping of your header <code>titles</code>, you can compare the <code>idx</code> of each title to the folder’s <code>currentTab</code> state to decide whether a list item should have the CSS class name of <code>active</code>.</p>
<p>For example, you can use a ternary operator to assign a <code>headerClass</code> variable like this:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb111-1" title="1"><span class="kw">const</span> headerClass <span class="op">=</span> (idx <span class="op">===</span> currentTab) <span class="op">?</span> <span class="st">&#39;active&#39;</span> : <span class="st">&#39;&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Feel free to restyle your <code>Folder</code> component by adding the CSS below into your <code>index.css</code> file. Play around with changing the <code>.tab-header &gt; li.active</code> class styling to manipulate the styling of your selected tab!</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb112-1" title="1"><span class="co">/* Folder */</span></a>
<a class="sourceLine" id="cb112-2" title="2"></a>
<a class="sourceLine" id="cb112-3" title="3"><span class="fu">.tab-header</span> {</a>
<a class="sourceLine" id="cb112-4" title="4">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-5" title="5">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb112-6" title="6">  <span class="kw">justify-content</span>: space-between<span class="op">;</span></a>
<a class="sourceLine" id="cb112-7" title="7">}</a>
<a class="sourceLine" id="cb112-8" title="8"></a>
<a class="sourceLine" id="cb112-9" title="9"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li {</a>
<a class="sourceLine" id="cb112-10" title="10">  <span class="kw">width</span>: <span class="dv">33</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-11" title="11">  <span class="kw">border-top</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-12" title="12">  <span class="kw">border-left</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-13" title="13">  <span class="kw">border-right</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-14" title="14">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-15" title="15">  <span class="kw">border-top-left-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-16" title="16">  <span class="kw">border-top-right-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-17" title="17">  <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-18" title="18">  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-19" title="19">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-20" title="20">  <span class="kw">background-color</span>: <span class="cn">lightpink</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-21" title="21">}</a>
<a class="sourceLine" id="cb112-22" title="22"></a>
<a class="sourceLine" id="cb112-23" title="23"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:first-child</span> {</a>
<a class="sourceLine" id="cb112-24" title="24">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-25" title="25">}</a>
<a class="sourceLine" id="cb112-26" title="26"></a>
<a class="sourceLine" id="cb112-27" title="27"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:last-child</span> {</a>
<a class="sourceLine" id="cb112-28" title="28">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-29" title="29">}</a>
<a class="sourceLine" id="cb112-30" title="30"></a>
<a class="sourceLine" id="cb112-31" title="31"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:hover</span> {</a>
<a class="sourceLine" id="cb112-32" title="32">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-33" title="33">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-34" title="34">}</a>
<a class="sourceLine" id="cb112-35" title="35"></a>
<a class="sourceLine" id="cb112-36" title="36"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="fu">.active</span> {</a>
<a class="sourceLine" id="cb112-37" title="37">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-38" title="38">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-39" title="39">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-40" title="40">  <span class="kw">border-bottom</span>: <span class="dv">0</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-41" title="41">}</a>
<a class="sourceLine" id="cb112-42" title="42"></a>
<a class="sourceLine" id="cb112-43" title="43"><span class="fu">.tabs</span> {</a>
<a class="sourceLine" id="cb112-44" title="44">  <span class="kw">width</span>: <span class="dv">240</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-45" title="45">}</a>
<a class="sourceLine" id="cb112-46" title="46"></a>
<a class="sourceLine" id="cb112-47" title="47"><span class="fu">.tab-content</span> {</a>
<a class="sourceLine" id="cb112-48" title="48">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-49" title="49">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-50" title="50">  <span class="kw">height</span>: <span class="dv">192</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-51" title="51">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-52" title="52">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-53" title="53">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-54" title="54">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-55" title="55">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb112-56" title="56">  <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-57" title="57">  <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-58" title="58">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb112-59" title="59">}</a></code></pre></div>
<h2 id="phase-4-weather-widget">Phase 4: Weather Widget</h2>
<p>In this phase, you will create a weather widget to display the current weather based on the user’s location. You will be using the <code>navigator.geolocation</code> API to get the user’s current location, and the OpenWeatherMap API to get the current weather.</p>
<p>Make a <code>Weather</code> component, which again, will be incorporated into your <code>Root</code> component. Now set your component’s default state with a <code>null</code> weather object in your constructor, like so:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb113-1" title="1"><span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb113-2" title="2">  <span class="dt">weather</span><span class="op">:</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb113-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Review the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll use this API to get the weather based on your current location (it is recommended to fetch the weather by geographic coordinates). Upon a successful fetch, you’ll update your component’s state.</p>
<p>In order to get the API to accept your HTTP requests, you’ll need an API key. <a href="http://openweathermap.org/appid">Read up on how to use the API key and sign up for one here.</a> After signing up, click on the API keys tab to get your key. You may need to open their welcome email before the API key will work.</p>
<p>In the real world, you should be very careful about placing API keys in frontend JavaScript or anywhere else they are publicly available and can be scraped (this includes public Git repositories). Stolen keys can cost you. <em>You have been warned.</em></p>
<p>Now let’s get your current location! When the component mounts, call <code>navigator.geolocation.getCurrentPosition()</code> to get it. Read through the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation">navigator documentation</a> to figure out how to use this method properly. (Make sure you have <a href="https://support.google.com/chrome/answer/142065?hl=en">location services enabled</a> in your browser, or this won’t work.)</p>
<p>From reading the documentation, you know that there are two methods to access a browser’s location data: - <code>getCurrentPosition()</code> - <code>watchPosition()</code></p>
<p>Let’s look at the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition">documentation</a> for the <code>getCurrentPosition()</code> method to find out more about its expected parameters. You should see a <strong>Syntax</strong> portion on the documentation with the method breakdown below:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb114-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success[<span class="op">,</span> error[<span class="op">,</span> [options]])</a></code></pre></div>
<p>You’ll also see that there is a <strong>Parameters</strong> section below that outlines a mandatory <code>success</code> callback function, an optional <code>error</code> callback, and an optional <code>options</code> object. In documentation, square brackets around a parameter indicates that it is an optional parameter.</p>
<p>Now let’s test the <code>getCurrentPosition()</code> method in your developer tools console. Console log a result as the method’s <code>success</code> callback like so:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb115-1" title="1"><span class="kw">const</span> success <span class="op">=</span> (res) <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(res)<span class="op">;</span></a>
<a class="sourceLine" id="cb115-2" title="2"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>You should have received a request to share your location with the browser! Upon allowing the browser to know your location, you should console log a <code>GeolocationPosition</code> object when invoking the method again in the console:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb116-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>Begin by invoking the <code>getCurrentPosition()</code> method in your <code>Weather</code> component’s <code>componentDidMount()</code> method. Upon successfully retrieving your browser’s location, you’ll invoke a success callback to query the weather API.</p>
<p>Let’s create your success callback! Create a <code>pollWeather()</code> method to take in your received <code>location</code> result from <code>navigator.geolocation.getCurrentPosition()</code>. You’ll use the <code>latitude</code> and <code>longitude</code> of your location to make a fetch call to the weather API. Think of how to extract the <code>latitude</code> and <code>longitude</code> properties from your <code>GeolocationPosition</code> object. Also think of how you might structure your fetch URL to include the query parameter for your geographic coordinates.</p>
<p>Navigate to the <code>By geographic coordinates</code> section in the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll see an example of an API query string using latitude and longitude coordinates (<code>api.openweathermap.org/data/2.5/weather?lat=35&amp;lon=139</code>). You’ll also see an example JSON response below.</p>
<p>You can define a <code>toQueryString()</code> helper method to format your query parameters into a fetch call URL. To think of scaling your “Widgets” project, you can move this helper function into a <code>utils.js</code> file so that it can be used for other APIs you might incorporate! Have the function take in a <code>params</code> object. You’ll then iterate through the object to sanitize each query value with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">encodeURIComponent()</a>. You can then return a query string like <code>lat=35&amp;lon=139</code> to build an example API query string above.</p>
<p>In your <code>pollWeather()</code> method, use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Fetch API</a> to make a fetch call to the OpenWeatherMap API. Remember to parse your response as JSON before updating the <code>weather</code> state. Upon a successful fetch, update your component’s <code>weather</code> state with the <code>weather</code> property of your JSON response! Use your component’s state to render the current city and temperature on the page.</p>
<p>By default, the OpenWeatherMap API will return the temperature in Standard units (Kelvin). Convert to Fahrenheit <strong>OR</strong> peruse the API docs for a way to request the weather in Imperial units (Fahrenheit)! Give the weather box a nice border and make sure the elements inside are spaced evenly.</p>
<p>Great work! Now you have three widgets. One that displays the time, another that allows you navigate folder tabs, and another that displays the weather. You used the <code>navigator.geolocation</code> API to get your current location, which you then passed to your fetch request to get the weather from the OpenWeatherMap API.</p>
<h2 id="phase-5-autocomplete-widget">Phase 5: Autocomplete Widget</h2>
<p>Make an <code>Autocomplete</code> component that filters a list of names by the user’s input. Match only names that start with the search input. When a user clicks on a name, the input field should autocomplete to that name. Create a new file <code>Auto.js</code> and define your <code>Autocomplete</code> class there. Incorporate it into <code>Root</code>.</p>
<p>Because your autocomplete widget should be reusable, you shouldn’t hard code a list of names into the component. Instead of hard coding the names, set up your <code>Autocomplete</code> component to accept <code>names</code> as a prop. Then set the component’s initial state for <code>inputVal</code> as an empty string.</p>
<p>Build your widget in the <code>render</code> method. It should contain an input field and an unordered list. Render an <code>&lt;li&gt;</code> inside the <code>&lt;ul&gt;</code> for every name that begins with the value in the input box. Remember to pass your <a href="https://reactjs.org/docs/reconciliation.html#keys">unique <code>key</code> property</a> to each <code>&lt;li&gt;</code>!</p>
<p>When a user types something into the input, use an <code>onChange</code> event handler to update the widget’s state. Create a <code>handleInput()</code> event handler method to update the state of <code>inputVal</code> with the typed input value.</p>
<p>Also add an <code>onClick</code> handler to the unordered list. The role of this click handler is to update the widget’s search string (the <code>inputVal</code> state) upon a user’s click of the <code>&lt;li&gt;</code> element you’ve created for each name. You will need to turn your <code>&lt;input&gt;</code> into a <a href="https://facebook.github.io/react/docs/forms.html#controlled-components">controlled component</a> for this to work. Would you access the event’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/currentTarget">currentTarget</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">target</a>? Remember to use <code>setState()</code> to update the widget’s search string.</p>
<p>Now you’ll want to find the names that match your user’s search input. Define a <code>matches()</code> method to generate an array of name <code>matches</code> based on the <code>inputVal</code> state. Since you’re taking in user input, think of how you could use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">regular expressions</a> to match the character combinations between your user’s input string and the list of searchable names. If the input is empty, return the original, full list of names so that your user can see all the searchable names!</p>
<p>Now let’s generate the name matches! Iterate through each name. You’ll use the length of <code>inputVal</code> to slice a segment of each name. Compare the name segment with the input value. Take into consideration that some users might type “barney” instead of searching for “Barney”.</p>
<p>For example, compare the name segment to the input value in order to match a search input of “bar” to the “bar” segment of “Barney”. Then you could add the name, “Barney”, to your <code>matches</code> array. On the next iteration, the “bar” input would also match to “Barbara” so that you could add “Barbara” to the <code>matches</code> array.</p>
<p>If you have no matches, you can add a “No matches” string to your <code>matches</code> array so that when <code>matches</code> is returned and rendered, your user will be notified upon searching for a name without matches.</p>
<h3 id="styling-2">Styling</h3>
<p>Give your component a border and make sure all the <code>&lt;li&gt;</code> elements are nicely padded inside the box. Change the <code>cursor</code> property to display a pointer when hovering over one of the <code>&lt;li&gt;</code> elements. Center all your widgets using flexboxes. Which <code>justify-content</code> property would you use for this?</p>
<p>Great job! The autocomplete widget uses an event handler to update the state of the component when letters are typed into the input field. Once the autocomplete widget is sufficiently styled, move on to the bonus phase to make your widgets even better.</p>
<h2 id="bonus-phase-react-transitions">Bonus Phase: React-Transitions</h2>
<p>Right now, in the autocomplete widget, the matched names instantly appear on the screen and the filtered names instantly disappear. This is abrupt and ugly. You want the names to fade out or in when they are entering or leaving the page. How can you achieve that with React? With <a href="https://reactcommunity.org/react-transition-group/">React Transition Group</a>!</p>
<p>First you need to import the <code>CSSTransition</code> module into your project. In the console, run <code>npm install react-transition-group@^4.0.0 --save</code>.</p>
<p>Then you need to import the module in the file. At the top of <code>Auto.js</code>, write <code>import CSSTransition from 'react-transition-group';</code>.</p>
<p>In your <code>render</code> method, you will need to wrap the group of elements that will be entering and leaving the screen with the <code>&lt;TransitionGroup&gt;</code> element. In the case of the autocomplete widget, wrap the results rendered as <code>&lt;li&gt;</code>, within the <code>&lt;ul&gt;</code>. <strong>You are not wrapping each individual <code>&lt;li&gt;</code>, but rather the entire group.</strong></p>
<p>Now you’ll need to wrap each individual <code>&lt;li&gt;</code> with a <code>&lt;CSSTransition&gt;</code> element. Move the list item’s <code>key</code> to the <code>&lt;CSSTransition&gt;</code> element.</p>
<p><code>&lt;CSSTransition&gt;</code> has three necessary attributes. Read what they are below and make sure to include them:</p>
<p><code>classNames</code>: This is the name that’s used to create all of the transition classes. For now, let’s set this to <code>"result"</code>, but you can pick any name you like.</p>
<p><code>timeout</code>: Specifies how long (in ms) the transition should last. This prop takes in an object with two keys (<code>timeout={{ exit: exitNumber, enter: enterNumber }}</code>). * <code>enter</code>: Length of the transition when the element enters. This needs to be a number, so you’ll have to interpolate the JavaScript number, otherwise it’ll be read as a string. (i.e <code>{500}</code> instead of <code>500</code>). * <code>exit</code>: Same as above, except for when an element is leaving the page.</p>
<p>Finally the CSS. Create a new CSS file and paste in the code below. Be sure to import your new CSS file into your entry <code>index.js</code> file so the transitions are applied.</p>
<p>The CSS below assumes you’ve given the <code>classNames</code> attribute to <code>result</code>. If you gave it a different name, just replace every <code>result</code> with the name you gave.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb117-1" title="1"><span class="co">/* AutoComplete */</span></a>
<a class="sourceLine" id="cb117-2" title="2"></a>
<a class="sourceLine" id="cb117-3" title="3"><span class="fu">.result-enter</span> {</a>
<a class="sourceLine" id="cb117-4" title="4">  <span class="kw">opacity</span>: <span class="dv">0.01</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-5" title="5">  <span class="kw">transform</span>: translateY(<span class="dv">500</span><span class="dt">%</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb117-6" title="6">}</a>
<a class="sourceLine" id="cb117-7" title="7"></a>
<a class="sourceLine" id="cb117-8" title="8"><span class="fu">.result-enter.result-enter-active</span> {</a>
<a class="sourceLine" id="cb117-9" title="9">  <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-10" title="10">  <span class="kw">transform</span>: translateY(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb117-11" title="11">  <span class="kw">transition</span>: opacity <span class="dv">500</span><span class="dt">ms</span><span class="op">,</span> transform <span class="dv">500</span><span class="dt">ms</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-12" title="12">}</a>
<a class="sourceLine" id="cb117-13" title="13"></a>
<a class="sourceLine" id="cb117-14" title="14"><span class="fu">.result-exit</span> {</a>
<a class="sourceLine" id="cb117-15" title="15">  <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-16" title="16">  <span class="kw">transform</span>: translateY(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb117-17" title="17">}</a>
<a class="sourceLine" id="cb117-18" title="18"></a>
<a class="sourceLine" id="cb117-19" title="19"><span class="fu">.result-exit.result-exit-active</span> {</a>
<a class="sourceLine" id="cb117-20" title="20">  <span class="kw">opacity</span>: <span class="dv">0.01</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-21" title="21">  <span class="kw">transform</span>: translateY(<span class="dv">500</span><span class="dt">%</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb117-22" title="22">  <span class="kw">transition</span>: opacity <span class="dv">500</span><span class="dt">ms</span><span class="op">,</span> transform <span class="dv">500</span><span class="dt">ms</span><span class="op">;</span></a>
<a class="sourceLine" id="cb117-23" title="23">}</a></code></pre></div>
<p>Go play with the widget! You’ll notice that when names appear, they fade in from the bottom. When they leave, they fade out and fall to the bottom. Let’s break down the CSS file:</p>
<p><code>.result-enter</code>: Specifies the initial state of an element that is entering the page. Since I want the names to start invisible and at the bottom, I’ve given it the <code>opacity</code> and <code>transform</code> properties the appropriate values.</p>
<p><code>.result-enter.result-enter-active</code>: Specifies the final state of an element that has entered the screen. Looking at the CSS, you can see that I expect the element to be completely opaque and in it’s original y-position when it is done entering. This is where you also specify the <code>transition</code> property.</p>
<p><code>.result-exit</code>: Specifies the initial state of an element that is leaving the page. In almost all cases, the values of this class with match the values in the <code>result-enter.result-enter-active</code> class.</p>
<p><code>.result-exit.result-exit-active</code>: Specifies the final state of an element that has left the screen. This is where you also specify the <code>transition</code> property.</p>
<p>Play around with the CSS file. What kind of interesting transitions can you create?</p>
<h2 id="bonus-phase-resolving-strictmode-warnings">Bonus Phase: Resolving StrictMode Warnings</h2>
<p>Check out your new transition in the browser. Open up your developer tools and type something in the “Autocomplete” search input. Your transitions are working, but wait - you have a warning in the console!</p>
<blockquote>
<p>Warning: findDOMNode is deprecated in StrictMode. findDOMNode was passed an instance of CSSTransitionGroupChild which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://fb.me/react-strict-mode-find-node</p>
</blockquote>
<p>This is an example of how <a href="https://reactjs.org/docs/strict-mode.html">StrictMode</a> is a helpful tool that highlights potential problems. In this case, <code>StrictMode</code> is giving you helpful information about the <a href="https://reactjs.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage">deprecation of <code>findDOMNode</code></a>, which is used under the hood. You are also given a clickable link to the official React documentation!</p>
<p>According to the documentation, <code>findDOMNode</code> is used “to search the tree for a DOM node given a class instance.” Now is your chance to practice going through the official React documentation and learning from reading a <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> in the official <a href="https://github.com/reactjs/react-transition-group/">react-transition-group repository</a>! Take a moment to read through the <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> to see real-life discussion about implementing the <code>nodeRef</code> feature as an alternative to having React use <code>findDOMNode</code> under the hood.</p>
<p>In your constructor method, create a ref with <a href="https://reactjs.org/docs/refs-and-the-dom.html"><code>React.createRef()</code></a> and use the ref to assign a <code>nodeRef</code> prop to the <code>&lt;CSSTransition&gt;</code> that wraps your result items. Doing this will allow React to reference the <code>&lt;CSSTransition&gt;</code> component, without using the deprecated <code>findDOMNode</code> method to search through the tree for the component. Since React is no longer using <code>findDOMNode</code> under the hood, using a <code>nodeRef</code> will remove the warning in the developer tools console.</p>
<p>Congratulations! You have just read through official documentation. In the future, you may contribute to an open-source or community managed project, just like how the use for the <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> did! Don’t be discouraged by reading live discussion in GitHub issues and pull requests. You’ll continue building your foundation of React knowledge and before you know it, you might even be contributing to projects yourself!</p>
