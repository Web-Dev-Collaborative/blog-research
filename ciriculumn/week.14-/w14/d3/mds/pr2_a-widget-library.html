<h1 id="react-widgets-project">React Widgets Project</h1>
<hr />
<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#phase-1-setup">Phase 1: Setup</a></li>
<li><a href="#phase-2-clock-widget">Phase 2: Clock Widget</a>
<ul>
<li><a href="#styling">Styling</a></li>
</ul></li>
<li><a href="#phase-3-folder-widget">Phase 3: Folder Widget</a>
<ul>
<li><a href="#creating-a-subcomponent">Creating a subcomponent</a></li>
<li><a href="#styling-1">Styling</a></li>
<li><a href="#using-class-names-to-focus">Using class names to focus</a></li>
</ul></li>
<li><a href="#phase-4-weather-widget">Phase 4: Weather Widget</a></li>
<li><a href="#phase-5-autocomplete-widget">Phase 5: Autocomplete Widget</a>
<ul>
<li><a href="#styling-2">Styling</a></li>
</ul></li>
<li><a href="#bonus-phase-react-transitions">Bonus Phase: React-Transitions</a></li>
<li><a href="#bonus-phase-resolving-strictmode-warnings">Bonus Phase: Resolving StrictMode Warnings</a></li>
</ul>
<!-- /code_chunk_output -->
<hr />
<p><a href="https://appacademy.github.io/curriculum/widgets/"><strong>Live Demo!</strong></a></p>
<p>To practice creating React components, you are going to build four simple widgets. You’ll be building a clock widget, an interactive folder widget, a weather widget, and a simple search input component.</p>
<p>By the end of this project, you will:</p>
<ul>
<li>Know how to set up a new React project;</li>
<li>Be able to create simple React components;</li>
<li>Know how to incorporate an API into your app; and</li>
<li>Be able to add basic styling to React components.</li>
</ul>
<h2 id="phase-1-setup">Phase 1: Setup</h2>
<p>Generate a new React application called “Widgets” with <a href="https://github.com/facebook/create-react-app">create-react-app</a> by running <code>npx create-react-app widgets --template @appacademy/simple</code>. Note how you are using a custom template to generate your React application.</p>
<p>Once your project has been initialized, in the <code>index.js</code> file you’ll see that <code>ReactDOM</code> is rendering a <code>&lt;React.StrictMode&gt;</code> component. <a href="https://reactjs.org/docs/strict-mode.html">StrictMode</a> simply means that additional checks and warnings will be made in development mode. It’s a helpful tool that highlights potential problems.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// index.js</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="op">&lt;</span><span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="op">&lt;</span>App /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5">  &lt;/<span class="va">React</span>.<span class="at">StrictMode</span><span class="op">&gt;,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;root&#39;</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">)<span class="op">;</span></a></code></pre></div>
<p>Let’s rename the rendered <code>App</code> component to be a component named <code>Root</code>. Make sure to update where you have imported <code>App</code> and to update the <code>App.js</code> file name to <code>Root.js</code>.</p>
<p>The <code>Root</code> component should be a function component because it won’t use internal state or any lifecycle methods. For now, have your <code>Root</code> component return an empty <code>&lt;div&gt;</code>. You will fill this in with your widget components as you create them. At this point, your <code>Root.js</code> file should look something like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">const</span> Root <span class="op">=</span> () <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6">  &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7">)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="im">export</span> <span class="im">default</span> Root<span class="op">;</span></a></code></pre></div>
<h2 id="phase-2-clock-widget">Phase 2: Clock Widget</h2>
<p>The clock component should display the current date and time, updating every second. Start by creating a new file <code>Clock.js</code> in your <code>src</code> folder importing <code>React</code> into the file. Define your <code>Clock</code> class to extend from <code>React.Component</code> and remember to export the class. You will import your <code>Clock</code> component into your <code>Root.js</code> file and incorporate it into the return value of your <code>Root</code>. This is the pattern you will follow for all the widgets.</p>
<p>Now it’s time to create a render method! Have your clock render a “Clock” title in an <code>&lt;h1&gt;</code> element and check that this renders correctly on the page.</p>
<p>In the constructor, set the initial state for the time of your clock using <code>new Date()</code> like so:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="dt">time</span><span class="op">:</span> <span class="kw">new</span> <span class="at">Date</span>()</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Write a method, <code>tick</code> that uses <code>setState</code> to update the <code>time</code> to a <code>new Date()</code>. Remember to define this method using an arrow function or else you’d need to bind the function in the constructor.</p>
<p>Now you can define a <a href="https://facebook.github.io/react/docs/component-specs.html#mounting-componentdidmount">componentDidMount()</a> method to initialize the ticking of your clock. As a reminder, the <code>componentDidMount()</code> method is one of the lifecycle methods. When a component is mounted, the <code>render()</code> method will first return the component’s JSX elements. Then <code>componentDidMount()</code> will be called. You can often house your logic to fetch information that updates <em>state</em> in this lifecycle method.</p>
<p>For the <code>componentDidMount()</code> method in your <code>Clock</code> component, you’ll use JavaScript’s <code>setInterval()</code> method to call your <code>this.tick()</code> method every second.</p>
<p>You’ll also want to store that interval as a property of the <code>Clock</code> class that you can cancel with <code>clearInterval()</code> in <a href="https://facebook.github.io/react/docs/component-specs.html#unmounting-componentwillunmount">componentWillUnmount()</a>, which gets called just before the component is removed. Don’t store this in the component’s <code>state</code> since it doesn’t affect the UI. Instead, just store it directly on <code>this</code>, like so:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="at">componentDidMount</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="kw">this</span>.<span class="at">interval</span> <span class="op">=</span> <span class="at">setInterval</span>(<span class="kw">this</span>.<span class="at">tick</span><span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>In your render method, display the current <code>hours</code>, <code>minutes</code>, and <code>seconds</code>. Check out all of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date object</a> methods you can use to display the date and time in a human-readable string.</p>
<h3 id="styling">Styling</h3>
<p>You’ll notice that you have an <code>index.css</code> file already imported into your entry <code>index.js</code> file. Create and include a <code>reset.css</code> file before the line to import your <code>index.css</code> file.</p>
<p>Feel free to use the following CSS reset file template:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb5-1" title="1"><span class="co">/* reset.css */</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3">a<span class="op">,</span> article<span class="op">,</span> body<span class="op">,</span> button<span class="op">,</span> div<span class="op">,</span> fieldset<span class="op">,</span> footer<span class="op">,</span> form<span class="op">,</span> h1<span class="op">,</span> h2<span class="op">,</span> header<span class="op">,</span> html<span class="op">,</span> i<span class="op">,</span> img<span class="op">,</span> input<span class="op">,</span> label<span class="op">,</span> li<span class="op">,</span> main<span class="op">,</span> nav<span class="op">,</span> p<span class="op">,</span> section<span class="op">,</span> small<span class="op">,</span> span<span class="op">,</span> strong<span class="op">,</span> textarea<span class="op">,</span> time<span class="op">,</span> ul {</a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="kw">background</span>: <span class="dv">transparent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="kw">border</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="kw">box-sizing</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="kw">color</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-8" title="8">  <span class="kw">font</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="kw">margin</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="kw">outline</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="kw">padding</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-12" title="12">  <span class="kw">text-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-13" title="13">  <span class="kw">text-decoration</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-14" title="14">  <span class="kw">vertical-align</span>: <span class="bu">inherit</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-15" title="15">}</a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17">ul {</a>
<a class="sourceLine" id="cb5-18" title="18">  <span class="kw">list-style</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-19" title="19">}</a>
<a class="sourceLine" id="cb5-20" title="20"></a>
<a class="sourceLine" id="cb5-21" title="21">img {</a>
<a class="sourceLine" id="cb5-22" title="22">  <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-23" title="23">  <span class="kw">height</span>: <span class="bu">auto</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-24" title="24">  <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-25" title="25">}</a>
<a class="sourceLine" id="cb5-26" title="26"></a>
<a class="sourceLine" id="cb5-27" title="27">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;email&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;password&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span><span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;text&quot;</span><span class="ex">]</span><span class="op">,</span> textarea {</a>
<a class="sourceLine" id="cb5-28" title="28">  <span class="co">/*</span></a>
<a class="sourceLine" id="cb5-29" title="29"><span class="co">  Get rid of native styling. Read more here:</span></a>
<a class="sourceLine" id="cb5-30" title="30"><span class="co">  http://css-tricks.com/almanac/properties/a/appearance/</span></a>
<a class="sourceLine" id="cb5-31" title="31"><span class="co">  */</span></a>
<a class="sourceLine" id="cb5-32" title="32">  <span class="kw">-moz-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-33" title="33">  <span class="kw">-webkit-appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-34" title="34">  <span class="kw">appearance</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-35" title="35">}</a>
<a class="sourceLine" id="cb5-36" title="36"></a>
<a class="sourceLine" id="cb5-37" title="37">button<span class="op">,</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="ex">]</span> {</a>
<a class="sourceLine" id="cb5-38" title="38">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-39" title="39">}</a></code></pre></div>
<p>Now go to <a href="https://fonts.google.com/">Google Fonts</a> and select a nice font for your clock. In the <code>public/index.html</code> file, update your page to have a <code>title</code> of “Widgets”. Now take the font embed code and paste it into the <code>&lt;head&gt;</code> of your page.</p>
<p>Your <code>index.html</code> file should look something like this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb6-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="kw">&lt;link</span><span class="ot"> href=</span><span class="st">&quot;https://fonts.googleapis.com/css2?family=Orbitron&quot;</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="kw">&lt;title&gt;</span>Widgets<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;root&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb6-10" title="10">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>To use the font, set the <code>font-family</code> of your element to the font name in your <code>index.css</code> file.</p>
<p>Set the time and date headers to be on one side and the actual time and date to the other. Refer to the live demo to see what your end goal is. You can achieve this easily with a flexbox. Take a look at the <a href="https://css-tricks.com/almanac/properties/j/justify-content/"><code>justify-content</code></a> property. Which one do you want to use? Try all of them to understand what they do.</p>
<p>Add a background. Use the <code>background</code> or <code>background-color</code> property to change the background. Feel free to do this for every widget.</p>
<p>You should now have a clock that displays the current time and date. You used <code>setInterval()</code> to make sure that the clock updates every second, and <code>clearInterval()</code> to clear the timer that <code>setInterval()</code> set. Once you have sufficiently styled your clock, move on to the next widget.</p>
<h2 id="phase-3-folder-widget">Phase 3: Folder Widget</h2>
<p>You’re going to add a folder widget that the user can interact with. The folder tabs should each be labeled with their own title. The selected tab should be in a <strong>bold</strong> font. Below the tab, display the contents of the selected tab. The folder content should update when the user selects different tabs.</p>
<p>Make a <code>Folder</code> component. <code>Root</code> should pass the <code>Folder</code> component a <code>folders</code> prop. The prop should be an array of JavaScript objects that each have <code>title</code> and <code>content</code> as properties:</p>
<p><strong>Folder component</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="op">&lt;</span>Folder folders<span class="op">={</span>folders<span class="op">}</span> /&gt;</a></code></pre></div>
<p><strong>Folders prop</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">const</span> folders <span class="op">=</span> [</a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;one&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;I am the first&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;two&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Second folder here&#39;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="op">{</span><span class="dt">title</span><span class="op">:</span> <span class="st">&#39;three&#39;</span><span class="op">,</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Third folder here&#39;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb8-5" title="5">]<span class="op">;</span></a></code></pre></div>
<p>Keep track of the selected tab’s index in your <code>Folder</code> component’s state. Set the <code>Folder</code> component’s default <code>currentTab</code> state to zero.</p>
<p>In the render method, return an <code>&lt;h1&gt;</code> element with the title of “Folder”. You’ll begin by rendering one folder’s content, using the <code>currentTab</code> state to select which folder content to render.</p>
<p>Render a <code>&lt;div&gt;</code> element with two child elements: a header to render folder titles (you’ll make a <code>&lt;Header&gt;</code> subcomponent) and a <code>&lt;div&gt;</code> element to render the selected tab’s content. Define a <code>folder</code> variable by indexing into your <code>folders</code> prop with your <code>currentTab</code> state. This way you can reference your selected folder’s content with clean code!</p>
<p>At this point, your component’s <code>render()</code> method should look something like this:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="kw">const</span> folder <span class="op">=</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="at">folders</span>[<span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentTab</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-6" title="6">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Folder&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-7" title="7">      <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tabs&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-8" title="8">        <span class="op">{</span><span class="co">/* </span><span class="al">TODO</span><span class="co">: render folder titles */</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-9" title="9">        <span class="op">&lt;</span>div className<span class="op">=</span><span class="st">&#39;tab-content&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-10" title="10">          <span class="op">{</span><span class="va">folder</span>.<span class="at">content</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-11" title="11">        &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-12" title="12">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-13" title="13">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-14" title="14">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb9-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>Take a moment to observe the syntax for making a comment inside of JSX. If you use VS Code’s keyboard shortcut (<code>cmd + /</code>) to comment, you will not make a valid comment. You need to use block comment syntax wrapped in curly braces in order to write comments in JSX!</p>
<p>Remember that JSX interpolation is just syntactic sugar and that it only supports <em>expressions</em>, so you also can’t use <code>if</code>/<code>else</code> inside <code>{ }</code>. However, [ternary conditionals] are valid inside JSX interpolation.</p>
<p>Now create a <code>selectTab()</code> method that takes in a selected folder index. You’ll use this method to update the <code>currentTab</code> state with the input index. For now, have the method console log the index input.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1">selectTab <span class="op">=</span> (idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(idx)</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Let’s move forward with rendering the folder titles!</p>
<h3 id="creating-a-subcomponent">Creating a subcomponent</h3>
<p>Let’s create a <code>Headers</code> subcomponent to render your folder titles! Within your <code>Folder.js</code> file, create a subcomponent above your <code>Folder</code> class. This subcomponent will take care of rendering an unordered list of list items containing clickable tabs.</p>
<p>Plan what information you want to pass as props from your <code>Folder</code> component into your <code>Headers</code>. You’ll want to render each tab’s title, so you’ll probably want to thread a <code>titles</code> prop from your <code>Folder</code> component. Map over your array of <code>folders</code> to define a <code>titles</code> array of folder titles. Now thread your <code>titles</code> array as a prop to the <code>Headers</code> subcomponent. As a reminder, “threading props” simply refers to passing props from one component to another.</p>
<p>You also want to pass the <code>currentTab</code> state so that the <code>Headers</code> component can know which tab to render with different CSS as selected or active.</p>
<p>Lastly, you’ll want your <code>Headers</code> component to be able to use the <code>selectTab()</code> method you have defined in order to update the tab’s <code>currentTab</code> state.</p>
<p>Your <code>Folder</code> component should render the <code>Headers</code> subcomponent below:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="op">&lt;</span>Headers</a>
<a class="sourceLine" id="cb11-2" title="2">  titles<span class="op">={</span>titles<span class="op">}</span></a>
<a class="sourceLine" id="cb11-3" title="3">  currentTab<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">currentTab</span><span class="op">}</span></a>
<a class="sourceLine" id="cb11-4" title="4">  selectTab<span class="op">={</span><span class="kw">this</span>.<span class="at">selectTab</span><span class="op">}</span></a>
<a class="sourceLine" id="cb11-5" title="5">/&gt;</a></code></pre></div>
<p>Now let’s dive into what your <code>Headers</code> component should render. Begin by returning an unordered list:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (props) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb12-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-4" title="4"></a>
<a class="sourceLine" id="cb12-5" title="5">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb12-6" title="6">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>Instead of taking in a <code>props</code> argument and referring to all your props like <code>props.folders</code> or <code>props.currentTab</code>, you can destructure the props you have received like so:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb13-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-4" title="4"></a>
<a class="sourceLine" id="cb13-5" title="5">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb13-6" title="6">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>Now map your folder <code>titles</code> to list item elements that render each folder’s <code>title</code>. You’ll need to pass a <a href="https://reactjs.org/docs/reconciliation.html#keys">unique <code>key</code> property</a> to each <code>&lt;li&gt;</code> or React will grumble to all your console-reading users about its unfair working conditions. “How is one supposed to efficiently diff the DOM when one doesn’t even know which list items match up with which!?”</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-4" title="4">      <span class="op">{</span><span class="va">titles</span>.<span class="at">map</span>((title<span class="op">,</span> idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" title="5">        <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb14-6" title="6">          <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb14-7" title="7">            <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb14-8" title="8">          &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-9" title="9">        )<span class="op">;</span></a>
<a class="sourceLine" id="cb14-10" title="10">      <span class="op">}</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb14-11" title="11">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb14-12" title="12">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb14-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>To clean up your return, you can extract your list elements as a <code>tabs</code> variable:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">const</span> Headers <span class="op">=</span> (<span class="op">{</span> titles<span class="op">,</span> currentTab<span class="op">,</span> selectTab <span class="op">}</span>) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="kw">const</span> tabs <span class="op">=</span> <span class="va">titles</span>.<span class="at">map</span>((title<span class="op">,</span> idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb15-4" title="4">      <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb15-5" title="5">        <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb15-6" title="6">      &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb15-7" title="7">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb15-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-9" title="9"></a>
<a class="sourceLine" id="cb15-10" title="10">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb15-11" title="11">    <span class="op">&lt;</span>ul className<span class="op">=</span><span class="st">&#39;tab-header&#39;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb15-12" title="12">      <span class="op">{</span>tabs<span class="op">}</span></a>
<a class="sourceLine" id="cb15-13" title="13">    &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb15-14" title="14">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="op">};</span></a></code></pre></div>
<p>Now add an <code>onClick</code> handler to each list item to update the <code>currentTab</code> state in the <code>Folder</code> component. You’ll also want to set the <code>id</code> of the <code>&lt;li&gt;</code> element to each title’s index. You can then reference the index through <code>e.target.id</code> to use in the <code>selectTab()</code> function.</p>
<p>You might ask why not just preset an argument with an arrow function callback directly in the <code>onClick</code>. It is actually bad practice to do so! Feel free to read more <a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-no-bind.md">here</a>. In this case, it’s better to <a href="https://reactjs.org/docs/handling-events.html">handle the event</a> and invoke the <code>selectTab()</code> function within the click handler.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="co">/* BAD PRACTICE */</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb16-3" title="3">  <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}</span> id<span class="op">={</span>idx<span class="op">}</span> onClick<span class="op">={</span>() <span class="kw">=&gt;</span> <span class="at">selectTab</span>(idx)<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb16-5" title="5">  &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb16-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-7" title="7"></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">/* GOOD PRACTICE */</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb16-10" title="10">  <span class="op">&lt;</span>li key<span class="op">={</span>idx<span class="op">}</span> id<span class="op">={</span>idx<span class="op">}</span> onClick<span class="op">={</span>handleClick<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb16-11" title="11">    <span class="op">{</span>title<span class="op">}</span></a>
<a class="sourceLine" id="cb16-12" title="12">  &lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb16-13" title="13">)<span class="op">;</span></a></code></pre></div>
<p>Define a <code>handleClick()</code> function in your <code>Headers</code> component. Reference the folder’s index through <code>e.target.id</code> and parse the <code>id</code> into an integer to invoke the <code>selectTab()</code> function:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">const</span> handleClick <span class="op">=</span> (e) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="kw">const</span> idx <span class="op">=</span> <span class="at">parseInt</span>(<span class="va">e</span>.<span class="va">target</span>.<span class="at">id</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3">  <span class="at">selectTab</span>(idx)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>At this point, test your click handler. Click your folder titles and open your developer tools console. You should see the logging of clicked folder indices. After you have confirmed your click handler is working, update your <code>selectTab()</code> function to set the <code>currentTab</code> state using its input.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1">selectTab <span class="op">=</span> (idx) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-2" title="2">  <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span> <span class="dt">currentTab</span><span class="op">:</span> idx <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="op">}</span></a></code></pre></div>
<h3 id="styling-1">Styling</h3>
<p>Before you move forward to focusing on a specific tab, add some styling to make your <code>Folder</code> widget look like folders with tabs! Add a border around each tab and use <code>border-radius</code> to add nicely curved corners to the top of your tabs.</p>
<p>Use a flexbox to ensure that the tabs all take up the same amount of space. Add <code>display: flex</code> to your CSS for your folder tabs. Center the folder content, both horizontally and vertically.</p>
<p>Add a hover effect to change the background color of the tab that’s being moused over. Change the <code>cursor</code> to be a <code>pointer</code> when you’re mousing over the tabs to make it clear that the tabs are interactive.</p>
<h3 id="using-class-names-to-focus">Using class names to focus</h3>
<p>Now let’s be able to focus on a specific tab! At this point, you should have a widget that displays the content of all your folder tabs.</p>
<p>In your <code>Headers</code> subcomponent, you’ll want to assign an <code>active</code> class to your selected tab. The selected tab’s label should be bold and the folder content should update when a different tab is selected. Within the mapping of your header <code>titles</code>, you can compare the <code>idx</code> of each title to the folder’s <code>currentTab</code> state to decide whether a list item should have the CSS class name of <code>active</code>.</p>
<p>For example, you can use a ternary operator to assign a <code>headerClass</code> variable like this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">const</span> headerClass <span class="op">=</span> (idx <span class="op">===</span> currentTab) <span class="op">?</span> <span class="st">&#39;active&#39;</span> : <span class="st">&#39;&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Feel free to restyle your <code>Folder</code> component by adding the CSS below into your <code>index.css</code> file. Play around with changing the <code>.tab-header &gt; li.active</code> class styling to manipulate the styling of your selected tab!</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb20-1" title="1"><span class="co">/* Folder */</span></a>
<a class="sourceLine" id="cb20-2" title="2"></a>
<a class="sourceLine" id="cb20-3" title="3"><span class="fu">.tab-header</span> {</a>
<a class="sourceLine" id="cb20-4" title="4">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-5" title="5">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb20-6" title="6">  <span class="kw">justify-content</span>: space-between<span class="op">;</span></a>
<a class="sourceLine" id="cb20-7" title="7">}</a>
<a class="sourceLine" id="cb20-8" title="8"></a>
<a class="sourceLine" id="cb20-9" title="9"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li {</a>
<a class="sourceLine" id="cb20-10" title="10">  <span class="kw">width</span>: <span class="dv">33</span><span class="dt">%</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-11" title="11">  <span class="kw">border-top</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-12" title="12">  <span class="kw">border-left</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-13" title="13">  <span class="kw">border-right</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-14" title="14">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-15" title="15">  <span class="kw">border-top-left-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-16" title="16">  <span class="kw">border-top-right-radius</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-17" title="17">  <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-18" title="18">  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-19" title="19">  <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-20" title="20">  <span class="kw">background-color</span>: <span class="cn">lightpink</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-21" title="21">}</a>
<a class="sourceLine" id="cb20-22" title="22"></a>
<a class="sourceLine" id="cb20-23" title="23"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:first-child</span> {</a>
<a class="sourceLine" id="cb20-24" title="24">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-25" title="25">}</a>
<a class="sourceLine" id="cb20-26" title="26"></a>
<a class="sourceLine" id="cb20-27" title="27"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:last-child</span> {</a>
<a class="sourceLine" id="cb20-28" title="28">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-29" title="29">}</a>
<a class="sourceLine" id="cb20-30" title="30"></a>
<a class="sourceLine" id="cb20-31" title="31"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="in">:hover</span> {</a>
<a class="sourceLine" id="cb20-32" title="32">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-33" title="33">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-34" title="34">}</a>
<a class="sourceLine" id="cb20-35" title="35"></a>
<a class="sourceLine" id="cb20-36" title="36"><span class="fu">.tab-header</span> <span class="op">&gt;</span> li<span class="fu">.active</span> {</a>
<a class="sourceLine" id="cb20-37" title="37">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-38" title="38">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-39" title="39">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-40" title="40">  <span class="kw">border-bottom</span>: <span class="dv">0</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-41" title="41">}</a>
<a class="sourceLine" id="cb20-42" title="42"></a>
<a class="sourceLine" id="cb20-43" title="43"><span class="fu">.tabs</span> {</a>
<a class="sourceLine" id="cb20-44" title="44">  <span class="kw">width</span>: <span class="dv">240</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-45" title="45">}</a>
<a class="sourceLine" id="cb20-46" title="46"></a>
<a class="sourceLine" id="cb20-47" title="47"><span class="fu">.tab-content</span> {</a>
<a class="sourceLine" id="cb20-48" title="48">  <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-49" title="49">  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-50" title="50">  <span class="kw">height</span>: <span class="dv">192</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-51" title="51">  <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-52" title="52">  <span class="kw">border-left</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-53" title="53">  <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-54" title="54">  <span class="kw">border-right</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">black</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-55" title="55">  <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb20-56" title="56">  <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-57" title="57">  <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-58" title="58">  <span class="kw">background-color</span>: <span class="cn">lightblue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-59" title="59">}</a></code></pre></div>
<h2 id="phase-4-weather-widget">Phase 4: Weather Widget</h2>
<p>In this phase, you will create a weather widget to display the current weather based on the user’s location. You will be using the <code>navigator.geolocation</code> API to get the user’s current location, and the OpenWeatherMap API to get the current weather.</p>
<p>Make a <code>Weather</code> component, which again, will be incorporated into your <code>Root</code> component. Now set your component’s default state with a <code>null</code> weather object in your constructor, like so:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-2" title="2">  <span class="dt">weather</span><span class="op">:</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Review the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll use this API to get the weather based on your current location (it is recommended to fetch the weather by geographic coordinates). Upon a successful fetch, you’ll update your component’s state.</p>
<p>In order to get the API to accept your HTTP requests, you’ll need an API key. <a href="http://openweathermap.org/appid">Read up on how to use the API key and sign up for one here.</a> After signing up, click on the API keys tab to get your key. You may need to open their welcome email before the API key will work.</p>
<p>In the real world, you should be very careful about placing API keys in frontend JavaScript or anywhere else they are publicly available and can be scraped (this includes public Git repositories). Stolen keys can cost you. <em>You have been warned.</em></p>
<p>Now let’s get your current location! When the component mounts, call <code>navigator.geolocation.getCurrentPosition()</code> to get it. Read through the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation">navigator documentation</a> to figure out how to use this method properly. (Make sure you have <a href="https://support.google.com/chrome/answer/142065?hl=en">location services enabled</a> in your browser, or this won’t work.)</p>
<p>From reading the documentation, you know that there are two methods to access a browser’s location data: - <code>getCurrentPosition()</code> - <code>watchPosition()</code></p>
<p>Let’s look at the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/getCurrentPosition">documentation</a> for the <code>getCurrentPosition()</code> method to find out more about its expected parameters. You should see a <strong>Syntax</strong> portion on the documentation with the method breakdown below:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success[<span class="op">,</span> error[<span class="op">,</span> [options]])</a></code></pre></div>
<p>You’ll also see that there is a <strong>Parameters</strong> section below that outlines a mandatory <code>success</code> callback function, an optional <code>error</code> callback, and an optional <code>options</code> object. In documentation, square brackets around a parameter indicates that it is an optional parameter.</p>
<p>Now let’s test the <code>getCurrentPosition()</code> method in your developer tools console. Console log a result as the method’s <code>success</code> callback like so:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">const</span> success <span class="op">=</span> (res) <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(res)<span class="op">;</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>You should have received a request to share your location with the browser! Upon allowing the browser to know your location, you should console log a <code>GeolocationPosition</code> object when invoking the method again in the console:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="va">navigator</span>.<span class="va">geolocation</span>.<span class="at">getCurrentPosition</span>(success)<span class="op">;</span></a></code></pre></div>
<p>Begin by invoking the <code>getCurrentPosition()</code> method in your <code>Weather</code> component’s <code>componentDidMount()</code> method. Upon successfully retrieving your browser’s location, you’ll invoke a success callback to query the weather API.</p>
<p>Let’s create your success callback! Create a <code>pollWeather()</code> method to take in your received <code>location</code> result from <code>navigator.geolocation.getCurrentPosition()</code>. You’ll use the <code>latitude</code> and <code>longitude</code> of your location to make a fetch call to the weather API. Think of how to extract the <code>latitude</code> and <code>longitude</code> properties from your <code>GeolocationPosition</code> object. Also think of how you might structure your fetch URL to include the query parameter for your geographic coordinates.</p>
<p>Navigate to the <code>By geographic coordinates</code> section in the <a href="http://openweathermap.org/current">OpenWeatherMap API</a> documentation. You’ll see an example of an API query string using latitude and longitude coordinates (<code>api.openweathermap.org/data/2.5/weather?lat=35&amp;lon=139</code>). You’ll also see an example JSON response below.</p>
<p>You can define a <code>toQueryString()</code> helper method to format your query parameters into a fetch call URL. To think of scaling your “Widgets” project, you can move this helper function into a <code>utils.js</code> file so that it can be used for other APIs you might incorporate! Have the function take in a <code>params</code> object. You’ll then iterate through the object to sanitize each query value with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">encodeURIComponent()</a>. You can then return a query string like <code>lat=35&amp;lon=139</code> to build an example API query string above.</p>
<p>In your <code>pollWeather()</code> method, use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Fetch API</a> to make a fetch call to the OpenWeatherMap API. Remember to parse your response as JSON before updating the <code>weather</code> state. Upon a successful fetch, update your component’s <code>weather</code> state with the <code>weather</code> property of your JSON response! Use your component’s state to render the current city and temperature on the page.</p>
<p>By default, the OpenWeatherMap API will return the temperature in Standard units (Kelvin). Convert to Fahrenheit <strong>OR</strong> peruse the API docs for a way to request the weather in Imperial units (Fahrenheit)! Give the weather box a nice border and make sure the elements inside are spaced evenly.</p>
<p>Great work! Now you have three widgets. One that displays the time, another that allows you navigate folder tabs, and another that displays the weather. You used the <code>navigator.geolocation</code> API to get your current location, which you then passed to your fetch request to get the weather from the OpenWeatherMap API.</p>
<h2 id="phase-5-autocomplete-widget">Phase 5: Autocomplete Widget</h2>
<p>Make an <code>Autocomplete</code> component that filters a list of names by the user’s input. Match only names that start with the search input. When a user clicks on a name, the input field should autocomplete to that name. Create a new file <code>Auto.js</code> and define your <code>Autocomplete</code> class there. Incorporate it into <code>Root</code>.</p>
<p>Because your autocomplete widget should be reusable, you shouldn’t hard code a list of names into the component. Instead of hard coding the names, set up your <code>Autocomplete</code> component to accept <code>names</code> as a prop. Then set the component’s initial state for <code>inputVal</code> as an empty string.</p>
<p>Build your widget in the <code>render</code> method. It should contain an input field and an unordered list. Render an <code>&lt;li&gt;</code> inside the <code>&lt;ul&gt;</code> for every name that begins with the value in the input box. Remember to pass your <a href="https://reactjs.org/docs/reconciliation.html#keys">unique <code>key</code> property</a> to each <code>&lt;li&gt;</code>!</p>
<p>When a user types something into the input, use an <code>onChange</code> event handler to update the widget’s state. Create a <code>handleInput()</code> event handler method to update the state of <code>inputVal</code> with the typed input value.</p>
<p>Also add an <code>onClick</code> handler to the unordered list. The role of this click handler is to update the widget’s search string (the <code>inputVal</code> state) upon a user’s click of the <code>&lt;li&gt;</code> element you’ve created for each name. You will need to turn your <code>&lt;input&gt;</code> into a <a href="https://facebook.github.io/react/docs/forms.html#controlled-components">controlled component</a> for this to work. Would you access the event’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/currentTarget">currentTarget</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">target</a>? Remember to use <code>setState()</code> to update the widget’s search string.</p>
<p>Now you’ll want to find the names that match your user’s search input. Define a <code>matches()</code> method to generate an array of name <code>matches</code> based on the <code>inputVal</code> state. Since you’re taking in user input, think of how you could use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">regular expressions</a> to match the character combinations between your user’s input string and the list of searchable names. If the input is empty, return the original, full list of names so that your user can see all the searchable names!</p>
<p>Now let’s generate the name matches! Iterate through each name. You’ll use the length of <code>inputVal</code> to slice a segment of each name. Compare the name segment with the input value. Take into consideration that some users might type “barney” instead of searching for “Barney”.</p>
<p>For example, compare the name segment to the input value in order to match a search input of “bar” to the “bar” segment of “Barney”. Then you could add the name, “Barney”, to your <code>matches</code> array. On the next iteration, the “bar” input would also match to “Barbara” so that you could add “Barbara” to the <code>matches</code> array.</p>
<p>If you have no matches, you can add a “No matches” string to your <code>matches</code> array so that when <code>matches</code> is returned and rendered, your user will be notified upon searching for a name without matches.</p>
<h3 id="styling-2">Styling</h3>
<p>Give your component a border and make sure all the <code>&lt;li&gt;</code> elements are nicely padded inside the box. Change the <code>cursor</code> property to display a pointer when hovering over one of the <code>&lt;li&gt;</code> elements. Center all your widgets using flexboxes. Which <code>justify-content</code> property would you use for this?</p>
<p>Great job! The autocomplete widget uses an event handler to update the state of the component when letters are typed into the input field. Once the autocomplete widget is sufficiently styled, move on to the bonus phase to make your widgets even better.</p>
<h2 id="bonus-phase-react-transitions">Bonus Phase: React-Transitions</h2>
<p>Right now, in the autocomplete widget, the matched names instantly appear on the screen and the filtered names instantly disappear. This is abrupt and ugly. You want the names to fade out or in when they are entering or leaving the page. How can you achieve that with React? With <a href="https://reactcommunity.org/react-transition-group/">React Transition Group</a>!</p>
<p>First you need to import the <code>CSSTransition</code> module into your project. In the console, run <code>npm install react-transition-group@^4.0.0 --save</code>.</p>
<p>Then you need to import the module in the file. At the top of <code>Auto.js</code>, write <code>import CSSTransition from 'react-transition-group';</code>.</p>
<p>In your <code>render</code> method, you will need to wrap the group of elements that will be entering and leaving the screen with the <code>&lt;TransitionGroup&gt;</code> element. In the case of the autocomplete widget, wrap the results rendered as <code>&lt;li&gt;</code>, within the <code>&lt;ul&gt;</code>. <strong>You are not wrapping each individual <code>&lt;li&gt;</code>, but rather the entire group.</strong></p>
<p>Now you’ll need to wrap each individual <code>&lt;li&gt;</code> with a <code>&lt;CSSTransition&gt;</code> element. Move the list item’s <code>key</code> to the <code>&lt;CSSTransition&gt;</code> element.</p>
<p><code>&lt;CSSTransition&gt;</code> has three necessary attributes. Read what they are below and make sure to include them:</p>
<p><code>classNames</code>: This is the name that’s used to create all of the transition classes. For now, let’s set this to <code>"result"</code>, but you can pick any name you like.</p>
<p><code>timeout</code>: Specifies how long (in ms) the transition should last. This prop takes in an object with two keys (<code>timeout={{ exit: exitNumber, enter: enterNumber }}</code>). * <code>enter</code>: Length of the transition when the element enters. This needs to be a number, so you’ll have to interpolate the JavaScript number, otherwise it’ll be read as a string. (i.e <code>{500}</code> instead of <code>500</code>). * <code>exit</code>: Same as above, except for when an element is leaving the page.</p>
<p>Finally the CSS. Create a new CSS file and paste in the code below. Be sure to import your new CSS file into your entry <code>index.js</code> file so the transitions are applied.</p>
<p>The CSS below assumes you’ve given the <code>classNames</code> attribute to <code>result</code>. If you gave it a different name, just replace every <code>result</code> with the name you gave.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb25-1" title="1"><span class="co">/* AutoComplete */</span></a>
<a class="sourceLine" id="cb25-2" title="2"></a>
<a class="sourceLine" id="cb25-3" title="3"><span class="fu">.result-enter</span> {</a>
<a class="sourceLine" id="cb25-4" title="4">  <span class="kw">opacity</span>: <span class="dv">0.01</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-5" title="5">  <span class="kw">transform</span>: translateY(<span class="dv">500</span><span class="dt">%</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-6" title="6">}</a>
<a class="sourceLine" id="cb25-7" title="7"></a>
<a class="sourceLine" id="cb25-8" title="8"><span class="fu">.result-enter.result-enter-active</span> {</a>
<a class="sourceLine" id="cb25-9" title="9">  <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-10" title="10">  <span class="kw">transform</span>: translateY(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-11" title="11">  <span class="kw">transition</span>: opacity <span class="dv">500</span><span class="dt">ms</span><span class="op">,</span> transform <span class="dv">500</span><span class="dt">ms</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-12" title="12">}</a>
<a class="sourceLine" id="cb25-13" title="13"></a>
<a class="sourceLine" id="cb25-14" title="14"><span class="fu">.result-exit</span> {</a>
<a class="sourceLine" id="cb25-15" title="15">  <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-16" title="16">  <span class="kw">transform</span>: translateY(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-17" title="17">}</a>
<a class="sourceLine" id="cb25-18" title="18"></a>
<a class="sourceLine" id="cb25-19" title="19"><span class="fu">.result-exit.result-exit-active</span> {</a>
<a class="sourceLine" id="cb25-20" title="20">  <span class="kw">opacity</span>: <span class="dv">0.01</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-21" title="21">  <span class="kw">transform</span>: translateY(<span class="dv">500</span><span class="dt">%</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-22" title="22">  <span class="kw">transition</span>: opacity <span class="dv">500</span><span class="dt">ms</span><span class="op">,</span> transform <span class="dv">500</span><span class="dt">ms</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-23" title="23">}</a></code></pre></div>
<p>Go play with the widget! You’ll notice that when names appear, they fade in from the bottom. When they leave, they fade out and fall to the bottom. Let’s break down the CSS file:</p>
<p><code>.result-enter</code>: Specifies the initial state of an element that is entering the page. Since I want the names to start invisible and at the bottom, I’ve given it the <code>opacity</code> and <code>transform</code> properties the appropriate values.</p>
<p><code>.result-enter.result-enter-active</code>: Specifies the final state of an element that has entered the screen. Looking at the CSS, you can see that I expect the element to be completely opaque and in it’s original y-position when it is done entering. This is where you also specify the <code>transition</code> property.</p>
<p><code>.result-exit</code>: Specifies the initial state of an element that is leaving the page. In almost all cases, the values of this class with match the values in the <code>result-enter.result-enter-active</code> class.</p>
<p><code>.result-exit.result-exit-active</code>: Specifies the final state of an element that has left the screen. This is where you also specify the <code>transition</code> property.</p>
<p>Play around with the CSS file. What kind of interesting transitions can you create?</p>
<h2 id="bonus-phase-resolving-strictmode-warnings">Bonus Phase: Resolving StrictMode Warnings</h2>
<p>Check out your new transition in the browser. Open up your developer tools and type something in the “Autocomplete” search input. Your transitions are working, but wait - you have a warning in the console!</p>
<blockquote>
<p>Warning: findDOMNode is deprecated in StrictMode. findDOMNode was passed an instance of CSSTransitionGroupChild which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://fb.me/react-strict-mode-find-node</p>
</blockquote>
<p>This is an example of how <a href="https://reactjs.org/docs/strict-mode.html">StrictMode</a> is a helpful tool that highlights potential problems. In this case, <code>StrictMode</code> is giving you helpful information about the <a href="https://reactjs.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage">deprecation of <code>findDOMNode</code></a>, which is used under the hood. You are also given a clickable link to the official React documentation!</p>
<p>According to the documentation, <code>findDOMNode</code> is used “to search the tree for a DOM node given a class instance.” Now is your chance to practice going through the official React documentation and learning from reading a <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> in the official <a href="https://github.com/reactjs/react-transition-group/">react-transition-group repository</a>! Take a moment to read through the <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> to see real-life discussion about implementing the <code>nodeRef</code> feature as an alternative to having React use <code>findDOMNode</code> under the hood.</p>
<p>In your constructor method, create a ref with <a href="https://reactjs.org/docs/refs-and-the-dom.html"><code>React.createRef()</code></a> and use the ref to assign a <code>nodeRef</code> prop to the <code>&lt;CSSTransition&gt;</code> that wraps your result items. Doing this will allow React to reference the <code>&lt;CSSTransition&gt;</code> component, without using the deprecated <code>findDOMNode</code> method to search through the tree for the component. Since React is no longer using <code>findDOMNode</code> under the hood, using a <code>nodeRef</code> will remove the warning in the developer tools console.</p>
<p>Congratulations! You have just read through official documentation. In the future, you may contribute to an open-source or community managed project, just like how the use for the <a href="https://github.com/reactjs/react-transition-group/pull/559">merged PR</a> did! Don’t be discouraged by reading live discussion in GitHub issues and pull requests. You’ll continue building your foundation of React knowledge and before you know it, you might even be contributing to projects yourself!</p>
