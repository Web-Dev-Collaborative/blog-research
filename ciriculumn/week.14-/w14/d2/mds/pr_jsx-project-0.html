<h1 id="thinking-in-components">Thinking In Components</h1>
<hr />
<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=false} -->
<hr />
<p>For the next couple of walk through articles, you will be reproducing a page from Petrack. Please go to <a href="https://polar-beach-08187.herokuapp.com/">Petrack</a> and click around it so you can see how it works. Pay special attention to the detail page for the pets. This article will analyze it so that it can introduce you into how to “think in React”.</p>
<figure>
<img src="https://appacademy-open-assets.s3-us-west-1.amazonaws.com/Modular-Curriculum/content/react-redux/topics/intro-to-react/assets/pettrack-pet-detail.png" alt="Petrack pet detail page" /><figcaption>Petrack pet detail page</figcaption>
</figure>
<p>When you “think in React”, you are supposed to “think in components”. A component in React is usually a JavaScript function or a class that returns a special React object called an “element”. There is a <em>very</em> vocal community that believes that function-based components are far superior than class-based components because they’re easier to understand. You will have the opportunity to use both in this class and make up your mind which you like better.</p>
<p>In this article, you will gain insight into how to break a UI down into portions of functionality that React calls “components”. The way this article presents the components is only one way to do it. Other developers may choose to do it differently. There is usually no wrong way to do it.</p>
<h2 id="components">Components</h2>
<p>In React-speak, a “component” is a chunk of the user interface that can (or should) be treated as a unit because it may (or likely will) be used more than once or used to structure a page. That’s not a very satisfying definition. This article will walk you through breaking down the page using the practical example of the Petrack pet detail page.</p>
<p>When you think of components, it’s good to think in terms of the Single Responsibility Principle. Remember that? It’s good to have a component do one thing and one thing well. In this analysis, it will identify how it fits (or doesn’t fit) in with the Single Responsibility Principle.</p>
<p>If you think in terms of Pug, then a component is kind of like an <code>include</code>, a big or small amount of code that you could use over and over in your UI. The main difference is that React is <em>in the browser</em> and handles user events and HTML generation for you so that you’re not creating template strings and adding them via the <code>innerHTML</code> property or <code>appendChild</code> method. Pug is just on the server generating HTML.</p>
<h2 id="the-navigation-component">The navigation component</h2>
<p>On all of the pages, there is the same navigation at the top of the page.</p>
<figure>
<img src="images/pettrack-pet-detail-static-content.png" alt="Petrack navigation" /><figcaption>Petrack navigation</figcaption>
</figure>
<p>If you were working in Pug, that would be in your <strong>layout.pug</strong> because you would want it to appear in every page. In React, you will create a reusable component, maybe call it <code>Navigation</code>, and use it on all of your React-enabled pages.</p>
<p>This does one thing and one thing well: it shows the static content of the navigation. There’s nothing else it needs to do. Good job, <code>Navigation</code> component!</p>
<p>What this means is that the code that will create the heading “Petrack”, the links “Pets” and “Owners”, and the “Back” link will all be in their own component, which is just a JavaScript function or class. It could look something like this, but with real code where it reads “some cool React code here”. This is the skeleton of the code.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// Navigation.js</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">const</span> Navigation <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="im">export</span> <span class="im">default</span> Navigation<span class="op">;</span></a></code></pre></div>
<p>You would put that in a file named <strong>Navigation.js</strong>. It’s capitalized because, in React world, the names of your custom components are <em>always</em> capitalized.</p>
<p>Don’t worry if that doesn’t make complete sense, yet. You will be making these components and their files <em>for the rest of your lives</em>. Or, at least, for the rest of this course. And, definitely, for the remainder of this module.</p>
<p>The walk through articles that follow this will explain what’s going on as well as what that <code>props</code> parameter is.</p>
<h2 id="the-details-components">The details components</h2>
<p>Now, for the remainder of the page.</p>
<figure>
<img src="images/pettrack-pet-detail-component.png" alt="Petrack detail" /><figcaption>Petrack detail</figcaption>
</figure>
<p>This could be another component. It would create the “Details” headline, show the individual details of the pet, create the “Owners” headline, and then create the links to the owners. It could look something like this.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// PetDetail.js</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">const</span> PetDetail <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="im">export</span> <span class="im">default</span> PetDetail<span class="op">;</span></a></code></pre></div>
<p>This component, the <code>PetDetail</code> component, does too much. It’s in charge of showing two different kinds of information, the details of the pet <em>and</em> the owners links. That means there’s probably an opportunity to create more components that this component can then use. This is called <em>component composition</em>.</p>
<h3 id="breaking-it-down-further">Breaking it down further</h3>
<p>Now, please think like a Pug developer for just a moment. How would you create this page in Pug? The code for this from the project looks like this.</p>
<pre class="pug"><code>extends ../layout

block content
  h1 Details
  dl
    dt Name
    dd= pet.name
    dt Age
    dd= pet.age
    dt Type
    dd= pet.PetType.type

  h2 Owners
  ul
    each owner in pet.Owners
      li: a(href=&quot;/owners/&quot; + owner.id) #{owner.lastName}, #{owner.firstName}</code></pre>
<p>To start thinking in components, ask yourself</p>
<ul>
<li>What parts of that page are repeated?</li>
<li>What parts have the same structure?</li>
</ul>
<p>You can see that in the <em>Details</em> section of the page, there are repeated structures of <code>dt</code> and <code>dd</code> elements. You can see in the <em>Owners</em> section, there is a loop that creates a link to the owners based on the owner information. Those types of reusable chunks of content are good candidates for being their own components.</p>
<h3 id="the-pet-information-item-component">The pet information item component</h3>
<p>You can extract the creation of the <code>dt</code> and <code>dd</code> elements into its own component.</p>
<figure>
<img src="images/pettrack-pet-detail-information-item-component.png" alt="Petrack pet information item" /><figcaption>Petrack pet information item</figcaption>
</figure>
<p>That could look something like this.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// PetInformationItem.js</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">const</span> PetInformationItem <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="im">export</span> <span class="im">default</span> PetInformationItem<span class="op">;</span></a></code></pre></div>
<p>It would be responsible for making that portion of the Web page appear. And, you would use it over and over for each of the different pieces of data you wanted to show. As you add more data about pets, you could use that <code>PetInformationItem</code> to maintain the visual consistency of the Web page, as well as allowing you to write less code. This component does one thing and does it well.</p>
<h3 id="the-owner-link-component">The owner link component</h3>
<p>Just like extracting the pet information item, you can extract that owner link into its own component. It would generate the the <code>a</code> and format the person’s name.</p>
<figure>
<img src="images/pettrack-pet-detail-owner-link-component.png" alt="Petrack owner link" /><figcaption>Petrack owner link</figcaption>
</figure>
<p>Again, the skeleton code would look something like this.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// OwnerLink.js</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">const</span> OwnerLink <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="im">export</span> <span class="im">default</span> OwnerLink<span class="op">;</span></a></code></pre></div>
<p>This component also does one thing and does it well. If you ever need to change the way owner names appear in lists of links in the application, you can come to this one component and change it. It would then take effect everywhere! Single Responsibility Principle for the win!</p>
<h3 id="the-owners-list-component">The owners list component</h3>
<p>Now, the thing that manages the list itself and the use of the <code>OwnerLink</code> component is eligible for being its own component, too.</p>
<figure>
<img src="images/pettrack-pet-detail-owners-list-component.png" alt="Petrack owners list" /><figcaption>Petrack owners list</figcaption>
</figure>
<p>It’s single responsibility is to manage creating the “Owners” header and the unordered list. It will use the <code>OwnerLink</code> component to do that! Again, this is called <em>component composition</em>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// OwnersList.js</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="im">import</span> OwnerLink <span class="im">from</span> <span class="st">&#39;./OwnerLink&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">const</span> OwnersList <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="co">/**</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">   * Use the OwnerLink component, too!</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">   */</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb6-12" title="12"></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="im">export</span> <span class="im">default</span> OwnersList<span class="op">;</span></a></code></pre></div>
<h3 id="putting-the-list-and-details-together">Putting the list and details together</h3>
<p>If you create the <code>PetInformationItem</code> and the <code>OwnerLink</code> component, then you will want to use them in your <code>PetDetail</code> component. That is as easy as using the <code>import</code> statement to allow them to be used by that code.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// PetDetail.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="im">import</span> OwnersList <span class="im">from</span> <span class="st">&#39;./OwnersList&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="im">import</span> PetInformationItem <span class="im">from</span> <span class="st">&#39;./PetInformationItem&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="kw">const</span> PetDetail <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-7" title="7">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9">  <span class="co">/**</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">   * Use the OwnersList and PetInformationItem</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">   * components, too!</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">   */</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb7-14" title="14"></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="im">export</span> <span class="im">default</span> PetDetail<span class="op">;</span></a></code></pre></div>
<h2 id="putting-it-all-together">Putting it all together</h2>
<p>Once you have all of those components, you would create one more component, the top-level “page” component, that would render the <code>Navigation</code> and <code>PetDetail</code> components.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// PetDetailPage.js</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="im">import</span> Navigation <span class="im">from</span> <span class="st">&#39;./Navigation&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="im">import</span> PetDetail <span class="im">from</span> <span class="st">&#39;./PetDetail&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="kw">const</span> PetDetailPage <span class="op">=</span> props <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="co">/* some cool React code here */</span></a>
<a class="sourceLine" id="cb8-8" title="8"></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="co">/**</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">   * Use the Navigation and PetDetail</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">   * components, too!</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">   */</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-14" title="14"></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="im">export</span> <span class="im">default</span> PetDetailPage<span class="op">;</span></a></code></pre></div>
<p>The final analysis in this breakdown of “components” to “think in React” looks like this.</p>
<figure>
<img src="images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /><figcaption>Petrack final analysis</figcaption>
</figure>
<p>You can see each of the components that were described in this article. You can also see how the <code>PetInformationItem</code> and <code>OwnerLink</code> components get used multiple times on the page.</p>
<h2 id="there-is-probably-more">There is probably more</h2>
<p>Take a look at this, again, and think about if there is any “missing” component before continuing.</p>
<figure>
<img src="images/pettrack-pet-detail-all-components.png" alt="Petrack final analysis" /><figcaption>Petrack final analysis</figcaption>
</figure>
<p>You could also create a <code>PetDetailList</code> component, if you want, that would manage the “Details” header and the definition list. That would reflect the same structure that the <code>OwnersList</code> has, a component responsible for generating a header and a list. In the following walk through articles, the <code>PetDetailList</code> component will also be included in the development.</p>
<h2 id="what-youve-seen">What you’ve seen</h2>
<p>This is thinking in React. Looking at a Web page and deciding what parts of it belong in sections, what parts are repeated, and how to group them all together. The React documentation calls this <a href="https://reactjs.org/docs/thinking-in-react.html#step-1-break-the-ui-into-a-component-hierarchy">breaking the UI into a component hierarchy</a>. That link is to a section in the React documentation entitled <em>Thinking in React</em>. That section performs the same exercise that this article performed, but with a lot fewer words and pictures.</p>
<p>In the upcoming exercises, you will create these components in a couple of ways. The first way is the hard way, but shows you how React works under the covers. The second way uses the fancy JSX language to make it easier for you.</p>
