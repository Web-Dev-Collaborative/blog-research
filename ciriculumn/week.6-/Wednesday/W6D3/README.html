<h1 id="async-and-await"><code>async</code> and <code>await</code></h1>
<p><code>async</code>/<code>await</code> allows us to make <code>Promise</code>s synchronous with other code.</p>
<p><code>async</code> is a keyword that is used in front of a <code>function</code> definition to make the <code>function</code> return a <code>Promise</code> and allow it to use the <code>await</code> keyword - once all the lines of code are executed in the <code>async</code> function, it will change the returned <code>Promise</code> to be <code>resolve</code>d</p>
<p><code>async</code>/<code>await</code> are keywords that we need to use together and should not be used without each other.</p>
<p><code>await</code> is used in front of a <code>Promise</code> in an <code>async function</code>. - It should not be used in front of a line of code that isn’t a <code>Promise</code> - evaluates to the result of the <code>await</code>ed <code>Promise</code> (or what the <code>Promise</code>’s <code>resolve</code> value is)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> myPromise <span class="op">=</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="at">setTimeout</span>(() <span class="kw">=&gt;</span> <span class="at">resolve</span>(<span class="dv">3</span>)<span class="op">,</span> <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">async</span> <span class="kw">function</span> <span class="at">asyncFunc</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;before await&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8">  <span class="kw">const</span> res <span class="op">=</span> <span class="cf">await</span> myPromise<span class="op">;</span> <span class="co">// res = 3</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;after await&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="at">asyncFunc</span>() <span class="co">// returns Promise pending until all lines of code have been executed</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">// before await</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">// 3</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">// after await (waits for myPromise to resolve)</span></a></code></pre></div>
<h2 id="learning-objectives">Learning Objectives</h2>
<ol type="1">
<li>Use <code>async</code>/<code>await</code> with promise-based functions to write asynchronous code that behaves synchronously.</li>
</ol>
