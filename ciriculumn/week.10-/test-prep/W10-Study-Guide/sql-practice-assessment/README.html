<p>In this assessment, you will create:</p>
<ul>
<li>A database user with a password</li>
<li>A database owned by that user</li>
<li>Some tables</li>
</ul>
<p>Then, you will write a SQL file that will insert data into the tables.</p>
<p>Then, you will write a SQL file that contains a SQL statement that joins the tables together.</p>
<p>There’s an image in the “images” directory that shows the picture of the data model.</p>
<p>There are mocha tests that determine if it can connect to the database with the specified user name, password, and database name. Then, it checks the tables to make sure that they have the structure specified.</p>
<h1 id="get-started">Get Started</h1>
<ul>
<li>Run <code>npm install</code>.</li>
<li>Run the tests with “npm test”.</li>
</ul>
<h1 id="step-1">Step 1</h1>
<p>Create a database user named “merchant_app” with the password “bhKx5P6V”. There is no file for this. Just do it for your local installation of PostgreSQL. The tests assume that it exists.</p>
<h1 id="step-2">Step 2</h1>
<p>Create a database named “merchant_development” with the owner “merchant_app”. There is no file for this. Just do it for your local installation of PostgreSQL. The tests assume that it exists.</p>
<h1 id="step-3">Step 3</h1>
<p>Create the following tables in the database. Write the CREATE TABLE statements in the files that match the table name. For example, in the “create-users-table.sql”, write the CREATE TABLE statement for the “users” table.</p>
<p>The tests will drop all of the tables run the table creation for you automatically.</p>
<p>Do these in order.</p>
<p>The “PK, NOT NULL” specification means it should be a primary key. The “FK” specification means it should be a foreign key. All columns will be “NOT NULL”.</p>
<ul>
<li><p>The “users” table | Column name | Column type | Constraints | |————-|————–|————–| | id | SERIAL | PK, NOT NULL | | full_name | VARCHAR(255) | NOT NULL | | created_at | TIMESTAMP | NOT NULL |</p></li>
<li><p>The “merchant_types” table</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th>Column name</th>
<th>Column type</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>SERIAL</td>
<td>PK, NOT NULL</td>
</tr>
<tr class="even">
<td>type</td>
<td>VARCHAR(20)</td>
<td>NOT NULL</td>
</tr>
</tbody>
</table>
<ul>
<li>The “countries” table</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Column name</th>
<th>Column type</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>SERIAL</td>
<td>PK, NOT NULL</td>
</tr>
<tr class="even">
<td>name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
</tr>
<tr class="odd">
<td>continent_name</td>
<td>VARCHAR(20)</td>
<td>NOT NULL</td>
</tr>
</tbody>
</table>
<ul>
<li>The “merchants” table</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Column name</th>
<th>Column type</th>
<th>Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>id</td>
<td>SERIAL</td>
<td>PK, NOT NULL</td>
</tr>
<tr class="even">
<td>merchant_name</td>
<td>VARCHAR(255)</td>
<td>NOT NULL</td>
</tr>
<tr class="odd">
<td>country_id</td>
<td>INTEGER</td>
<td>FK, NOT NULL</td>
</tr>
<tr class="even">
<td>created_at</td>
<td>TIMESTAMP</td>
<td>NOT NULL</td>
</tr>
<tr class="odd">
<td>admin_id</td>
<td>INTEGER</td>
<td>FK (to users id), NOT NULL</td>
</tr>
<tr class="even">
<td>merchant_type_id</td>
<td>INTEGER</td>
<td>FK, NOT NULL</td>
</tr>
</tbody>
</table>
<p>You can run just the table tests to make sure your CREATEs are correct.</p>
<p>npm test – -g “when created”</p>
<h1 id="step-4">Step 4</h1>
<p>Create INSERT statements for the four tables in each of the four files provided for you. Here is the data that you should include. Don’t insert more data than what is here. Otherwise, the tests in the next section will fail.</p>
<ul>
<li>The “users” table</li>
</ul>
<p>This is not going to be tested. The SQL that you write will. You’ll need this data for your SQL statements to work correctly.</p>
<table>
<thead>
<tr class="header">
<th>full_name</th>
<th>created_at</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‘Zaphod Beeblebrox’</td>
<td>CURRENT_TIMESTAMP</td>
</tr>
<tr class="even">
<td>‘Blart Versenwald III’ **</td>
<td>CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p>**</p>
<ul>
<li>The “merchant_types” table</li>
</ul>
<table>
<thead>
<tr class="header">
<th>type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‘Retail’</td>
</tr>
<tr class="even">
<td>‘Wholesale’</td>
</tr>
</tbody>
</table>
<ul>
<li>The “countries” table</li>
</ul>
<table>
<thead>
<tr class="header">
<th>name</th>
<th>continent_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‘Brazil’</td>
<td>‘South America’</td>
</tr>
<tr class="even">
<td>‘China’</td>
<td>‘Asia’</td>
</tr>
<tr class="odd">
<td>‘USA’</td>
<td>‘North America’</td>
</tr>
</tbody>
</table>
<ul>
<li>The “merchants” table</li>
</ul>
<p>In this section, the foreign keys are not specified by numbers. They show, in parentheses, the unique value from a row in the seed data, above. Depending on how you insert them, they may have different ids. Figure out what the id will be for it and put that in your SQL INSERT statement for “merchants”.</p>
<p>For example, if you insert “Brazil” first in your insert-countries-data.sql file, then you will use 1 as the country_id for (Brazil) below.</p>
<p>The tests will drop and recreate the tables on each test, so the values should be stable.</p>
<table>
<thead>
<tr class="header">
<th>merchant_name</th>
<th>country_id</th>
<th>created_at</th>
<th>admin_id</th>
<th>merchant_type_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‘Zingo’</td>
<td>(Brazil)</td>
<td>CURRENT_TIMESTAMP</td>
<td>(Zaphod)</td>
<td>(Retail)</td>
</tr>
<tr class="even">
<td>‘Widgets International’</td>
<td>(China)</td>
<td>CURRENT_TIMESTAMP</td>
<td>(Blart)</td>
<td>(Wholesale)</td>
</tr>
<tr class="odd">
<td>‘Snglrify’</td>
<td>(USA)</td>
<td>CURRENT_TIMESTAMP</td>
<td>(Zaphod)</td>
<td>(Retail)</td>
</tr>
<tr class="even">
<td>‘Better Products 4 U’</td>
<td>(USA)</td>
<td>CURRENT_TIMESTAMP</td>
<td>(Zaphod)</td>
<td>(Wholesale)</td>
</tr>
</tbody>
</table>
<ul>
<li>Step 5</li>
</ul>
<p>Write a SQL statement in joined-data-query.sql that returns the following data by JOINing the tables:</p>
<ul>
<li>users.full_name</li>
<li>merchant_types.type</li>
<li>countries.name</li>
<li>merchants.merchant_name</li>
</ul>
<p>Order the records on the merchant_name column.</p>
<p>The result should look like this.</p>
<table>
<thead>
<tr class="header">
<th>full_name</th>
<th>type</th>
<th>name</th>
<th>merchant_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Zaphod Beeblebrox</td>
<td>Wholesale</td>
<td>USA</td>
<td>Better Products 4 U</td>
</tr>
<tr class="even">
<td>Zaphod Beeblebrox</td>
<td>Retail</td>
<td>USA</td>
<td>Snglrify</td>
</tr>
<tr class="odd">
<td>Blart Versenwald III</td>
<td>Wholesale</td>
<td>China</td>
<td>Widgets International</td>
</tr>
<tr class="even">
<td>Zaphod Beeblebrox</td>
<td>Retail</td>
<td>Brazil</td>
<td>Zingo</td>
</tr>
</tbody>
</table>
