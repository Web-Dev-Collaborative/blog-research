<h1 id="stored-credentials">stored-credentials</h1>
<p><strong>Although this add-on uses a stored password to authenticate to a web server, it should not be taken as an example of how to store or work securely with passwords. It’s only a demonstration of how to use the <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/webRequest/onAuthRequired"><code>webRequest.onAuthRequired</code></a> API.</strong></p>
<p>This add-on uses the <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/webRequest/onAuthRequired"><code>webRequest.onAuthRequired</code></a> API to log the user into the demo site at https://httpbin.org/basic-auth/user/passwd using a stored username and password.</p>
<p>This add-on stores a username and password using the <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/storage/local"><code>storage.local</code></a> API. The default value is the correct value for the demo site:</p>
<pre><code>username: &quot;user&quot;
password: &quot;passwd&quot;</code></pre>
<p>You can change the default values in the add-on’s <a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Options_pages">options page</a>.</p>
<p>The add-on then uses <code>webRequest.onAuthRequired</code> to intercept authentication requests from the demo site. When it gets such a request, it fetches the stored credentials and supplies them asynchronously.</p>
<p>To try out the add-on:</p>
<ul>
<li>Before installing the add-on, visit https://httpbin.org/basic-auth/user/passwd, and see that it asks for a username and password.</li>
<li><a href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Temporary_Installation_in_Firefox">Install the add-on</a> in Firefox 54 or later.</li>
<li>Visit https://httpbin.org/basic-auth/user/passwd again, and see that authentication succeeds automatically.</li>
</ul>
